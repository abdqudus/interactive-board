(()=>{var e={};e.id=684,e.ids=[684],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},11825:()=>{},58359:()=>{},93739:()=>{},42414:(e,t,i)=>{"use strict";i.r(t),i.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>f,pages:()=>d,routeModule:()=>g,tree:()=>p});var r=i(50482),a=i(69108),s=i(62563),o=i.n(s),l=i(68300),u={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(u[e]=()=>l[e]);i.d(t,u);let p=["",{children:["room",{children:["[roomId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(i.bind(i,20520)),"C:\\Users\\abdqudus\\Desktop\\projects\\video\\app\\room\\[roomId]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(i.bind(i,82917)),"C:\\Users\\abdqudus\\Desktop\\projects\\video\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(i.t.bind(i,69361,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\abdqudus\\Desktop\\projects\\video\\app\\room\\[roomId]\\page.tsx"],f="/room/[roomId]/page",m={require:i,loadChunk:()=>Promise.resolve()},g=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/room/[roomId]/page",pathname:"/room/[roomId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:p}})},87586:()=>{},14883:(e,t,i)=>{Promise.resolve().then(i.bind(i,51361))},8409:(e,t,i)=>{Promise.resolve().then(i.t.bind(i,2583,23)),Promise.resolve().then(i.t.bind(i,26840,23)),Promise.resolve().then(i.t.bind(i,38771,23)),Promise.resolve().then(i.t.bind(i,13225,23)),Promise.resolve().then(i.t.bind(i,9295,23)),Promise.resolve().then(i.t.bind(i,43982,23))},36153:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var r=i(95344);i(3729);let a=e=>{let{session:t,owner:i,isRoom:a,room:s,isLoadingRoom:o,participantCount:l}=e,u=a&&s?.name,p=a&&!o,d=i?.id===t?.user.id;return r.jsx("nav",{className:"bg-white z-20 border border-slate-200 w-full p-4",children:(0,r.jsxs)("div",{className:"mx-auto flex justify-between items-center",children:[(0,r.jsxs)("section",{className:"flex gap-2 items-center",children:[r.jsx("a",{href:"/",className:"text-lg font-semibold md:text-2xl text-blue-500",children:"Guess Draw"}),u&&(0,r.jsxs)("div",{className:"hidden md:flex  gap-2",children:[r.jsx("span",{className:"text-slate-400",children:"\xb7"}),r.jsx("h3",{className:"text-slate-500",children:s?.name})]}),p&&(0,r.jsxs)("div",{className:"hidden md:flex  gap-2",children:[r.jsx("span",{className:"text-slate-400",children:"\xb7"}),r.jsx("span",{className:"rounded-full text-xs font-medium bg-green-100 py-1 px-2 text-green-600",children:s?.isPublic?"Public":"Private"})]}),i&&(0,r.jsxs)("div",{className:"hidden lg:flex gap-2",children:[r.jsx("span",{className:"text-slate-400",children:"\xb7"}),(0,r.jsxs)("h3",{className:"text-slate-500",children:["Owned by ",i?.user_metadata?.userName," ",d&&r.jsx(r.Fragment,{children:"(You)"})]})]}),l?(0,r.jsxs)("div",{className:"hidden md:flex  gap-2",children:[r.jsx("span",{className:"text-slate-400",children:"\xb7"}),(0,r.jsxs)("h3",{className:"text-slate-500",children:[l," participants"]})]}):null,!a&&t&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("span",{className:"text-slate-400",children:"\xb7"}),(0,r.jsxs)("h3",{className:"text-slate-500",children:["Welcome back @",t?.user?.user_metadata?.userName]})]})]}),(0,r.jsxs)("section",{className:"flex items-center gap-2",children:[a&&(0,r.jsxs)("a",{href:"/",target:"_blank",className:"flex items-center font-semibold text-sm px-2.5 py-2 rounded-full gap-1 bg-blue-600 text-white hover:bg-blue-500",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})}),r.jsx("span",{children:"Dashboard"})]}),r.jsx("div",{className:"h-10 w-10 overflow-hidden rounded-full",style:{background:t?.user?.user_metadata?.userColor}})]})]})})}},76329:(e,t,i)=>{"use strict";i.d(t,{O:()=>s,c:()=>o});var r=i(48215);let a="https://ybxbwpwzpqtkqzytfjol.supabase.co",s=(0,r.eI)(a,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlieGJ3cHd6cHF0a3F6eXRmam9sIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDc3NDM0MzYsImV4cCI6MjAyMzMxOTQzNn0.JrNuycBKUf7-vMglBmuCY9kfSM8kwtMkIxibuonEAWE"),o=(0,r.eI)(a,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlieGJ3cHd6cHF0a3F6eXRmam9sIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTcwNzc0MzQzNiwiZXhwIjoyMDIzMzE5NDM2fQ.PbNJ-I_loVTNYB0ScLrvSh-y4oH2QU_V1glI2CrxsPI",{auth:{autoRefreshToken:!1,persistSession:!1}}).auth.admin},51361:(e,t,i)=>{"use strict";let r,a,s,o,l,u,p,d,f;i.r(t),i.d(t,{default:()=>Tr});var m,g,b,v,y,x,w,k,_,S,T,C,E,R,j,I,O,P,N,A,D,L,U,M,F,$,B,q,V,z,W,H,G,K={};i.r(K),i.d(K,{fixNegotiationNeeded:()=>eR,shimAddTrackRemoveTrack:()=>eC,shimAddTrackRemoveTrackWithNative:()=>eT,shimGetDisplayMedia:()=>ey,shimGetSendersWithDtmf:()=>ek,shimGetStats:()=>e_,shimGetUserMedia:()=>ev,shimMediaStream:()=>ex,shimOnTrack:()=>ew,shimPeerConnection:()=>eE,shimSenderReceiverGetStats:()=>eS});var Y={};i.r(Y),i.d(Y,{shimAddTransceiver:()=>eU,shimCreateAnswer:()=>e$,shimCreateOffer:()=>eF,shimGetDisplayMedia:()=>eI,shimGetParameters:()=>eM,shimGetUserMedia:()=>ej,shimOnTrack:()=>eO,shimPeerConnection:()=>eP,shimRTCDataChannel:()=>eL,shimReceiverGetStats:()=>eA,shimRemoveStream:()=>eD,shimSenderGetStats:()=>eN});var J={};i.r(J),i.d(J,{shimAudioContext:()=>eY,shimCallbacksAPI:()=>eV,shimConstraints:()=>eW,shimCreateOfferLegacy:()=>eK,shimGetUserMedia:()=>ez,shimLocalStreamsAPI:()=>eB,shimRTCIceServerUrls:()=>eH,shimRemoteStreamsAPI:()=>eq,shimTrackEventTransceiver:()=>eG});var X={};i.r(X),i.d(X,{removeExtmapAllowMixed:()=>e3,shimAddIceCandidateNullOrEmpty:()=>e4,shimConnectionState:()=>e2,shimMaxMessageSize:()=>e0,shimParameterlessSetLocalDescription:()=>e6,shimRTCIceCandidate:()=>eQ,shimRTCIceCandidateRelayProtocol:()=>eZ,shimSendThrowTypeError:()=>e1});var Q={};i.r(Q),i.d(Q,{hasBrowserEnv:()=>iE,hasStandardBrowserEnv:()=>iR,hasStandardBrowserWebWorkerEnv:()=>ij});var Z=i(95344),ee=i(3729),et=i.t(ee,2),ei=i(62218),en=i(8428),er=i(85067),ea=i(36153);let es=["#000000","#FF0000","#00FF00","#0000FF","#FFFF00"],eo=[{size:1,height:10,width:10},{size:2,height:15,width:15},{size:5,height:20,width:20},{size:10,height:25,width:25},{size:15,height:30,width:30},{size:20,height:35,width:35},{size:50,height:40,width:40}],ec=e=>{let{drawingPen:t,setDrawingPen:i}=e,[r,a]=(0,ee.useState)(!1),[s,o]=(0,ee.useState)("");return(0,Z.jsxs)("div",{className:"fixed z-10 bottom-0 border-t mx-auto w-full justify-center items-center flex xl:w-auto xl:relative xl:flex-col gap-10 xl:justify-start bg-white xl:rounded-sm p-4",children:[(0,Z.jsxs)("div",{className:"xl:flex flex-col max-w-[100px] gap-10  bg-white rounded-lg",children:[Z.jsx("div",{className:"cursor-pointer flex items-center justify-center h-10 w-10 rounded-full border border-slate-400 opacity-90",style:{background:t.color},children:Z.jsx("input",{type:"color",value:t.color,onChange:e=>{i(t=>({...t,color:e.target.value}))},className:"appearance-none bg-transparent opacity-90 cursor-pointer border-none h-10 w-10 [&::-webkit-color-swatch]:rounded-full [&::-webkit-color-swatch]:border-none"})}),es.map(e=>Z.jsx("div",{className:"hidden xl:flex cursor-pointer h-10 w-10 rounded-full border border-slate-400 opacity-90",style:{background:e},onClick:()=>{i(t=>({...t,color:e}))}},e))]}),(0,Z.jsxs)("div",{className:"relative group",children:[Z.jsx("div",{className:"cursor-pointer rounded-full border border-slate-400 text-slate-800 opacity-90 h-10 w-10 flex items-center justify-center group-hover:bg-slate-300",children:Z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4 2.245 4.5 4.5 0 008.4-2.245c0-.399-.078-.78-.22-1.128zm0 0a15.998 15.998 0 003.388-1.62m-5.043-.025a15.994 15.994 0 011.622-3.395m3.42 3.42a15.995 15.995 0 004.764-4.648l3.876-5.814a1.151 1.151 0 00-1.597-1.597L14.146 6.32a15.996 15.996 0 00-4.649 4.763m3.42 3.42a6.776 6.776 0 00-3.42-3.42"})})}),Z.jsx("div",{className:"hidden absolute z-10 bottom-10 p-3 rounded-lg border bg-slate-700 justify-center gap-2.5 items-center group-hover:flex flex-col",children:eo.map(({size:e,width:r,height:a})=>(0,Z.jsxs)("div",{className:"flex gap-2 items-center text-slate-200 justify-start",children:[Z.jsx("span",{className:"text-xs",children:e}),Z.jsx("div",{className:"cursor-pointer rounded-full border border-slate-200 opacity-90",style:{width:r,height:a,background:t.size===e?t.color:"transparent"},onClick:()=>{i(t=>({...t,size:Number(e)}))}})]},e))})]}),Z.jsx("div",{className:"cursor-pointer rounded-full border border-slate-400 text-slate-800 opacity-90 h-10 w-10 flex items-center justify-center",style:{background:r?"#cbd5e1":"transparent"},onClick:()=>{r?(i(e=>({...e,color:s})),a(!1)):(o(t.color),i(e=>({...e,color:"#ffffff"})),a(!0))},children:Z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:Z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 7.5A2.25 2.25 0 017.5 5.25h9a2.25 2.25 0 012.25 2.25v9a2.25 2.25 0 01-2.25 2.25h-9a2.25 2.25 0 01-2.25-2.25v-9z"})})})]})};var el=i(76329);let eu=function(e){let{room:t,drawingPen:i}=e,r="cursor",[a,s]=(0,ee.useState)(),[o,l]=(0,ee.useState)(!1),[u,p]=(0,ee.useState)(null),[d,f]=(0,ee.useState)(null),m=(0,ee.useRef)(null),g=(0,ee.useRef)(null),b=(0,ee.useRef)([]),v=document.querySelector("#board"),y=async e=>{if(b.current.includes(e)||document.getElementById(e+"-cursor"))return;let t=document.createElement("div"),i=document.createElement("svg");i.innerHTML=`
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cursor-fill" viewBox="0 0 16 16">  
  <path d="M14.082 2.182a.5.5 0 0 1 .103.557L8.528 15.467a.5.5 0 0 1-.917-.007L5.57 10.694.803 8.652a.5.5 0 0 1-.006-.916l12.728-5.657a.5.5 0 0 1 .556.103z"/>
</svg>
`,t.id=e+"-cursor",t.classList.add("h-4","w-4","absolute","z-50","-scale-x-100");let{user:r}=await (0,ei.Mi)(e);t.style.color=r?.user_metadata?.userColor,t.appendChild(i),m&&m.current.appendChild(t),b.current.push(e)},x=({payload:e})=>{let{userId:t,x:i,y:r}=e||{},a=document.getElementById(t+"-cursor");a?(a.style.left=i+"px",a.style.top=r+"px"):y(t)},w=(e,t,i,a)=>e.send({type:"broadcast",event:r,payload:{userId:t,x:i,y:a}});return(0,ee.useEffect)(()=>{m?.current?.addEventListener("mousemove",e=>{if(o&&u){let t=document.querySelector("#container").getBoundingClientRect(),i=e.clientX-t.left,r=e.clientY-t.top;w(u,a?.user?.id,i,r)}})},[o,u,a?.user?.id]),(0,ee.useEffect)(()=>{u&&u.on("broadcast",{event:r},e=>{x(e)}).subscribe()},[u]),(0,ee.useEffect)(()=>{if(o&&t.id){let e=el.O;p(e.channel(t.id)),e.channel("any").on("postgres_changes",{event:"*",schema:"public",table:"drawing-rooms"},e=>{f(e.new.drawing)}).subscribe()}},[o,t.id]),(0,ee.useEffect)(()=>{(0,ei.cw)().then(e=>{e?.user?.id?(s(e),l(!0)):l(!1)})},[a?.user?.id,a?.user?.user_metadata?.userColor]),(0,ee.useEffect)(()=>{t.drawing&&f(t.drawing)},[t.drawing]),(0,ee.useEffect)(()=>{if(!v)return;let e=document.querySelector("#sketch"),r=getComputedStyle(e);v.width=parseInt(r.getPropertyValue("width")),v.height=parseInt(r.getPropertyValue("height"));let a={x:0,y:0},s={x:0,y:0},o=()=>{let e=v.getBoundingClientRect();return{left:e.left,top:e.top}},l=v.getContext("2d");if(!l)return;if(l.lineJoin="round",l.lineCap="round",l.lineWidth=i.size,l.strokeStyle=i.color,d){let e=new Image;e.onload=()=>{l.drawImage(e,0,0)},e.src=d}let u=()=>{l.beginPath(),l.moveTo(s.x,s.y),l.lineTo(a.x,a.y),l.closePath(),l.stroke(),null!==g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{let e=v.toDataURL("image/png");(0,er.Dv)(t?.id,e)},1e3)};v.addEventListener("mousemove",e=>{let t=o();s.x=a.x,s.y=a.y,a.x=e.clientX-t.left,a.y=e.clientY-t.top}),v.addEventListener("mousedown",()=>{v.addEventListener("mousemove",u)}),v.addEventListener("mouseup",()=>{v.removeEventListener("mousemove",u)})},[t?.id,d,t.drawing,v]),(0,ee.useEffect)(()=>{if(!v)return;let e=v.getContext("2d");e&&(e.lineWidth=i.size,e.strokeStyle=i.color)},[i.size,i.color,v]),Z.jsx("div",{className:"my-auto w-full h-full border p-2",children:Z.jsx("div",{className:"w-full h-full relative",id:"sketch",ref:m,children:Z.jsx("div",{id:"container",className:"w-full h-full",children:Z.jsx("canvas",{className:"w-full h-full",id:"board"})})})})},ep=e=>{let{room:t}=e,[i,r]=(0,ee.useState)({color:"#000000",size:5});return(0,Z.jsxs)("section",{className:"relative flex flex-col xl:flex-row gap-1 bg-white h-screen",children:[Z.jsx(ec,{drawingPen:i,setDrawingPen:r}),Z.jsx(eu,{drawingPen:i,room:t})]})},ed=!0;function eh(e,t,i){let r=e.match(t);return r&&r.length>=i&&parseInt(r[i],10)}function ef(e,t,i){if(!e.RTCPeerConnection)return;let r=e.RTCPeerConnection.prototype,a=r.addEventListener;r.addEventListener=function(e,r){if(e!==t)return a.apply(this,arguments);let s=e=>{let t=i(e);t&&(r.handleEvent?r.handleEvent(t):r(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(r,s),a.apply(this,[e,s])};let s=r.removeEventListener;r.removeEventListener=function(e,i){if(e!==t||!this._eventMap||!this._eventMap[t]||!this._eventMap[t].has(i))return s.apply(this,arguments);let r=this._eventMap[t].get(i);return this._eventMap[t].delete(i),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,s.apply(this,[e,r])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}function em(e,t){ed&&console.warn(e+" is deprecated, please use "+t+" instead.")}function eg(e){return"[object Object]"===Object.prototype.toString.call(e)}function eb(e,t,i){let r=i?"outbound-rtp":"inbound-rtp",a=new Map;if(null===t)return a;let s=[];return e.forEach(e=>{"track"===e.type&&e.trackIdentifier===t.id&&s.push(e)}),s.forEach(t=>{e.forEach(i=>{i.type===r&&i.trackId===t.id&&function e(t,i,r){!i||r.has(i.id)||(r.set(i.id,i),Object.keys(i).forEach(a=>{a.endsWith("Id")?e(t,t.get(i[a]),r):a.endsWith("Ids")&&i[a].forEach(i=>{e(t,t.get(i),r)})}))}(e,i,a)})}),a}function ev(e,t){let i=e&&e.navigator;if(!i.mediaDevices)return;let r=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;let t={};return Object.keys(e).forEach(i=>{if("require"===i||"advanced"===i||"mediaSource"===i)return;let r="object"==typeof e[i]?e[i]:{ideal:e[i]};void 0!==r.exact&&"number"==typeof r.exact&&(r.min=r.max=r.exact);let a=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];let e={};"number"==typeof r.ideal?(e[a("min",i)]=r.ideal,t.optional.push(e),(e={})[a("max",i)]=r.ideal):e[a("",i)]=r.ideal,t.optional.push(e)}void 0!==r.exact&&"number"!=typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[a("",i)]=r.exact):["min","max"].forEach(e=>{void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[a(e,i)]=r[e])})}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},a=function(e,a){if(t.version>=61)return a(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){let t=function(e,t,i){t in e&&!(i in e)&&(e[i]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),t(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=r(e.audio)}if(e&&"object"==typeof e.video){let s=e.video.facingMode;s=s&&("object"==typeof s?s:{ideal:s});let o=t.version<66;if(s&&("user"===s.exact||"environment"===s.exact||"user"===s.ideal||"environment"===s.ideal)&&!(i.mediaDevices.getSupportedConstraints&&i.mediaDevices.getSupportedConstraints().facingMode&&!o)){let t;if(delete e.video.facingMode,"environment"===s.exact||"environment"===s.ideal?t=["back","rear"]:("user"===s.exact||"user"===s.ideal)&&(t=["front"]),t)return i.mediaDevices.enumerateDevices().then(i=>{let o=(i=i.filter(e=>"videoinput"===e.kind)).find(e=>t.some(t=>e.label.toLowerCase().includes(t)));return!o&&i.length&&t.includes("back")&&(o=i[i.length-1]),o&&(e.video.deviceId=s.exact?{exact:o.deviceId}:{ideal:o.deviceId}),e.video=r(e.video),JSON.stringify(e),a(e)})}e.video=r(e.video)}return JSON.stringify(e),a(e)},s=function(e){return t.version>=64?e:{name:({PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"})[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(i.getUserMedia=(function(e,t,r){a(e,e=>{i.webkitGetUserMedia(e,t,e=>{r&&r(s(e))})})}).bind(i),i.mediaDevices.getUserMedia){let e=i.mediaDevices.getUserMedia.bind(i.mediaDevices);i.mediaDevices.getUserMedia=function(t){return a(t,t=>e(t).then(e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach(e=>{e.stop()}),new DOMException("","NotFoundError");return e},e=>Promise.reject(s(e))))}}}function ey(e,t){if((!e.navigator.mediaDevices||!("getDisplayMedia"in e.navigator.mediaDevices))&&e.navigator.mediaDevices){if("function"!=typeof t){console.error("shimGetDisplayMedia: getSourceId argument is not a function");return}e.navigator.mediaDevices.getDisplayMedia=function(i){return t(i).then(t=>{let r=i.video&&i.video.width,a=i.video&&i.video.height,s=i.video&&i.video.frameRate;return i.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:s||3}},r&&(i.video.mandatory.maxWidth=r),a&&(i.video.mandatory.maxHeight=a),e.navigator.mediaDevices.getUserMedia(i)})}}}function ex(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function ew(e){if("object"!=typeof e||!e.RTCPeerConnection||"ontrack"in e.RTCPeerConnection.prototype)ef(e,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e));else{Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});let t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener("addtrack",i=>{let r;r=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===i.track.id):{track:i.track};let a=new Event("track");a.track=i.track,a.receiver=r,a.transceiver={receiver:r},a.streams=[t.stream],this.dispatchEvent(a)}),t.stream.getTracks().forEach(i=>{let r;r=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===i.id):{track:i};let a=new Event("track");a.track=i,a.receiver=r,a.transceiver={receiver:r},a.streams=[t.stream],this.dispatchEvent(a)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}}function ek(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){let t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};let i=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){let a=i.apply(this,arguments);return a||(a=t(this,e),this._senders.push(a)),a};let r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){r.apply(this,arguments);let t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}let i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],i.apply(this,[e]),e.getTracks().forEach(e=>{this._senders.push(t(this,e))})};let r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],r.apply(this,[e]),e.getTracks().forEach(e=>{let t=this._senders.find(t=>t.track===e);t&&this._senders.splice(this._senders.indexOf(t),1)})}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){let t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function e_(e){if(!e.RTCPeerConnection)return;let t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){let[e,i,r]=arguments;if(arguments.length>0&&"function"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0==arguments.length||"function"!=typeof e))return t.apply(this,[]);let a=function(e){let t={};return e.result().forEach(e=>{let i={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach(t=>{i[t]=e.stat(t)}),t[i.id]=i}),t},s=function(e){return new Map(Object.keys(e).map(t=>[t,e[t]]))};return arguments.length>=2?t.apply(this,[function(e){i(s(a(e)))},e]):new Promise((e,i)=>{t.apply(this,[function(t){e(s(a(t)))},i])}).then(i,r)}}function eS(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){let t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e});let i=e.RTCPeerConnection.prototype.addTrack;i&&(e.RTCPeerConnection.prototype.addTrack=function(){let e=i.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){let e=this;return this._pc.getStats().then(t=>eb(t,e.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){let t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),ef(e,"track",e=>(e.receiver._pc=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){let e=this;return this._pc.getStats().then(t=>eb(t,e.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;let t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){let e,t,i;let r=arguments[0];return(this.getSenders().forEach(t=>{t.track===r&&(e?i=!0:e=t)}),this.getReceivers().forEach(e=>(e.track===r&&(t?i=!0:t=e),e.track===r)),i||e&&t)?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):e?e.getStats():t?t.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function eT(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(e=>this._shimmedLocalStreams[e][0])};let t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,i){if(!i)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};let r=t.apply(this,arguments);return this._shimmedLocalStreams[i.id]?-1===this._shimmedLocalStreams[i.id].indexOf(r)&&this._shimmedLocalStreams[i.id].push(r):this._shimmedLocalStreams[i.id]=[i,r],r};let i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException("Track already exists.","InvalidAccessError")});let t=this.getSenders();i.apply(this,arguments);let r=this.getSenders().filter(e=>-1===t.indexOf(e));this._shimmedLocalStreams[e.id]=[e].concat(r)};let r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],r.apply(this,arguments)};let a=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach(t=>{let i=this._shimmedLocalStreams[t].indexOf(e);-1!==i&&this._shimmedLocalStreams[t].splice(i,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]}),a.apply(this,arguments)}}function eC(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return eT(e);let i=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){let e=i.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map(e=>this._reverseStreams[e.id])};let r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[t.id]){let i=new e.MediaStream(t.getTracks());this._streams[t.id]=i,this._reverseStreams[i.id]=t,t=i}r.apply(this,[t])};let a=e.RTCPeerConnection.prototype.removeStream;function s(e,t){let i=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(t=>{let r=e._reverseStreams[t],a=e._streams[r.id];i=i.replace(RegExp(a.id,"g"),r.id)}),new RTCSessionDescription({type:t.type,sdp:i})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},a.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,i){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");let r=[].slice.call(arguments,1);if(1!==r.length||!r[0].getTracks().find(e=>e===t))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(e=>e.track===t))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};let a=this._streams[i.id];if(a)a.addTrack(t),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{let r=new e.MediaStream([t]);this._streams[i.id]=r,this._reverseStreams[r.id]=i,this.addStream(r)}return this.getSenders().find(e=>e.track===t)},["createOffer","createAnswer"].forEach(function(t){let i=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=({[t](){let e=arguments,t=arguments.length&&"function"==typeof arguments[0];return t?i.apply(this,[t=>{let i=s(this,t);e[0].apply(null,[i])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):i.apply(this,arguments).then(e=>s(this,e))}})[t]});let o=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){var e,t;let i;return arguments.length&&arguments[0].type&&(arguments[0]=(e=this,t=arguments[0],i=t.sdp,Object.keys(e._reverseStreams||[]).forEach(t=>{let r=e._reverseStreams[t],a=e._streams[r.id];i=i.replace(RegExp(r.id,"g"),a.id)}),new RTCSessionDescription({type:t.type,sdp:i}))),o.apply(this,arguments)};let l=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){let e=l.get.apply(this);return""===e.type?e:s(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){let t;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{},Object.keys(this._streams).forEach(i=>{this._streams[i].getTracks().find(t=>e.track===t)&&(t=this._streams[i])}),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function eE(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){let i=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=({[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}})[t]})}function eR(e,t){ef(e,"negotiationneeded",e=>{let i=e.target;if(!(t.version<72)&&(!i.getConfiguration||"plan-b"!==i.getConfiguration().sdpSemantics)||"stable"===i.signalingState)return e})}function ej(e,t){let i=e&&e.navigator,r=e&&e.MediaStreamTrack;if(i.getUserMedia=function(e,t,r){em("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),i.mediaDevices.getUserMedia(e).then(t,r)},!(t.version>55&&"autoGainControl"in i.mediaDevices.getSupportedConstraints())){let e=function(e,t,i){t in e&&!(i in e)&&(e[i]=e[t],delete e[t])},t=i.mediaDevices.getUserMedia.bind(i.mediaDevices);if(i.mediaDevices.getUserMedia=function(i){return"object"==typeof i&&"object"==typeof i.audio&&(e((i=JSON.parse(JSON.stringify(i))).audio,"autoGainControl","mozAutoGainControl"),e(i.audio,"noiseSuppression","mozNoiseSuppression")),t(i)},r&&r.prototype.getSettings){let t=r.prototype.getSettings;r.prototype.getSettings=function(){let i=t.apply(this,arguments);return e(i,"mozAutoGainControl","autoGainControl"),e(i,"mozNoiseSuppression","noiseSuppression"),i}}if(r&&r.prototype.applyConstraints){let t=r.prototype.applyConstraints;r.prototype.applyConstraints=function(i){return"audio"===this.kind&&"object"==typeof i&&(e(i=JSON.parse(JSON.stringify(i)),"autoGainControl","mozAutoGainControl"),e(i,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[i])}}}}function eI(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||!e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=function(i){if(!(i&&i.video)){let e=new DOMException("getDisplayMedia without video constraints is undefined");return e.name="NotFoundError",e.code=8,Promise.reject(e)}return!0===i.video?i.video={mediaSource:t}:i.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(i)})}function eO(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function eP(e,t){if("object"!=typeof e||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){let i=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=({[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}})[t]});let i={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){let[e,a,s]=arguments;return r.apply(this,[e||null]).then(e=>{if(t.version<53&&!a)try{e.forEach(e=>{e.type=i[e.type]||e.type})}catch(t){if("TypeError"!==t.name)throw t;e.forEach((t,r)=>{e.set(r,Object.assign({},t,{type:i[t.type]||t.type}))})}return e}).then(a,s)}}function eN(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;let t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e});let i=e.RTCPeerConnection.prototype.addTrack;i&&(e.RTCPeerConnection.prototype.addTrack=function(){let e=i.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function eA(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;let t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){let e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),ef(e,"track",e=>(e.receiver._pc=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function eD(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){em("removeStream","removeTrack"),this.getSenders().forEach(t=>{t.track&&e.getTracks().includes(t.track)&&this.removeTrack(t)})})}function eL(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function eU(e){if(!("object"==typeof e&&e.RTCPeerConnection))return;let t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let e=arguments[1]&&arguments[1].sendEncodings;void 0===e&&(e=[]);let i=(e=[...e]).length>0;i&&e.forEach(e=>{if("rid"in e&&!/^[a-z0-9]{0,16}$/i.test(e.rid))throw TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw RangeError("max_framerate must be >= 0.0")});let r=t.apply(this,arguments);if(i){let{sender:t}=r,i=t.getParameters();"encodings"in i&&(1!==i.encodings.length||0!==Object.keys(i.encodings[0]).length)||(i.encodings=e,t.sendEncodings=e,this.setParametersPromises.push(t.setParameters(i).then(()=>{delete t.sendEncodings}).catch(()=>{delete t.sendEncodings})))}return r})}function eM(e){if(!("object"==typeof e&&e.RTCRtpSender))return;let t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){let e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}function eF(e){if(!("object"==typeof e&&e.RTCPeerConnection))return;let t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function e$(e){if(!("object"==typeof e&&e.RTCPeerConnection))return;let t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function eB(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){let t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach(i=>t.call(this,i,e)),e.getVideoTracks().forEach(i=>t.call(this,i,e))},e.RTCPeerConnection.prototype.addTrack=function(e,...i){return i&&i.forEach(e=>{this._localStreams?this._localStreams.includes(e)||this._localStreams.push(e):this._localStreams=[e]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);let t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);let i=e.getTracks();this.getSenders().forEach(e=>{i.includes(e.track)&&this.removeTrack(e)})})}}function eq(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=e=>{e.streams.forEach(e=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(e))return;this._remoteStreams.push(e);let t=new Event("addstream");t.stream=e,this.dispatchEvent(t)})})}});let t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){let e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach(t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);let i=new Event("addstream");i.stream=t,e.dispatchEvent(i)})}),t.apply(e,arguments)}}}function eV(e){if("object"!=typeof e||!e.RTCPeerConnection)return;let t=e.RTCPeerConnection.prototype,i=t.createOffer,r=t.createAnswer,a=t.setLocalDescription,s=t.setRemoteDescription,o=t.addIceCandidate;t.createOffer=function(e,t){let r=arguments.length>=2?arguments[2]:arguments[0],a=i.apply(this,[r]);return t?(a.then(e,t),Promise.resolve()):a},t.createAnswer=function(e,t){let i=arguments.length>=2?arguments[2]:arguments[0],a=r.apply(this,[i]);return t?(a.then(e,t),Promise.resolve()):a};let l=function(e,t,i){let r=a.apply(this,[e]);return i?(r.then(t,i),Promise.resolve()):r};t.setLocalDescription=l,l=function(e,t,i){let r=s.apply(this,[e]);return i?(r.then(t,i),Promise.resolve()):r},t.setRemoteDescription=l,l=function(e,t,i){let r=o.apply(this,[e]);return i?(r.then(t,i),Promise.resolve()):r},t.addIceCandidate=l}function ez(e){let t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){let e=t.mediaDevices,i=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>i(eW(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(e,i,r){t.mediaDevices.getUserMedia(e).then(i,r)}).bind(t))}function eW(e){return e&&void 0!==e.video?Object.assign({},e,{video:function e(t){return eg(t)?Object.keys(t).reduce(function(i,r){let a=eg(t[r]),s=a?e(t[r]):t[r],o=a&&!Object.keys(s).length;return void 0===s||o?i:Object.assign(i,{[r]:s})},{}):t}(e.video)}):e}function eH(e){if(!e.RTCPeerConnection)return;let t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,i){if(e&&e.iceServers){let t=[];for(let i=0;i<e.iceServers.length;i++){let r=e.iceServers[i];void 0===r.urls&&r.url?(em("RTCIceServer.url","RTCIceServer.urls"),(r=JSON.parse(JSON.stringify(r))).urls=r.url,delete r.url,t.push(r)):t.push(e.iceServers[i])}e.iceServers=t}return new t(e,i)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>t.generateCertificate})}function eG(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function eK(e){let t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);let t=this.getTransceivers().find(e=>"audio"===e.receiver.track.kind);!1===e.offerToReceiveAudio&&t?"sendrecv"===t.direction?t.setDirection?t.setDirection("sendonly"):t.direction="sendonly":"recvonly"===t.direction&&(t.setDirection?t.setDirection("inactive"):t.direction="inactive"):!0!==e.offerToReceiveAudio||t||this.addTransceiver("audio",{direction:"recvonly"}),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);let i=this.getTransceivers().find(e=>"video"===e.receiver.track.kind);!1===e.offerToReceiveVideo&&i?"sendrecv"===i.direction?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":"recvonly"===i.direction&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):!0!==e.offerToReceiveVideo||i||this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function eY(e){"object"!=typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var eJ=i(1388),eX=i.n(eJ);function eQ(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;let t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substring(2)),e.candidate&&e.candidate.length){let i=new t(e),r=eX().parseCandidate(e.candidate);for(let e in r)e in i||Object.defineProperty(i,e,{value:r[e]});return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,ef(e,"icecandidate",t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t))}function eZ(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||ef(e,"icecandidate",e=>{if(e.candidate){let t=eX().parseCandidate(e.candidate.candidate);"relay"===t.type&&(e.candidate.relayProtocol=({0:"tls",1:"tcp",2:"udp"})[t.priority>>24])}return e})}function e0(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return void 0===this._sctp?null:this._sctp}});let i=function(e){if(!e||!e.sdp)return!1;let t=eX().splitSections(e.sdp);return t.shift(),t.some(e=>{let t=eX().parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")})},r=function(e){let t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return -1;let i=parseInt(t[1],10);return i!=i?-1:i},a=function(e){let i=65536;return"firefox"===t.browser&&(i=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),i},s=function(e,i){let r=65536;"firefox"===t.browser&&57===t.version&&(r=65535);let a=eX().matchPrefix(e.sdp,"a=max-message-size:");return a.length>0?r=parseInt(a[0].substring(19),10):"firefox"===t.browser&&-1!==i&&(r=2147483637),r},o=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){let{sdpSemantics:e}=this.getConfiguration();"plan-b"===e&&Object.defineProperty(this,"sctp",{get(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(i(arguments[0])){let e;let t=r(arguments[0]),i=a(t),o=s(arguments[0],t);e=0===i&&0===o?Number.POSITIVE_INFINITY:0===i||0===o?Math.max(i,o):Math.min(i,o);let l={};Object.defineProperty(l,"maxMessageSize",{get:()=>e}),this._sctp=l}return o.apply(this,arguments)}}function e1(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(e,t){let i=e.send;e.send=function(){let r=arguments[0],a=r.length||r.size||r.byteLength;if("open"===e.readyState&&t.sctp&&a>t.sctp.maxMessageSize)throw TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return i.apply(e,arguments)}}let i=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){let e=i.apply(this,arguments);return t(e,this),e},ef(e,"datachannel",e=>(t(e.channel,e.target),e))}function e2(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;let t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return({completed:"connected",checking:"connecting"})[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(e=>{let i=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{let t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;let i=new Event("connectionstatechange",e);t.dispatchEvent(i)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),i.apply(this,arguments)}})}function e3(e,t){if(!e.RTCPeerConnection||"chrome"===t.browser&&t.version>=71||"safari"===t.browser&&t.version>=605)return;let i=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){let i=t.sdp.split("\n").filter(e=>"a=extmap-allow-mixed"!==e.trim()).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:i}):t.sdp=i}return i.apply(this,arguments)}}function e4(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;let i=e.RTCPeerConnection.prototype.addIceCandidate;i&&0!==i.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():i.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function e6(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;let i=e.RTCPeerConnection.prototype.setLocalDescription;i&&0!==i.length&&(e.RTCPeerConnection.prototype.setLocalDescription=function(){let e=arguments[0]||{};if("object"!=typeof e||e.type&&e.sdp)return i.apply(this,arguments);if(!(e={type:e.type,sdp:e.sdp}).type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":e.type="offer";break;default:e.type="answer"}return e.sdp||"offer"!==e.type&&"answer"!==e.type?i.apply(this,[e]):("offer"===e.type?this.createOffer:this.createAnswer).apply(this).then(e=>i.apply(this,[e]))})}!function({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){let i=function(e){let t={browser:null,version:null};if(void 0===e||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;let{navigator:i}=e;return i.mozGetUserMedia?(t.browser="firefox",t.version=eh(i.userAgent,/Firefox\/(\d+)\./,1)):i.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection?(t.browser="chrome",t.version=eh(i.userAgent,/Chrom(e|ium)\/(\d+)\./,2)):e.RTCPeerConnection&&i.userAgent.match(/AppleWebKit\/(\d+)\./)?(t.browser="safari",t.version=eh(i.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype):t.browser="Not a supported browser.",t}(e),r={};switch(i.browser){case"chrome":if(!K||!eE||!t.shimChrome||null===i.version)break;r.browserShim=K,e4(e,i),e6(e,i),ev(e,i),ex(e,i),eE(e,i),ew(e,i),eC(e,i),ek(e,i),e_(e,i),eS(e,i),eR(e,i),eQ(e,i),eZ(e,i),e2(e,i),e0(e,i),e1(e,i),e3(e,i);break;case"firefox":if(!Y||!eP||!t.shimFirefox)break;r.browserShim=Y,e4(e,i),e6(e,i),ej(e,i),eP(e,i),eO(e,i),eD(e,i),eN(e,i),eA(e,i),eL(e,i),eU(e,i),eM(e,i),eF(e,i),e$(e,i),eQ(e,i),e2(e,i),e0(e,i),e1(e,i);break;case"safari":if(!J||!t.shimSafari)break;r.browserShim=J,e4(e,i),e6(e,i),eH(e,i),eK(e,i),eV(e,i),eB(e,i),eq(e,i),eG(e,i),ez(e,i),eY(e,i),eQ(e,i),eZ(e,i),e0(e,i),e1(e,i),e3(e,i)}}({window:void 0});let e5=Symbol.for("protobuf-ts/message-type");function e8(e){let t=!1,i=[];for(let r=0;r<e.length;r++){let a=e.charAt(r);"_"==a?t=!0:/\d/.test(a)?(i.push(a),t=!0):t?(i.push(a.toUpperCase()),t=!1):0==r?i.push(a.toLowerCase()):i.push(a)}return i.join("")}function e7(e){var t,i,r,a;return e.localName=null!==(t=e.localName)&&void 0!==t?t:e8(e.name),e.jsonName=null!==(i=e.jsonName)&&void 0!==i?i:e8(e.name),e.repeat=null!==(r=e.repeat)&&void 0!==r?r:x.NO,e.opt=null!==(a=e.opt)&&void 0!==a?a:!e.repeat&&!e.oneof&&"message"==e.kind,e}(function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"})(v||(v={})),function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING",e[e.NUMBER=2]="NUMBER"}(y||(y={})),function(e){e[e.NO=0]="NO",e[e.PACKED=1]="PACKED",e[e.UNPACKED=2]="UNPACKED"}(x||(x={}));class e9{constructor(e){var t;this.fields=null!==(t=e.fields)&&void 0!==t?t:[]}prepare(){if(this.data)return;let e=[],t=[],i=[];for(let r of this.fields)if(r.oneof)i.includes(r.oneof)||(i.push(r.oneof),e.push(r.oneof),t.push(r.oneof));else switch(t.push(r.localName),r.kind){case"scalar":case"enum":(!r.opt||r.repeat)&&e.push(r.localName);break;case"message":r.repeat&&e.push(r.localName);break;case"map":e.push(r.localName)}this.data={req:e,known:t,oneofs:Object.values(i)}}is(e,t,i=!1){if(t<0)return!0;if(null==e||"object"!=typeof e)return!1;this.prepare();let r=Object.keys(e),a=this.data;if(r.length<a.req.length||a.req.some(e=>!r.includes(e))||!i&&r.some(e=>!a.known.includes(e)))return!1;if(t<1)return!0;for(let r of a.oneofs){let a=e[r];if(!function(e){if("object"!=typeof e||null===e||!e.hasOwnProperty("oneofKind"))return!1;switch(typeof e.oneofKind){case"string":if(void 0===e[e.oneofKind])return!1;return 2==Object.keys(e).length;case"undefined":return 1==Object.keys(e).length;default:return!1}}(a))return!1;if(void 0===a.oneofKind)continue;let s=this.fields.find(e=>e.localName===a.oneofKind);if(!s||!this.field(a[a.oneofKind],s,i,t))return!1}for(let r of this.fields)if(void 0===r.oneof&&!this.field(e[r.localName],r,i,t))return!1;return!0}field(e,t,i,r){let a=t.repeat;switch(t.kind){case"scalar":if(void 0===e)return t.opt;if(a)return this.scalars(e,t.T,r,t.L);return this.scalar(e,t.T,t.L);case"enum":if(void 0===e)return t.opt;if(a)return this.scalars(e,v.INT32,r);return this.scalar(e,v.INT32);case"message":if(void 0===e)break;if(a)return this.messages(e,t.T(),i,r);return this.message(e,t.T(),i,r);case"map":if("object"!=typeof e||null===e)return!1;if(r<2)break;if(!this.mapKeys(e,t.K,r))return!1;switch(t.V.kind){case"scalar":return this.scalars(Object.values(e),t.V.T,r,t.V.L);case"enum":return this.scalars(Object.values(e),v.INT32,r);case"message":return this.messages(Object.values(e),t.V.T(),i,r)}}return!0}message(e,t,i,r){return i?t.isAssignable(e,r):t.is(e,r)}messages(e,t,i,r){if(!Array.isArray(e))return!1;if(r<2)return!0;if(i){for(let i=0;i<e.length&&i<r;i++)if(!t.isAssignable(e[i],r-1))return!1}else for(let i=0;i<e.length&&i<r;i++)if(!t.is(e[i],r-1))return!1;return!0}scalar(e,t,i){let r=typeof e;switch(t){case v.UINT64:case v.FIXED64:case v.INT64:case v.SFIXED64:case v.SINT64:switch(i){case y.BIGINT:return"bigint"==r;case y.NUMBER:return"number"==r&&!isNaN(e);default:return"string"==r}case v.BOOL:return"boolean"==r;case v.STRING:return"string"==r;case v.BYTES:return e instanceof Uint8Array;case v.DOUBLE:case v.FLOAT:return"number"==r&&!isNaN(e);default:return"number"==r&&Number.isInteger(e)}}scalars(e,t,i,r){if(!Array.isArray(e))return!1;if(i<2)return!0;if(Array.isArray(e)){for(let a=0;a<e.length&&a<i;a++)if(!this.scalar(e[a],t,r))return!1}return!0}mapKeys(e,t,i){let r=Object.keys(e);switch(t){case v.INT32:case v.FIXED32:case v.SFIXED32:case v.SINT32:case v.UINT32:return this.scalars(r.slice(0,i).map(e=>parseInt(e)),t,i);case v.BOOL:return this.scalars(r.slice(0,i).map(e=>"true"==e||"false"!=e&&e),t,i);default:return this.scalars(r,t,i,y.STRING)}}}function te(e){let t=typeof e;if("object"==t){if(Array.isArray(e))return"array";if(null===e)return"null"}return t}function tt(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}let ti="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),tn=[];for(let e=0;e<ti.length;e++)tn[ti[e].charCodeAt(0)]=e;function tr(){let e=0,t=0;for(let i=0;i<28;i+=7){let r=this.buf[this.pos++];if(e|=(127&r)<<i,(128&r)==0)return this.assertBounds(),[e,t]}let i=this.buf[this.pos++];if(e|=(15&i)<<28,t=(112&i)>>4,(128&i)==0)return this.assertBounds(),[e,t];for(let i=3;i<=31;i+=7){let r=this.buf[this.pos++];if(t|=(127&r)<<i,(128&r)==0)return this.assertBounds(),[e,t]}throw Error("invalid varint")}function ta(e,t,i){for(let r=0;r<28;r+=7){let a=e>>>r,s=!(a>>>7==0&&0==t),o=(s?128|a:a)&255;if(i.push(o),!s)return}let r=e>>>28&15|(7&t)<<4,a=t>>3!=0;if(i.push((a?128|r:r)&255),a){for(let e=3;e<31;e+=7){let r=t>>>e,a=r>>>7!=0,s=(a?128|r:r)&255;if(i.push(s),!a)return}i.push(t>>>31&1)}}function ts(e){let t="-"==e[0];t&&(e=e.slice(1));let i=0,r=0;function a(t,a){let s=Number(e.slice(t,a));r*=1e6,(i=1e6*i+s)>=4294967296&&(r+=i/4294967296|0,i%=4294967296)}return a(-24,-18),a(-18,-12),a(-12,-6),a(-6),[t,i,r]}function to(e,t){if(t>>>0<=2097151)return""+(4294967296*t+(e>>>0));let i=(e>>>24|t<<8)>>>0&16777215,r=t>>16&65535,a=(16777215&e)+6777216*i+6710656*r,s=i+8147497*r,o=2*r;function l(e,t){let i=e?String(e):"";return t?"0000000".slice(i.length)+i:i}return a>=1e7&&(s+=Math.floor(a/1e7),a%=1e7),s>=1e7&&(o+=Math.floor(s/1e7),s%=1e7),l(o,0)+l(s,o)+l(a,1)}function tc(e,t){if(e>=0){for(;e>127;)t.push(127&e|128),e>>>=7;t.push(e)}else{for(let i=0;i<9;i++)t.push(127&e|128),e>>=7;t.push(1)}}function tl(){let e=this.buf[this.pos++],t=127&e;if((128&e)==0||(t|=(127&(e=this.buf[this.pos++]))<<7,(128&e)==0)||(t|=(127&(e=this.buf[this.pos++]))<<14,(128&e)==0)||(t|=(127&(e=this.buf[this.pos++]))<<21,(128&e)==0))return this.assertBounds(),t;t|=(15&(e=this.buf[this.pos++]))<<28;for(let t=5;(128&e)!=0&&t<10;t++)e=this.buf[this.pos++];if((128&e)!=0)throw Error("invalid varint");return this.assertBounds(),t>>>0}function tu(e){if(!e)throw Error("BigInt unavailable, see https://github.com/timostamm/protobuf-ts/blob/v1.0.8/MANUAL.md#bigint-support")}tn["-".charCodeAt(0)]=ti.indexOf("+"),tn["_".charCodeAt(0)]=ti.indexOf("/"),function(){let e=new DataView(new ArrayBuffer(8));r=void 0!==globalThis.BigInt&&"function"==typeof e.getBigInt64&&"function"==typeof e.getBigUint64&&"function"==typeof e.setBigInt64&&"function"==typeof e.setBigUint64?{MIN:BigInt("-9223372036854775808"),MAX:BigInt("9223372036854775807"),UMIN:BigInt("0"),UMAX:BigInt("18446744073709551615"),C:BigInt,V:e}:void 0}();let tp=/^-?[0-9]+$/;class td{constructor(e,t){this.lo=0|e,this.hi=0|t}isZero(){return 0==this.lo&&0==this.hi}toNumber(){let e=4294967296*this.hi+(this.lo>>>0);if(!Number.isSafeInteger(e))throw Error("cannot convert to safe number");return e}}class th extends td{static from(e){if(r)switch(typeof e){case"string":if("0"==e)return this.ZERO;if(""==e)throw Error("string is no integer");e=r.C(e);case"number":if(0===e)return this.ZERO;e=r.C(e);case"bigint":if(!e)return this.ZERO;if(e<r.UMIN)throw Error("signed value for ulong");if(e>r.UMAX)throw Error("ulong too large");return r.V.setBigUint64(0,e,!0),new th(r.V.getInt32(0,!0),r.V.getInt32(4,!0))}else switch(typeof e){case"string":if("0"==e)return this.ZERO;if(e=e.trim(),!tp.test(e))throw Error("string is no integer");let[t,i,a]=ts(e);if(t)throw Error("signed value for ulong");return new th(i,a);case"number":if(0==e)return this.ZERO;if(!Number.isSafeInteger(e))throw Error("number is no integer");if(e<0)throw Error("signed value for ulong");return new th(e,e/4294967296)}throw Error("unknown value "+typeof e)}toString(){return r?this.toBigInt().toString():to(this.lo,this.hi)}toBigInt(){return tu(r),r.V.setInt32(0,this.lo,!0),r.V.setInt32(4,this.hi,!0),r.V.getBigUint64(0,!0)}}th.ZERO=new th(0,0);class tf extends td{static from(e){if(r)switch(typeof e){case"string":if("0"==e)return this.ZERO;if(""==e)throw Error("string is no integer");e=r.C(e);case"number":if(0===e)return this.ZERO;e=r.C(e);case"bigint":if(!e)return this.ZERO;if(e<r.MIN)throw Error("signed long too small");if(e>r.MAX)throw Error("signed long too large");return r.V.setBigInt64(0,e,!0),new tf(r.V.getInt32(0,!0),r.V.getInt32(4,!0))}else switch(typeof e){case"string":if("0"==e)return this.ZERO;if(e=e.trim(),!tp.test(e))throw Error("string is no integer");let[t,i,a]=ts(e);if(t){if(a>2147483648||2147483648==a&&0!=i)throw Error("signed long too small")}else if(a>=2147483648)throw Error("signed long too large");let s=new tf(i,a);return t?s.negate():s;case"number":if(0==e)return this.ZERO;if(!Number.isSafeInteger(e))throw Error("number is no integer");return e>0?new tf(e,e/4294967296):new tf(-e,-e/4294967296).negate()}throw Error("unknown value "+typeof e)}isNegative(){return(2147483648&this.hi)!=0}negate(){let e=~this.hi,t=this.lo;return t?t=~t+1:e+=1,new tf(t,e)}toString(){if(r)return this.toBigInt().toString();if(this.isNegative()){let e=this.negate();return"-"+to(e.lo,e.hi)}return to(this.lo,this.hi)}toBigInt(){return tu(r),r.V.setInt32(0,this.lo,!0),r.V.setInt32(4,this.hi,!0),r.V.getBigInt64(0,!0)}}function tm(e,t){if(!e)throw Error(t)}function tg(e){if("number"!=typeof e)throw Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>2147483647||e<-2147483648)throw Error("invalid int 32: "+e)}function tb(e){if("number"!=typeof e)throw Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>4294967295||e<0)throw Error("invalid uint 32: "+e)}function tv(e){if("number"!=typeof e)throw Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>34028234663852886e22||e<-34028234663852886e22))throw Error("invalid float 32: "+e)}function ty(e,t){switch(t){case y.BIGINT:return e.toBigInt();case y.NUMBER:return e.toNumber();default:return e.toString()}}tf.ZERO=new tf(0,0);class tx{constructor(e){this.info=e}prepare(){var e;if(void 0===this.fMap)for(let t of(this.fMap={},null!==(e=this.info.fields)&&void 0!==e?e:[]))this.fMap[t.name]=t,this.fMap[t.jsonName]=t,this.fMap[t.localName]=t}assert(e,t,i){if(!e){let e=te(i);throw("number"==e||"boolean"==e)&&(e=i.toString()),Error(`Cannot parse JSON ${e} for ${this.info.typeName}#${t}`)}}read(e,t,i){this.prepare();let r=[];for(let[a,s]of Object.entries(e)){let e;let o=this.fMap[a];if(!o){if(!i.ignoreUnknownFields)throw Error(`Found unknown field while reading ${this.info.typeName} from JSON format. JSON key: ${a}`);continue}let l=o.localName;if(o.oneof){if(null===s&&("enum"!==o.kind||"google.protobuf.NullValue"!==o.T()[0]))continue;if(r.includes(o.oneof))throw Error(`Multiple members of the oneof group "${o.oneof}" of ${this.info.typeName} are present in JSON.`);r.push(o.oneof),e=t[o.oneof]={oneofKind:l}}else e=t;if("map"==o.kind){if(null===s)continue;this.assert(tt(s),o.name,s);let t=e[l];for(let[e,r]of Object.entries(s)){let a;switch(this.assert(null!==r,o.name+" map value",null),o.V.kind){case"message":a=o.V.T().internalJsonRead(r,i);break;case"enum":if(!1===(a=this.enum(o.V.T(),r,o.name,i.ignoreUnknownFields)))continue;break;case"scalar":a=this.scalar(r,o.V.T,o.V.L,o.name)}this.assert(void 0!==a,o.name+" map value",r);let s=e;o.K==v.BOOL&&(s="true"==s||"false"!=s&&s),t[s=this.scalar(s,o.K,y.STRING,o.name).toString()]=a}}else if(o.repeat){if(null===s)continue;this.assert(Array.isArray(s),o.name,s);let t=e[l];for(let e of s){let r;switch(this.assert(null!==e,o.name,null),o.kind){case"message":r=o.T().internalJsonRead(e,i);break;case"enum":if(!1===(r=this.enum(o.T(),e,o.name,i.ignoreUnknownFields)))continue;break;case"scalar":r=this.scalar(e,o.T,o.L,o.name)}this.assert(void 0!==r,o.name,s),t.push(r)}}else switch(o.kind){case"message":if(null===s&&"google.protobuf.Value"!=o.T().typeName){this.assert(void 0===o.oneof,o.name+" (oneof member)",null);continue}e[l]=o.T().internalJsonRead(s,i,e[l]);break;case"enum":let u=this.enum(o.T(),s,o.name,i.ignoreUnknownFields);if(!1===u)continue;e[l]=u;break;case"scalar":e[l]=this.scalar(s,o.T,o.L,o.name)}}}enum(e,t,i,r){if("google.protobuf.NullValue"==e[0]&&tm(null===t||"NULL_VALUE"===t,`Unable to parse field ${this.info.typeName}#${i}, enum ${e[0]} only accepts null.`),null===t)return 0;switch(typeof t){case"number":return tm(Number.isInteger(t),`Unable to parse field ${this.info.typeName}#${i}, enum can only be integral number, got ${t}.`),t;case"string":let a=t;e[2]&&t.substring(0,e[2].length)===e[2]&&(a=t.substring(e[2].length));let s=e[1][a];if(void 0===s&&r)return!1;return tm("number"==typeof s,`Unable to parse field ${this.info.typeName}#${i}, enum ${e[0]} has no value for "${t}".`),s}tm(!1,`Unable to parse field ${this.info.typeName}#${i}, cannot parse enum value from ${typeof t}".`)}scalar(e,t,i,r){let a;try{switch(t){case v.DOUBLE:case v.FLOAT:if(null===e)return 0;if("NaN"===e)return Number.NaN;if("Infinity"===e)return Number.POSITIVE_INFINITY;if("-Infinity"===e)return Number.NEGATIVE_INFINITY;if(""===e){a="empty string";break}if("string"==typeof e&&e.trim().length!==e.length){a="extra whitespace";break}if("string"!=typeof e&&"number"!=typeof e)break;let r=Number(e);if(Number.isNaN(r)){a="not a number";break}if(!Number.isFinite(r)){a="too large or small";break}return t==v.FLOAT&&tv(r),r;case v.INT32:case v.FIXED32:case v.SFIXED32:case v.SINT32:case v.UINT32:let s;if(null===e)return 0;if("number"==typeof e?s=e:""===e?a="empty string":"string"==typeof e&&(e.trim().length!==e.length?a="extra whitespace":s=Number(e)),void 0===s)break;return t==v.UINT32?tb(s):tg(s),s;case v.INT64:case v.SFIXED64:case v.SINT64:if(null===e)return ty(tf.ZERO,i);if("number"!=typeof e&&"string"!=typeof e)break;return ty(tf.from(e),i);case v.FIXED64:case v.UINT64:if(null===e)return ty(th.ZERO,i);if("number"!=typeof e&&"string"!=typeof e)break;return ty(th.from(e),i);case v.BOOL:if(null===e)return!1;if("boolean"!=typeof e)break;return e;case v.STRING:if(null===e)return"";if("string"!=typeof e){a="extra whitespace";break}try{encodeURIComponent(e)}catch(e){break}return e;case v.BYTES:if(null===e||""===e)return new Uint8Array(0);if("string"!=typeof e)break;return function(e){let t=3*e.length/4;"="==e[e.length-2]?t-=2:"="==e[e.length-1]&&(t-=1);let i=new Uint8Array(t),r=0,a=0,s,o=0;for(let t=0;t<e.length;t++){if(void 0===(s=tn[e.charCodeAt(t)]))switch(e[t]){case"=":a=0;case"\n":case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(a){case 0:o=s,a=1;break;case 1:i[r++]=o<<2|(48&s)>>4,o=s,a=2;break;case 2:i[r++]=(15&o)<<4|(60&s)>>2,o=s,a=3;break;case 3:i[r++]=(3&o)<<6|s,a=0}}if(1==a)throw Error("invalid base64 string.");return i.subarray(0,r)}(e)}}catch(e){a=e.message}this.assert(!1,r+(a?" - "+a:""),e)}}class tw{constructor(e){var t;this.fields=null!==(t=e.fields)&&void 0!==t?t:[]}write(e,t){let i={};for(let r of this.fields){if(!r.oneof){let a=this.field(r,e[r.localName],t);void 0!==a&&(i[t.useProtoFieldName?r.name:r.jsonName]=a);continue}let a=e[r.oneof];if(a.oneofKind!==r.localName)continue;let s="scalar"==r.kind||"enum"==r.kind?Object.assign(Object.assign({},t),{emitDefaultValues:!0}):t,o=this.field(r,a[r.localName],s);tm(void 0!==o),i[t.useProtoFieldName?r.name:r.jsonName]=o}return i}field(e,t,i){let r;if("map"==e.kind){tm("object"==typeof t&&null!==t);let a={};switch(e.V.kind){case"scalar":for(let[i,r]of Object.entries(t)){let t=this.scalar(e.V.T,r,e.name,!1,!0);tm(void 0!==t),a[i.toString()]=t}break;case"message":let s=e.V.T();for(let[r,o]of Object.entries(t)){let t=this.message(s,o,e.name,i);tm(void 0!==t),a[r.toString()]=t}break;case"enum":let o=e.V.T();for(let[r,s]of Object.entries(t)){tm(void 0===s||"number"==typeof s);let t=this.enum(o,s,e.name,!1,!0,i.enumAsInteger);tm(void 0!==t),a[r.toString()]=t}}(i.emitDefaultValues||Object.keys(a).length>0)&&(r=a)}else if(e.repeat){tm(Array.isArray(t));let a=[];switch(e.kind){case"scalar":for(let i=0;i<t.length;i++){let r=this.scalar(e.T,t[i],e.name,e.opt,!0);tm(void 0!==r),a.push(r)}break;case"enum":let s=e.T();for(let r=0;r<t.length;r++){tm(void 0===t[r]||"number"==typeof t[r]);let o=this.enum(s,t[r],e.name,e.opt,!0,i.enumAsInteger);tm(void 0!==o),a.push(o)}break;case"message":let o=e.T();for(let r=0;r<t.length;r++){let s=this.message(o,t[r],e.name,i);tm(void 0!==s),a.push(s)}}(i.emitDefaultValues||a.length>0||i.emitDefaultValues)&&(r=a)}else switch(e.kind){case"scalar":r=this.scalar(e.T,t,e.name,e.opt,i.emitDefaultValues);break;case"enum":r=this.enum(e.T(),t,e.name,e.opt,i.emitDefaultValues,i.enumAsInteger);break;case"message":r=this.message(e.T(),t,e.name,i)}return r}enum(e,t,i,r,a,s){if("google.protobuf.NullValue"==e[0])return a||r?null:void 0;if(void 0===t){tm(r);return}if(0!==t||a||r)return(tm("number"==typeof t),tm(Number.isInteger(t)),s||!e[1].hasOwnProperty(t))?t:e[2]?e[2]+e[1][t]:e[1][t]}message(e,t,i,r){return void 0===t?r.emitDefaultValues?null:void 0:e.internalJsonWrite(t,r)}scalar(e,t,i,r,a){if(void 0===t){tm(r);return}let s=a||r;switch(e){case v.INT32:case v.SFIXED32:case v.SINT32:if(0===t)return s?0:void 0;return tg(t),t;case v.FIXED32:case v.UINT32:if(0===t)return s?0:void 0;return tb(t),t;case v.FLOAT:tv(t);case v.DOUBLE:if(0===t)return s?0:void 0;if(tm("number"==typeof t),Number.isNaN(t))return"NaN";if(t===Number.POSITIVE_INFINITY)return"Infinity";if(t===Number.NEGATIVE_INFINITY)return"-Infinity";return t;case v.STRING:if(""===t)return s?"":void 0;return tm("string"==typeof t),t;case v.BOOL:if(!1===t)return!s&&void 0;return tm("boolean"==typeof t),t;case v.UINT64:case v.FIXED64:tm("number"==typeof t||"string"==typeof t||"bigint"==typeof t);let o=th.from(t);if(o.isZero()&&!s)return;return o.toString();case v.INT64:case v.SFIXED64:case v.SINT64:tm("number"==typeof t||"string"==typeof t||"bigint"==typeof t);let l=tf.from(t);if(l.isZero()&&!s)return;return l.toString();case v.BYTES:if(tm(t instanceof Uint8Array),!t.byteLength)return s?"":void 0;return function(e){let t="",i=0,r,a=0;for(let s=0;s<e.length;s++)switch(r=e[s],i){case 0:t+=ti[r>>2],a=(3&r)<<4,i=1;break;case 1:t+=ti[a|r>>4],a=(15&r)<<2,i=2;break;case 2:t+=ti[a|r>>6]+ti[63&r],i=0}return i&&(t+=ti[a]+"=",1==i&&(t+="=")),t}(t)}}}function tk(e,t=y.STRING){switch(e){case v.BOOL:return!1;case v.UINT64:case v.FIXED64:return ty(th.ZERO,t);case v.INT64:case v.SFIXED64:case v.SINT64:return ty(tf.ZERO,t);case v.DOUBLE:case v.FLOAT:return 0;case v.BYTES:return new Uint8Array(0);case v.STRING:return"";default:return 0}}(function(e){e.symbol=Symbol.for("protobuf-ts/unknown"),e.onRead=(i,r,a,s,o)=>{(t(r)?r[e.symbol]:r[e.symbol]=[]).push({no:a,wireType:s,data:o})},e.onWrite=(t,i,r)=>{for(let{no:t,wireType:a,data:s}of e.list(i))r.tag(t,a).raw(s)},e.list=(i,r)=>{if(t(i)){let t=i[e.symbol];return r?t.filter(e=>e.no==r):t}return[]},e.last=(t,i)=>e.list(t,i).slice(-1)[0];let t=t=>t&&Array.isArray(t[e.symbol])})(w||(w={})),function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"}(k||(k={}));class t_{constructor(e){this.info=e}prepare(){var e;if(!this.fieldNoToField){let t=null!==(e=this.info.fields)&&void 0!==e?e:[];this.fieldNoToField=new Map(t.map(e=>[e.no,e]))}}read(e,t,i,r){this.prepare();let a=void 0===r?e.len:e.pos+r;for(;e.pos<a;){let[r,a]=e.tag(),s=this.fieldNoToField.get(r);if(!s){let s=i.readUnknownField;if("throw"==s)throw Error(`Unknown field ${r} (wire type ${a}) for ${this.info.typeName}`);let o=e.skip(a);!1!==s&&(!0===s?w.onRead:s)(this.info.typeName,t,r,a,o);continue}let o=t,l=s.repeat,u=s.localName;switch(s.oneof&&(o=o[s.oneof]).oneofKind!==u&&(o=t[s.oneof]={oneofKind:u}),s.kind){case"scalar":case"enum":let p="enum"==s.kind?v.INT32:s.T,d="scalar"==s.kind?s.L:void 0;if(l){let t=o[u];if(a==k.LengthDelimited&&p!=v.STRING&&p!=v.BYTES){let i=e.uint32()+e.pos;for(;e.pos<i;)t.push(this.scalar(e,p,d))}else t.push(this.scalar(e,p,d))}else o[u]=this.scalar(e,p,d);break;case"message":if(l){let t=o[u],r=s.T().internalBinaryRead(e,e.uint32(),i);t.push(r)}else o[u]=s.T().internalBinaryRead(e,e.uint32(),i,o[u]);break;case"map":let[f,m]=this.mapEntry(s,e,i);o[u][f]=m}}}mapEntry(e,t,i){let r,a,s=t.uint32(),o=t.pos+s;for(;t.pos<o;){let[s,o]=t.tag();switch(s){case 1:r=e.K==v.BOOL?t.bool().toString():this.scalar(t,e.K,y.STRING);break;case 2:switch(e.V.kind){case"scalar":a=this.scalar(t,e.V.T,e.V.L);break;case"enum":a=t.int32();break;case"message":a=e.V.T().internalBinaryRead(t,t.uint32(),i)}break;default:throw Error(`Unknown field ${s} (wire type ${o}) in map entry for ${this.info.typeName}#${e.name}`)}}if(void 0===r){let t=tk(e.K);r=e.K==v.BOOL?t.toString():t}if(void 0===a)switch(e.V.kind){case"scalar":a=tk(e.V.T,e.V.L);break;case"enum":a=0;break;case"message":a=e.V.T().create()}return[r,a]}scalar(e,t,i){switch(t){case v.INT32:return e.int32();case v.STRING:return e.string();case v.BOOL:return e.bool();case v.DOUBLE:return e.double();case v.FLOAT:return e.float();case v.INT64:return ty(e.int64(),i);case v.UINT64:return ty(e.uint64(),i);case v.FIXED64:return ty(e.fixed64(),i);case v.FIXED32:return e.fixed32();case v.BYTES:return e.bytes();case v.UINT32:return e.uint32();case v.SFIXED32:return e.sfixed32();case v.SFIXED64:return ty(e.sfixed64(),i);case v.SINT32:return e.sint32();case v.SINT64:return ty(e.sint64(),i)}}}class tS{constructor(e){this.info=e}prepare(){if(!this.fields){let e=this.info.fields?this.info.fields.concat():[];this.fields=e.sort((e,t)=>e.no-t.no)}}write(e,t,i){for(let r of(this.prepare(),this.fields)){let a,s,o=r.repeat,l=r.localName;if(r.oneof){let t=e[r.oneof];if(t.oneofKind!==l)continue;a=t[l],s=!0}else a=e[l],s=!1;switch(r.kind){case"scalar":case"enum":let u="enum"==r.kind?v.INT32:r.T;if(o){if(tm(Array.isArray(a)),o==x.PACKED)this.packed(t,u,r.no,a);else for(let e of a)this.scalar(t,u,r.no,e,!0)}else void 0===a?tm(r.opt):this.scalar(t,u,r.no,a,s||r.opt);break;case"message":if(o)for(let e of(tm(Array.isArray(a)),a))this.message(t,i,r.T(),r.no,e);else this.message(t,i,r.T(),r.no,a);break;case"map":for(let[e,s]of(tm("object"==typeof a&&null!==a),Object.entries(a)))this.mapEntry(t,i,r,e,s)}}let r=i.writeUnknownFields;!1!==r&&(!0===r?w.onWrite:r)(this.info.typeName,e,t)}mapEntry(e,t,i,r,a){e.tag(i.no,k.LengthDelimited),e.fork();let s=r;switch(i.K){case v.INT32:case v.FIXED32:case v.UINT32:case v.SFIXED32:case v.SINT32:s=Number.parseInt(r);break;case v.BOOL:tm("true"==r||"false"==r),s="true"==r}switch(this.scalar(e,i.K,1,s,!0),i.V.kind){case"scalar":this.scalar(e,i.V.T,2,a,!0);break;case"enum":this.scalar(e,v.INT32,2,a,!0);break;case"message":this.message(e,t,i.V.T(),2,a)}e.join()}message(e,t,i,r,a){void 0!==a&&(i.internalBinaryWrite(a,e.tag(r,k.LengthDelimited).fork(),t),e.join())}scalar(e,t,i,r,a){let[s,o,l]=this.scalarInfo(t,r);(!l||a)&&(e.tag(i,s),e[o](r))}packed(e,t,i,r){if(!r.length)return;tm(t!==v.BYTES&&t!==v.STRING),e.tag(i,k.LengthDelimited),e.fork();let[,a]=this.scalarInfo(t);for(let t=0;t<r.length;t++)e[a](r[t]);e.join()}scalarInfo(e,t){let i,r=k.Varint,a=void 0===t,s=0===t;switch(e){case v.INT32:i="int32";break;case v.STRING:s=a||!t.length,r=k.LengthDelimited,i="string";break;case v.BOOL:s=!1===t,i="bool";break;case v.UINT32:i="uint32";break;case v.DOUBLE:r=k.Bit64,i="double";break;case v.FLOAT:r=k.Bit32,i="float";break;case v.INT64:s=a||tf.from(t).isZero(),i="int64";break;case v.UINT64:s=a||th.from(t).isZero(),i="uint64";break;case v.FIXED64:s=a||th.from(t).isZero(),r=k.Bit64,i="fixed64";break;case v.BYTES:s=a||!t.byteLength,r=k.LengthDelimited,i="bytes";break;case v.FIXED32:r=k.Bit32,i="fixed32";break;case v.SFIXED32:r=k.Bit32,i="sfixed32";break;case v.SFIXED64:s=a||tf.from(t).isZero(),r=k.Bit64,i="sfixed64";break;case v.SINT32:i="sint32";break;case v.SINT64:s=a||tf.from(t).isZero(),i="sint64"}return[r,i,a||s]}}function tT(e,t,i){let r,a;for(let s of e.fields){let e=s.localName;if(s.oneof){let o=i[s.oneof];if((null==o?void 0:o.oneofKind)==void 0)continue;if(r=o[e],(a=t[s.oneof]).oneofKind=o.oneofKind,void 0==r){delete a[e];continue}}else if(r=i[e],a=t,void 0==r)continue;switch(s.repeat&&(a[e].length=r.length),s.kind){case"scalar":case"enum":if(s.repeat)for(let t=0;t<r.length;t++)a[e][t]=r[t];else a[e]=r;break;case"message":let o=s.T();if(s.repeat)for(let t=0;t<r.length;t++)a[e][t]=o.create(r[t]);else void 0===a[e]?a[e]=o.create(r):o.mergePartial(a[e],r);break;case"map":switch(s.V.kind){case"scalar":case"enum":Object.assign(a[e],r);break;case"message":let l=s.V.T();for(let t of Object.keys(r))a[e][t]=l.create(r[t])}}}}let tC={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0},tE={ignoreUnknownFields:!1},tR=Object.values;function tj(e,t,i){if(t===i)return!0;if(e!==v.BYTES||t.length!==i.length)return!1;for(let e=0;e<t.length;e++)if(t[e]!=i[e])return!1;return!0}function tI(e,t,i){if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(!tj(e,t[r],i[r]))return!1;return!0}function tO(e,t,i){if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(!e.equals(t[r],i[r]))return!1;return!0}let tP={writeUnknownFields:!0,writerFactory:()=>new tN};class tN{constructor(e){this.stack=[],this.textEncoder=null!=e?e:new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let t=0;t<this.chunks.length;t++)e+=this.chunks[t].length;let t=new Uint8Array(e),i=0;for(let e=0;e<this.chunks.length;e++)t.set(this.chunks[e],i),i+=this.chunks[e].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),t=this.stack.pop();if(!t)throw Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,t){return this.uint32((e<<3|t)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(tb(e);e>127;)this.buf.push(127&e|128),e>>>=7;return this.buf.push(e),this}int32(e){return tg(e),tc(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let t=this.textEncoder.encode(e);return this.uint32(t.byteLength),this.raw(t)}float(e){tv(e);let t=new Uint8Array(4);return new DataView(t.buffer).setFloat32(0,e,!0),this.raw(t)}double(e){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),this.raw(t)}fixed32(e){tb(e);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e,!0),this.raw(t)}sfixed32(e){tg(e);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,e,!0),this.raw(t)}sint32(e){return tg(e),tc(e=(e<<1^e>>31)>>>0,this.buf),this}sfixed64(e){let t=new Uint8Array(8),i=new DataView(t.buffer),r=tf.from(e);return i.setInt32(0,r.lo,!0),i.setInt32(4,r.hi,!0),this.raw(t)}fixed64(e){let t=new Uint8Array(8),i=new DataView(t.buffer),r=th.from(e);return i.setInt32(0,r.lo,!0),i.setInt32(4,r.hi,!0),this.raw(t)}int64(e){let t=tf.from(e);return ta(t.lo,t.hi,this.buf),this}sint64(e){let t=tf.from(e),i=t.hi>>31;return ta(t.lo<<1^i,(t.hi<<1|t.lo>>>31)^i,this.buf),this}uint64(e){let t=th.from(e);return ta(t.lo,t.hi,this.buf),this}}let tA={readUnknownField:!0,readerFactory:e=>new tD(e)};class tD{constructor(e,t){this.varint64=tr,this.uint32=tl,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=null!=t?t:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0})}tag(){let e=this.uint32(),t=e>>>3,i=7&e;if(t<=0||i<0||i>5)throw Error("illegal tag: field no "+t+" wire type "+i);return[t,i]}skip(e){let t=this.pos;switch(e){case k.Varint:for(;128&this.buf[this.pos++];);break;case k.Bit64:this.pos+=4;case k.Bit32:this.pos+=4;break;case k.LengthDelimited:let i=this.uint32();this.pos+=i;break;case k.StartGroup:let r;for(;(r=this.tag()[1])!==k.EndGroup;)this.skip(r);break;default:throw Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(t,this.pos)}assertBounds(){if(this.pos>this.len)throw RangeError("premature EOF")}int32(){return 0|this.uint32()}sint32(){let e=this.uint32();return e>>>1^-(1&e)}int64(){return new tf(...this.varint64())}uint64(){return new th(...this.varint64())}sint64(){let[e,t]=this.varint64(),i=-(1&e);return new tf(e=(e>>>1|(1&t)<<31)^i,t=t>>>1^i)}bool(){let[e,t]=this.varint64();return 0!==e||0!==t}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return new th(this.sfixed32(),this.sfixed32())}sfixed64(){return new tf(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),t=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(t,t+e)}string(){return this.textDecoder.decode(this.bytes())}}class tL{constructor(e,t,i){this.defaultCheckDepth=16,this.typeName=e,this.fields=t.map(e7),this.options=null!=i?i:{},this.messagePrototype=Object.defineProperty({},e5,{value:this}),this.refTypeCheck=new e9(this),this.refJsonReader=new tx(this),this.refJsonWriter=new tw(this),this.refBinReader=new t_(this),this.refBinWriter=new tS(this)}create(e){let t=function(e){let t=e.messagePrototype?Object.create(e.messagePrototype):Object.defineProperty({},e5,{value:e});for(let i of e.fields){let e=i.localName;if(!i.opt){if(i.oneof)t[i.oneof]={oneofKind:void 0};else if(i.repeat)t[e]=[];else switch(i.kind){case"scalar":t[e]=tk(i.T,i.L);break;case"enum":t[e]=0;break;case"map":t[e]={}}}}return t}(this);return void 0!==e&&tT(this,t,e),t}clone(e){let t=this.create();return tT(this,t,e),t}equals(e,t){return function(e,t,i){if(t===i)return!0;if(!t||!i)return!1;for(let r of e.fields){let e=r.localName,a=r.oneof?t[r.oneof][e]:t[e],s=r.oneof?i[r.oneof][e]:i[e];switch(r.kind){case"enum":case"scalar":let o="enum"==r.kind?v.INT32:r.T;if(!(r.repeat?tI(o,a,s):tj(o,a,s)))return!1;break;case"map":if(!("message"==r.V.kind?tO(r.V.T(),tR(a),tR(s)):tI("enum"==r.V.kind?v.INT32:r.V.T,tR(a),tR(s))))return!1;break;case"message":let l=r.T();if(!(r.repeat?tO(l,a,s):l.equals(a,s)))return!1}}return!0}(this,e,t)}is(e,t=this.defaultCheckDepth){return this.refTypeCheck.is(e,t,!1)}isAssignable(e,t=this.defaultCheckDepth){return this.refTypeCheck.is(e,t,!0)}mergePartial(e,t){tT(this,e,t)}fromBinary(e,t){let i=t?Object.assign(Object.assign({},tA),t):tA;return this.internalBinaryRead(i.readerFactory(e),e.byteLength,i)}fromJson(e,t){return this.internalJsonRead(e,t?Object.assign(Object.assign({},tE),t):tE)}fromJsonString(e,t){let i=JSON.parse(e);return this.fromJson(i,t)}toJson(e,t){return this.internalJsonWrite(e,t?Object.assign(Object.assign({},tC),t):tC)}toJsonString(e,t){var i;return JSON.stringify(this.toJson(e,t),null,null!==(i=null==t?void 0:t.prettySpaces)&&void 0!==i?i:0)}toBinary(e,t){let i=t?Object.assign(Object.assign({},tP),t):tP;return this.internalBinaryWrite(e,i.writerFactory(),i).finish()}internalJsonRead(e,t,i){if(null!==e&&"object"==typeof e&&!Array.isArray(e)){let r=null!=i?i:this.create();return this.refJsonReader.read(e,r,t),r}throw Error(`Unable to parse message ${this.typeName} from JSON ${te(e)}.`)}internalJsonWrite(e,t){return this.refJsonWriter.write(e,t)}internalBinaryWrite(e,t,i){return this.refBinWriter.write(e,t,i),t}internalBinaryRead(e,t,i,r){let a=null!=r?r:this.create();return this.refBinReader.read(e,a,i,t),a}}class tU{constructor(e,t,i){this.typeName=e,this.methods=t.map(e=>(function(e,t){var i,r,a;return e.service=t,e.localName=null!==(i=e.localName)&&void 0!==i?i:e8(e.name),e.serverStreaming=!!e.serverStreaming,e.clientStreaming=!!e.clientStreaming,e.options=null!==(r=e.options)&&void 0!==r?r:{},e.idempotency=null!==(a=e.idempotency)&&void 0!==a?a:void 0,e})(e,this)),this.options=null!=i?i:{}}}function tM(e,t,i,r,a){var s,o,l,u;if("unary"==e){let e=(e,i,r)=>t.unary(e,i,r);for(let t of(null!==(s=r.interceptors)&&void 0!==s?s:[]).filter(e=>e.interceptUnary).reverse()){let i=e;e=(e,r,a)=>t.interceptUnary(i,e,r,a)}return e(i,a,r)}if("serverStreaming"==e){let e=(e,i,r)=>t.serverStreaming(e,i,r);for(let t of(null!==(o=r.interceptors)&&void 0!==o?o:[]).filter(e=>e.interceptServerStreaming).reverse()){let i=e;e=(e,r,a)=>t.interceptServerStreaming(i,e,r,a)}return e(i,a,r)}if("clientStreaming"==e){let e=(e,i)=>t.clientStreaming(e,i);for(let t of(null!==(l=r.interceptors)&&void 0!==l?l:[]).filter(e=>e.interceptClientStreaming).reverse()){let i=e;e=(e,r)=>t.interceptClientStreaming(i,e,r)}return e(i,r)}if("duplex"==e){let e=(e,i)=>t.duplex(e,i);for(let t of(null!==(u=r.interceptors)&&void 0!==u?u:[]).filter(e=>e.interceptDuplex).reverse()){let i=e;e=(e,r)=>t.interceptDuplex(i,e,r)}return e(i,r)}!function(e,t){throw Error(null!=t?t:"Unexpected object: "+e)}(e)}function tF(e,t){return function(){return e.apply(t,arguments)}}let{toString:t$}=Object.prototype,{getPrototypeOf:tB}=Object,tq=(m=Object.create(null),e=>{let t=t$.call(e);return m[t]||(m[t]=t.slice(8,-1).toLowerCase())}),tV=e=>(e=e.toLowerCase(),t=>tq(t)===e),tz=e=>t=>typeof t===e,{isArray:tW}=Array,tH=tz("undefined"),tG=tV("ArrayBuffer"),tK=tz("string"),tY=tz("function"),tJ=tz("number"),tX=e=>null!==e&&"object"==typeof e,tQ=e=>{if("object"!==tq(e))return!1;let t=tB(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},tZ=tV("Date"),t0=tV("File"),t1=tV("Blob"),t2=tV("FileList"),t3=tV("URLSearchParams");function t4(e,t,{allOwnKeys:i=!1}={}){let r,a;if(null!=e){if("object"!=typeof e&&(e=[e]),tW(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{let a;let s=i?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;for(r=0;r<o;r++)a=s[r],t.call(null,e[a],a,e)}}}function t6(e,t){let i;t=t.toLowerCase();let r=Object.keys(e),a=r.length;for(;a-- >0;)if(t===(i=r[a]).toLowerCase())return i;return null}let t5="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:global,t8=e=>!tH(e)&&e!==t5,t7=(g="undefined"!=typeof Uint8Array&&tB(Uint8Array),e=>g&&e instanceof g),t9=tV("HTMLFormElement"),ie=(({hasOwnProperty:e})=>(t,i)=>e.call(t,i))(Object.prototype),it=tV("RegExp"),ii=(e,t)=>{let i=Object.getOwnPropertyDescriptors(e),r={};t4(i,(i,a)=>{let s;!1!==(s=t(i,a,e))&&(r[a]=s||i)}),Object.defineProperties(e,r)},ir="abcdefghijklmnopqrstuvwxyz",ia="0123456789",is={DIGIT:ia,ALPHA:ir,ALPHA_DIGIT:ir+ir.toUpperCase()+ia},io=tV("AsyncFunction"),ic={isArray:tW,isArrayBuffer:tG,isBuffer:function(e){return null!==e&&!tH(e)&&null!==e.constructor&&!tH(e.constructor)&&tY(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||tY(e.append)&&("formdata"===(t=tq(e))||"object"===t&&tY(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&tG(e.buffer)},isString:tK,isNumber:tJ,isBoolean:e=>!0===e||!1===e,isObject:tX,isPlainObject:tQ,isUndefined:tH,isDate:tZ,isFile:t0,isBlob:t1,isRegExp:it,isFunction:tY,isStream:e=>tX(e)&&tY(e.pipe),isURLSearchParams:t3,isTypedArray:t7,isFileList:t2,forEach:t4,merge:function e(){let{caseless:t}=t8(this)&&this||{},i={},r=(r,a)=>{let s=t&&t6(i,a)||a;tQ(i[s])&&tQ(r)?i[s]=e(i[s],r):tQ(r)?i[s]=e({},r):tW(r)?i[s]=r.slice():i[s]=r};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&t4(arguments[e],r);return i},extend:(e,t,i,{allOwnKeys:r}={})=>(t4(t,(t,r)=>{i&&tY(t)?e[r]=tF(t,i):e[r]=t},{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,i,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},toFlatObject:(e,t,i,r)=>{let a,s,o;let l={};if(t=t||{},null==e)return t;do{for(s=(a=Object.getOwnPropertyNames(e)).length;s-- >0;)o=a[s],(!r||r(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=!1!==i&&tB(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},kindOf:tq,kindOfTest:tV,endsWith:(e,t,i)=>{e=String(e),(void 0===i||i>e.length)&&(i=e.length),i-=t.length;let r=e.indexOf(t,i);return -1!==r&&r===i},toArray:e=>{if(!e)return null;if(tW(e))return e;let t=e.length;if(!tJ(t))return null;let i=Array(t);for(;t-- >0;)i[t]=e[t];return i},forEachEntry:(e,t)=>{let i;let r=(e&&e[Symbol.iterator]).call(e);for(;(i=r.next())&&!i.done;){let r=i.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let i;let r=[];for(;null!==(i=e.exec(t));)r.push(i);return r},isHTMLForm:t9,hasOwnProperty:ie,hasOwnProp:ie,reduceDescriptors:ii,freezeMethods:e=>{ii(e,(t,i)=>{if(tY(e)&&-1!==["arguments","caller","callee"].indexOf(i))return!1;if(tY(e[i])){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},toObjectSet:(e,t)=>{let i={};return(e=>{e.forEach(e=>{i[e]=!0})})(tW(e)?e:String(e).split(t)),i},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,i){return t.toUpperCase()+i}),noop:()=>{},toFiniteNumber:(e,t)=>Number.isFinite(e=+e)?e:t,findKey:t6,global:t5,isContextDefined:t8,ALPHABET:is,generateString:(e=16,t=is.ALPHA_DIGIT)=>{let i="",{length:r}=t;for(;e--;)i+=t[Math.random()*r|0];return i},isSpecCompliantForm:function(e){return!!(e&&tY(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{let t=Array(10),i=(e,r)=>{if(tX(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;let a=tW(e)?[]:{};return t4(e,(e,t)=>{let s=i(e,r+1);tH(s)||(a[t]=s)}),t[r]=void 0,a}}return e};return i(e,0)},isAsyncFn:io,isThenable:e=>e&&(tX(e)||tY(e))&&tY(e.then)&&tY(e.catch)};function il(e,t,i,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),r&&(this.request=r),a&&(this.response=a)}ic.inherits(il,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ic.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});let iu=il.prototype,ip={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ip[e]={value:e}}),Object.defineProperties(il,ip),Object.defineProperty(iu,"isAxiosError",{value:!0}),il.from=(e,t,i,r,a,s)=>{let o=Object.create(iu);return ic.toFlatObject(e,o,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),il.call(o,e.message,t,i,r,a),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};var id=i(20102);function ih(e){return ic.isPlainObject(e)||ic.isArray(e)}function im(e){return ic.endsWith(e,"[]")?e.slice(0,-2):e}function ig(e,t,i){return e?e.concat(t).map(function(e,t){return e=im(e),!i&&t?"["+e+"]":e}).join(i?".":""):t}let ib=ic.toFlatObject(ic,{},null,function(e){return/^is[A-Z]/.test(e)}),iv=function(e,t,i){if(!ic.isObject(e))throw TypeError("target must be an object");t=t||new(id||FormData);let r=(i=ic.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!ic.isUndefined(t[e])})).metaTokens,a=i.visitor||p,s=i.dots,o=i.indexes,l=(i.Blob||"undefined"!=typeof Blob&&Blob)&&ic.isSpecCompliantForm(t);if(!ic.isFunction(a))throw TypeError("visitor must be a function");function u(e){if(null===e)return"";if(ic.isDate(e))return e.toISOString();if(!l&&ic.isBlob(e))throw new il("Blob is not supported. Use a Buffer instead.");return ic.isArrayBuffer(e)||ic.isTypedArray(e)?l&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function p(e,i,a){let l=e;if(e&&!a&&"object"==typeof e){if(ic.endsWith(i,"{}"))i=r?i:i.slice(0,-2),e=JSON.stringify(e);else{var p;if(ic.isArray(e)&&(p=e,ic.isArray(p)&&!p.some(ih))||(ic.isFileList(e)||ic.endsWith(i,"[]"))&&(l=ic.toArray(e)))return i=im(i),l.forEach(function(e,r){ic.isUndefined(e)||null===e||t.append(!0===o?ig([i],r,s):null===o?i:i+"[]",u(e))}),!1}}return!!ih(e)||(t.append(ig(a,i,s),u(e)),!1)}let d=[],f=Object.assign(ib,{defaultVisitor:p,convertValue:u,isVisitable:ih});if(!ic.isObject(e))throw TypeError("data must be an object");return function e(i,r){if(!ic.isUndefined(i)){if(-1!==d.indexOf(i))throw Error("Circular reference detected in "+r.join("."));d.push(i),ic.forEach(i,function(i,s){!0===(!(ic.isUndefined(i)||null===i)&&a.call(t,i,ic.isString(s)?s.trim():s,r,f))&&e(i,r?r.concat(s):[s])}),d.pop()}}(e),t};function iy(e){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\x00"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function ix(e,t){this._pairs=[],e&&iv(e,this,t)}let iw=ix.prototype;function ik(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function i_(e,t,i){let r;if(!t)return e;let a=i&&i.encode||ik,s=i&&i.serialize;if(r=s?s(t,i):ic.isURLSearchParams(t)?t.toString():new ix(t,i).toString(a)){let t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}iw.append=function(e,t){this._pairs.push([e,t])},iw.toString=function(e){let t=e?function(t){return e.call(this,t,iy)}:iy;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};class iS{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!i&&i.synchronous,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ic.forEach(this.handlers,function(t){null!==t&&e(t)})}}let iT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},iC={isNode:!0,classes:{URLSearchParams:i(57310).URLSearchParams,FormData:id,Blob:"undefined"!=typeof Blob&&Blob||null},protocols:["http","https","file","data"]},iE=!1,iR=(b="undefined"!=typeof navigator&&navigator.product,iE&&0>["ReactNative","NativeScript","NS"].indexOf(b)),ij="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,iI={...Q,...iC},iO=function(e){if(ic.isFormData(e)&&ic.isFunction(e.entries)){let t={};return ic.forEachEntry(e,(e,i)=>{!function e(t,i,r,a){let s=t[a++];if("__proto__"===s)return!0;let o=Number.isFinite(+s),l=a>=t.length;return(s=!s&&ic.isArray(r)?r.length:s,l)?ic.hasOwnProp(r,s)?r[s]=[r[s],i]:r[s]=i:(r[s]&&ic.isObject(r[s])||(r[s]=[]),e(t,i,r[s],a)&&ic.isArray(r[s])&&(r[s]=function(e){let t,i;let r={},a=Object.keys(e),s=a.length;for(t=0;t<s;t++)r[i=a[t]]=e[i];return r}(r[s]))),!o}(ic.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0]),i,t,0)}),t}return null},iP={transitional:iT,adapter:["xhr","http"],transformRequest:[function(e,t){let i;let r=t.getContentType()||"",a=r.indexOf("application/json")>-1,s=ic.isObject(e);if(s&&ic.isHTMLForm(e)&&(e=new FormData(e)),ic.isFormData(e))return a?JSON.stringify(iO(e)):e;if(ic.isArrayBuffer(e)||ic.isBuffer(e)||ic.isStream(e)||ic.isFile(e)||ic.isBlob(e))return e;if(ic.isArrayBufferView(e))return e.buffer;if(ic.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1){var o,l;return(o=e,l=this.formSerializer,iv(o,new iI.classes.URLSearchParams,Object.assign({visitor:function(e,t,i,r){return iI.isNode&&ic.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},l))).toString()}if((i=ic.isFileList(e))||r.indexOf("multipart/form-data")>-1){let t=this.env&&this.env.FormData;return iv(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||a?(t.setContentType("application/json",!1),function(e,t,i){if(ic.isString(e))try{return(0,JSON.parse)(e),ic.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){let t=this.transitional||iP.transitional,i=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&ic.isString(e)&&(i&&!this.responseType||r)){let i=t&&t.silentJSONParsing;try{return JSON.parse(e)}catch(e){if(!i&&r){if("SyntaxError"===e.name)throw il.from(e,il.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:iI.classes.FormData,Blob:iI.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ic.forEach(["delete","get","head","post","put","patch"],e=>{iP.headers[e]={}});let iN=ic.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),iA=e=>{let t,i,r;let a={};return e&&e.split("\n").forEach(function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),i=e.substring(r+1).trim(),!t||a[t]&&iN[t]||("set-cookie"===t?a[t]?a[t].push(i):a[t]=[i]:a[t]=a[t]?a[t]+", "+i:i)}),a},iD=Symbol("internals");function iL(e){return e&&String(e).trim().toLowerCase()}function iU(e){return!1===e||null==e?e:ic.isArray(e)?e.map(iU):String(e)}let iM=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function iF(e,t,i,r,a){if(ic.isFunction(r))return r.call(this,t,i);if(a&&(t=i),ic.isString(t)){if(ic.isString(r))return -1!==t.indexOf(r);if(ic.isRegExp(r))return r.test(t)}}class i${constructor(e){e&&this.set(e)}set(e,t,i){let r=this;function a(e,t,i){let a=iL(t);if(!a)throw Error("header name must be a non-empty string");let s=ic.findKey(r,a);s&&void 0!==r[s]&&!0!==i&&(void 0!==i||!1===r[s])||(r[s||t]=iU(e))}let s=(e,t)=>ic.forEach(e,(e,i)=>a(e,i,t));return ic.isPlainObject(e)||e instanceof this.constructor?s(e,t):ic.isString(e)&&(e=e.trim())&&!iM(e)?s(iA(e),t):null!=e&&a(t,e,i),this}get(e,t){if(e=iL(e)){let i=ic.findKey(this,e);if(i){let e=this[i];if(!t)return e;if(!0===t)return function(e){let t;let i=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;for(;t=r.exec(e);)i[t[1]]=t[2];return i}(e);if(ic.isFunction(t))return t.call(this,e,i);if(ic.isRegExp(t))return t.exec(e);throw TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=iL(e)){let i=ic.findKey(this,e);return!!(i&&void 0!==this[i]&&(!t||iF(this,this[i],i,t)))}return!1}delete(e,t){let i=this,r=!1;function a(e){if(e=iL(e)){let a=ic.findKey(i,e);a&&(!t||iF(i,i[a],a,t))&&(delete i[a],r=!0)}}return ic.isArray(e)?e.forEach(a):a(e),r}clear(e){let t=Object.keys(this),i=t.length,r=!1;for(;i--;){let a=t[i];(!e||iF(this,this[a],a,e,!0))&&(delete this[a],r=!0)}return r}normalize(e){let t=this,i={};return ic.forEach(this,(r,a)=>{let s=ic.findKey(i,a);if(s){t[s]=iU(r),delete t[a];return}let o=e?a.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i):String(a).trim();o!==a&&delete t[a],t[o]=iU(r),i[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let t=Object.create(null);return ic.forEach(this,(i,r)=>{null!=i&&!1!==i&&(t[r]=e&&ic.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){let i=new this(e);return t.forEach(e=>i.set(e)),i}static accessor(e){let t=(this[iD]=this[iD]={accessors:{}}).accessors,i=this.prototype;function r(e){let r=iL(e);t[r]||(function(e,t){let i=ic.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+i,{value:function(e,i,a){return this[r].call(this,t,e,i,a)},configurable:!0})})}(i,e),t[r]=!0)}return ic.isArray(e)?e.forEach(r):r(e),this}}function iB(e,t){let i=this||iP,r=t||i,a=i$.from(r.headers),s=r.data;return ic.forEach(e,function(e){s=e.call(i,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function iq(e){return!!(e&&e.__CANCEL__)}function iV(e,t,i){il.call(this,null==e?"canceled":e,il.ERR_CANCELED,t,i),this.name="CanceledError"}function iz(e,t,i){let r=i.config.validateStatus;!i.status||!r||r(i.status)?e(i):t(new il("Request failed with status code "+i.status,[il.ERR_BAD_REQUEST,il.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function iW(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e:t}i$.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ic.reduceDescriptors(i$.prototype,({value:e},t)=>{let i=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[i]=e}}}),ic.freezeMethods(i$),ic.inherits(iV,il,{__CANCEL__:!0});var iH=i(86886),iG=i(13685),iK=i(95687),iY=i.n(iK),iJ=i(73837),iX=i(42136),iQ=i(59796);let iZ="1.6.7";function i0(e){let t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}let i1=/^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\s\S]*)$/;var i2=i(12781);let i3=function(e,t){let i=0,r=1e3/t,a=null;return function(t,s){let o=Date.now();if(t||o-i>r)return a&&(clearTimeout(a),a=null),i=o,e.apply(null,s);a||(a=setTimeout(()=>(a=null,i=Date.now(),e.apply(null,s)),r-(o-i)))}},i4=function(e,t){let i;let r=Array(e=e||10),a=Array(e),s=0,o=0;return t=void 0!==t?t:1e3,function(l){let u=Date.now(),p=a[o];i||(i=u),r[s]=l,a[s]=u;let d=o,f=0;for(;d!==s;)f+=r[d++],d%=e;if((s=(s+1)%e)===o&&(o=(o+1)%e),u-i<t)return;let m=p&&u-p;return m?Math.round(1e3*f/m):void 0}},i6=Symbol("internals");class i5 extends i2.Transform{constructor(e){super({readableHighWaterMark:(e=ic.toFlatObject(e,{maxRate:0,chunkSize:65536,minChunkSize:100,timeWindow:500,ticksRate:2,samplesCount:15},null,(e,t)=>!ic.isUndefined(t[e]))).chunkSize});let t=this,i=this[i6]={length:e.length,timeWindow:e.timeWindow,ticksRate:e.ticksRate,chunkSize:e.chunkSize,maxRate:e.maxRate,minChunkSize:e.minChunkSize,bytesSeen:0,isCaptured:!1,notifiedBytesLoaded:0,ts:Date.now(),bytes:0,onReadCallback:null},r=i4(i.ticksRate*e.samplesCount,i.timeWindow);this.on("newListener",e=>{"progress"!==e||i.isCaptured||(i.isCaptured=!0)});let a=0;i.updateProgress=i3(function(){let e=i.length,s=i.bytesSeen,o=s-a;if(!o||t.destroyed)return;let l=r(o);a=s,process.nextTick(()=>{t.emit("progress",{loaded:s,total:e,progress:e?s/e:void 0,bytes:o,rate:l||void 0,estimated:l&&e&&s<=e?(e-s)/l:void 0})})},i.ticksRate);let s=()=>{i.updateProgress(!0)};this.once("end",s),this.once("error",s)}_read(e){let t=this[i6];return t.onReadCallback&&t.onReadCallback(),super._read(e)}_transform(e,t,i){let r=this,a=this[i6],s=a.maxRate,o=this.readableHighWaterMark,l=a.timeWindow,u=s/(1e3/l),p=!1!==a.minChunkSize?Math.max(a.minChunkSize,.01*u):0,d=(e,t)=>{let i;let d=Buffer.byteLength(e),f=null,m=o,g=0;if(s){let e=Date.now();(!a.ts||(g=e-a.ts)>=l)&&(a.ts=e,i=u-a.bytes,a.bytes=i<0?-i:0,g=0),i=u-a.bytes}if(s){if(i<=0)return setTimeout(()=>{t(null,e)},l-g);i<m&&(m=i)}m&&d>m&&d-m>p&&(f=e.subarray(m),e=e.subarray(0,m)),function(e,t){let i=Buffer.byteLength(e);a.bytesSeen+=i,a.bytes+=i,a.isCaptured&&a.updateProgress(),r.push(e)?process.nextTick(t):a.onReadCallback=()=>{a.onReadCallback=null,process.nextTick(t)}}(e,f?()=>{process.nextTick(t,null,f)}:t)};d(e,function e(t,r){if(t)return i(t);r?d(r,e):i(null)})}setLength(e){return this[i6].length=+e,this}}var i8=i(82361);let{asyncIterator:i7}=Symbol,i9=async function*(e){e.stream?yield*e.stream():e.arrayBuffer?yield await e.arrayBuffer():e[i7]?yield*e[i7]():yield e},ne=ic.ALPHABET.ALPHA_DIGIT+"-_",nt=new iJ.TextEncoder,ni=nt.encode("\r\n");class nn{constructor(e,t){let{escapeName:i}=this.constructor,r=ic.isString(t),a=`Content-Disposition: form-data; name="${i(e)}"${!r&&t.name?`; filename="${i(t.name)}"`:""}\r
`;r?t=nt.encode(String(t).replace(/\r?\n|\r\n?/g,"\r\n")):a+=`Content-Type: ${t.type||"application/octet-stream"}\r
`,this.headers=nt.encode(a+"\r\n"),this.contentLength=r?t.byteLength:t.size,this.size=this.headers.byteLength+this.contentLength+2,this.name=e,this.value=t}async *encode(){yield this.headers;let{value:e}=this;ic.isTypedArray(e)?yield e:yield*i9(e),yield ni}static escapeName(e){return String(e).replace(/[\r\n"]/g,e=>({"\r":"%0D","\n":"%0A",'"':"%22"})[e])}}let nr=(e,t,i)=>{let{tag:r="form-data-boundary",size:a=25,boundary:s=r+"-"+ic.generateString(a,ne)}=i||{};if(!ic.isFormData(e))throw TypeError("FormData instance required");if(s.length<1||s.length>70)throw Error("boundary must be 10-70 characters long");let o=nt.encode("--"+s+"\r\n"),l=nt.encode("--"+s+"--\r\n\r\n"),u=l.byteLength,p=Array.from(e.entries()).map(([e,t])=>{let i=new nn(e,t);return u+=i.size,i});u+=o.byteLength*p.length;let d={"Content-Type":`multipart/form-data; boundary=${s}`};return Number.isFinite(u=ic.toFiniteNumber(u))&&(d["Content-Length"]=u),t&&t(d),i2.Readable.from(async function*(){for(let e of p)yield o,yield*e.encode();yield l}())};class na extends i2.Transform{__transform(e,t,i){this.push(e),i()}_transform(e,t,i){if(0!==e.length&&(this._transform=this.__transform,120!==e[0])){let e=Buffer.alloc(2);e[0]=120,e[1]=156,this.push(e,t)}this.__transform(e,t,i)}}let ns=(e,t)=>ic.isAsyncFn(e)?function(...i){let r=i.pop();e.apply(this,i).then(e=>{try{t?r(null,...t(e)):r(null,e)}catch(e){r(e)}},r)}:e,no={flush:iQ.constants.Z_SYNC_FLUSH,finishFlush:iQ.constants.Z_SYNC_FLUSH},nc={flush:iQ.constants.BROTLI_OPERATION_FLUSH,finishFlush:iQ.constants.BROTLI_OPERATION_FLUSH},nl=ic.isFunction(iQ.createBrotliDecompress),{http:nu,https:np}=iX,nd=/https:?/,nh=iI.protocols.map(e=>e+":");function nf(e,t){e.beforeRedirects.proxy&&e.beforeRedirects.proxy(e),e.beforeRedirects.config&&e.beforeRedirects.config(e,t)}let nm="undefined"!=typeof process&&"process"===ic.kindOf(process),ng=e=>new Promise((t,i)=>{let r,a;let s=(e,t)=>{!a&&(a=!0,r&&r(e,t))},o=e=>{s(e,!0),i(e)};e(e=>{s(e),t(e)},o,e=>r=e).catch(o)}),nb=({address:e,family:t})=>{if(!ic.isString(e))throw TypeError("address must be a string");return{address:e,family:t||(0>e.indexOf(".")?6:4)}},nv=(e,t)=>nb(ic.isObject(e)?e:{address:e,family:t}),ny=nm&&function(e){return ng(async function(t,i,r){let a,s,o,l,u,p,d,{data:f,lookup:m,family:g}=e,{responseType:b,responseEncoding:v}=e,y=e.method.toUpperCase(),x=!1;if(m){let e=ns(m,e=>ic.isArray(e)?e:[e]);m=(t,i,r)=>{e(t,i,(e,t,a)=>{if(e)return r(e);let s=ic.isArray(t)?t.map(e=>nv(e)):[nv(t,a)];i.all?r(e,s):r(e,s[0].address,s[0].family)})}}let w=new i8,k=()=>{e.cancelToken&&e.cancelToken.unsubscribe(_),e.signal&&e.signal.removeEventListener("abort",_),w.removeAllListeners()};function _(t){w.emit("abort",!t||t.type?new iV(null,e,u):t)}r((e,t)=>{l=!0,t&&(x=!0,k())}),w.once("abort",i),(e.cancelToken||e.signal)&&(e.cancelToken&&e.cancelToken.subscribe(_),e.signal&&(e.signal.aborted?_():e.signal.addEventListener("abort",_)));let S=iW(e.baseURL,e.url),T=new URL(S,"http://localhost"),C=T.protocol||nh[0];if("data:"===C){let r;if("GET"!==y)return iz(t,i,{status:405,statusText:"method not allowed",headers:{},config:e});try{r=function(e,t,i){let r=i&&i.Blob||iI.classes.Blob,a=i0(e);if(void 0===t&&r&&(t=!0),"data"===a){e=a.length?e.slice(a.length+1):e;let i=i1.exec(e);if(!i)throw new il("Invalid URL",il.ERR_INVALID_URL);let s=i[1],o=i[2],l=i[3],u=Buffer.from(decodeURIComponent(l),o?"base64":"utf8");if(t){if(!r)throw new il("Blob is not supported",il.ERR_NOT_SUPPORT);return new r([u],{type:s})}return u}throw new il("Unsupported protocol "+a,il.ERR_NOT_SUPPORT)}(e.url,"blob"===b,{Blob:e.env&&e.env.Blob})}catch(t){throw il.from(t,il.ERR_BAD_REQUEST,e)}return"text"===b?(r=r.toString(v),v&&"utf8"!==v||(r=ic.stripBOM(r))):"stream"===b&&(r=i2.Readable.from(r)),iz(t,i,{data:r,status:200,statusText:"OK",headers:new i$,config:e})}if(-1===nh.indexOf(C))return i(new il("Unsupported protocol "+C,il.ERR_BAD_REQUEST,e));let E=i$.from(e.headers).normalize();E.set("User-Agent","axios/"+iZ,!1);let R=e.onDownloadProgress,j=e.onUploadProgress,I=e.maxRate;if(ic.isSpecCompliantForm(f)){let e=E.getContentType(/boundary=([-_\w\d]{10,70})/i);f=nr(f,e=>{E.set(e)},{tag:`axios-${iZ}-boundary`,boundary:e&&e[1]||void 0})}else if(ic.isFormData(f)&&ic.isFunction(f.getHeaders)){if(E.set(f.getHeaders()),!E.hasContentLength())try{let e=await iJ.promisify(f.getLength).call(f);Number.isFinite(e)&&e>=0&&E.setContentLength(e)}catch(e){}}else if(ic.isBlob(f))f.size&&E.setContentType(f.type||"application/octet-stream"),E.setContentLength(f.size||0),f=i2.Readable.from(i9(f));else if(f&&!ic.isStream(f)){if(Buffer.isBuffer(f));else if(ic.isArrayBuffer(f))f=Buffer.from(new Uint8Array(f));else{if(!ic.isString(f))return i(new il("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",il.ERR_BAD_REQUEST,e));f=Buffer.from(f,"utf-8")}if(E.setContentLength(f.length,!1),e.maxBodyLength>-1&&f.length>e.maxBodyLength)return i(new il("Request body larger than maxBodyLength limit",il.ERR_BAD_REQUEST,e))}let O=ic.toFiniteNumber(E.getContentLength());ic.isArray(I)?(a=I[0],s=I[1]):a=s=I,f&&(j||a)&&(ic.isStream(f)||(f=i2.Readable.from(f,{objectMode:!1})),f=i2.pipeline([f,new i5({length:O,maxRate:ic.toFiniteNumber(a)})],ic.noop),j&&f.on("progress",e=>{j(Object.assign(e,{upload:!0}))})),e.auth&&(o=(e.auth.username||"")+":"+(e.auth.password||"")),!o&&T.username&&(o=T.username+":"+T.password),o&&E.delete("authorization");try{p=i_(T.pathname+T.search,e.params,e.paramsSerializer).replace(/^\?/,"")}catch(r){let t=Error(r.message);return t.config=e,t.url=e.url,t.exists=!0,i(t)}E.set("Accept-Encoding","gzip, compress, deflate"+(nl?", br":""),!1);let P={path:p,method:y,headers:E.toJSON(),agents:{http:e.httpAgent,https:e.httpsAgent},auth:o,protocol:C,family:g,beforeRedirect:nf,beforeRedirects:{}};ic.isUndefined(m)||(P.lookup=m),e.socketPath?P.socketPath=e.socketPath:(P.hostname=T.hostname,P.port=T.port,function e(t,i,r){let a=i;if(!a&&!1!==a){let e=(0,iH.j)(r);e&&(a=new URL(e))}if(a){if(a.username&&(a.auth=(a.username||"")+":"+(a.password||"")),a.auth){(a.auth.username||a.auth.password)&&(a.auth=(a.auth.username||"")+":"+(a.auth.password||""));let e=Buffer.from(a.auth,"utf8").toString("base64");t.headers["Proxy-Authorization"]="Basic "+e}t.headers.host=t.hostname+(t.port?":"+t.port:"");let e=a.hostname||a.host;t.hostname=e,t.host=e,t.port=a.port,t.path=r,a.protocol&&(t.protocol=a.protocol.includes(":")?a.protocol:`${a.protocol}:`)}t.beforeRedirects.proxy=function(t){e(t,i,t.href)}}(P,e.proxy,C+"//"+T.hostname+(T.port?":"+T.port:"")+P.path));let N=nd.test(P.protocol);if(P.agent=N?e.httpsAgent:e.httpAgent,e.transport?d=e.transport:0===e.maxRedirects?d=N?iK:iG:(e.maxRedirects&&(P.maxRedirects=e.maxRedirects),e.beforeRedirect&&(P.beforeRedirects.config=e.beforeRedirect),d=N?np:nu),e.maxBodyLength>-1?P.maxBodyLength=e.maxBodyLength:P.maxBodyLength=1/0,e.insecureHTTPParser&&(P.insecureHTTPParser=e.insecureHTTPParser),u=d.request(P,function(r){if(u.destroyed)return;let a=[r],o=+r.headers["content-length"];if(R){let e=new i5({length:ic.toFiniteNumber(o),maxRate:ic.toFiniteNumber(s)});R&&e.on("progress",e=>{R(Object.assign(e,{download:!0}))}),a.push(e)}let l=r,p=r.req||u;if(!1!==e.decompress&&r.headers["content-encoding"])switch(("HEAD"===y||204===r.statusCode)&&delete r.headers["content-encoding"],(r.headers["content-encoding"]||"").toLowerCase()){case"gzip":case"x-gzip":case"compress":case"x-compress":a.push(iQ.createUnzip(no)),delete r.headers["content-encoding"];break;case"deflate":a.push(new na),a.push(iQ.createUnzip(no)),delete r.headers["content-encoding"];break;case"br":nl&&(a.push(iQ.createBrotliDecompress(nc)),delete r.headers["content-encoding"])}l=a.length>1?i2.pipeline(a,ic.noop):a[0];let d=i2.finished(l,()=>{d(),k()}),f={status:r.statusCode,statusText:r.statusMessage,headers:new i$(r.headers),config:e,request:p};if("stream"===b)f.data=l,iz(t,i,f);else{let r=[],a=0;l.on("data",function(t){r.push(t),a+=t.length,e.maxContentLength>-1&&a>e.maxContentLength&&(x=!0,l.destroy(),i(new il("maxContentLength size of "+e.maxContentLength+" exceeded",il.ERR_BAD_RESPONSE,e,p)))}),l.on("aborted",function(){if(x)return;let t=new il("maxContentLength size of "+e.maxContentLength+" exceeded",il.ERR_BAD_RESPONSE,e,p);l.destroy(t),i(t)}),l.on("error",function(t){u.destroyed||i(il.from(t,null,e,p))}),l.on("end",function(){try{let e=1===r.length?r[0]:Buffer.concat(r);"arraybuffer"===b||(e=e.toString(v),v&&"utf8"!==v||(e=ic.stripBOM(e))),f.data=e}catch(t){return i(il.from(t,null,e,f.request,f))}iz(t,i,f)})}w.once("abort",e=>{l.destroyed||(l.emit("error",e),l.destroy())})}),w.once("abort",e=>{i(e),u.destroy(e)}),u.on("error",function(t){i(il.from(t,null,e,u))}),u.on("socket",function(e){e.setKeepAlive(!0,6e4)}),e.timeout){let t=parseInt(e.timeout,10);if(Number.isNaN(t)){i(new il("error trying to parse `config.timeout` to int",il.ERR_BAD_OPTION_VALUE,e,u));return}u.setTimeout(t,function(){if(l)return;let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||iT;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),i(new il(t,r.clarifyTimeoutError?il.ETIMEDOUT:il.ECONNABORTED,e,u)),_()})}if(ic.isStream(f)){let t=!1,i=!1;f.on("end",()=>{t=!0}),f.once("error",e=>{i=!0,u.destroy(e)}),f.on("close",()=>{t||i||_(new iV("Request stream has been aborted",e,u))}),f.pipe(u)}else u.end(f)})},nx=iI.hasStandardBrowserEnv?{write(e,t,i,r,a,s){let o=[e+"="+encodeURIComponent(t)];ic.isNumber(i)&&o.push("expires="+new Date(i).toGMTString()),ic.isString(r)&&o.push("path="+r),ic.isString(a)&&o.push("domain="+a),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(e){let t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}},nw=iI.hasStandardBrowserEnv?function(){let e;let t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function r(e){let r=e;return t&&(i.setAttribute("href",r),r=i.href),i.setAttribute("href",r),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return e=r(window.location.href),function(t){let i=ic.isString(t)?r(t):t;return i.protocol===e.protocol&&i.host===e.host}}():function(){return!0};function nk(e,t){let i=0,r=i4(50,250);return a=>{let s=a.loaded,o=a.lengthComputable?a.total:void 0,l=s-i,u=r(l);i=s;let p={loaded:s,total:o,progress:o?s/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&s<=o?(o-s)/u:void 0,event:a};p[t?"download":"upload"]=!0,e(p)}}let n_={http:ny,xhr:"undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,i){let r,a,s=e.data,o=i$.from(e.headers).normalize(),{responseType:l,withXSRFToken:u}=e;function p(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}if(ic.isFormData(s)){if(iI.hasStandardBrowserEnv||iI.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if(!1!==(a=o.getContentType())){let[e,...t]=a?a.split(";").map(e=>e.trim()).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}}let d=new XMLHttpRequest;if(e.auth){let t=e.auth.username||"",i=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(t+":"+i))}let f=iW(e.baseURL,e.url);function m(){if(!d)return;let r=i$.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders());iz(function(e){t(e),p()},function(e){i(e),p()},{data:l&&"text"!==l&&"json"!==l?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:r,config:e,request:d}),d=null}if(d.open(e.method.toUpperCase(),i_(f,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,"onloadend"in d?d.onloadend=m:d.onreadystatechange=function(){d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))&&setTimeout(m)},d.onabort=function(){d&&(i(new il("Request aborted",il.ECONNABORTED,e,d)),d=null)},d.onerror=function(){i(new il("Network Error",il.ERR_NETWORK,e,d)),d=null},d.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||iT;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),i(new il(t,r.clarifyTimeoutError?il.ETIMEDOUT:il.ECONNABORTED,e,d)),d=null},iI.hasStandardBrowserEnv&&(u&&ic.isFunction(u)&&(u=u(e)),u||!1!==u&&nw(f))){let t=e.xsrfHeaderName&&e.xsrfCookieName&&nx.read(e.xsrfCookieName);t&&o.set(e.xsrfHeaderName,t)}void 0===s&&o.setContentType(null),"setRequestHeader"in d&&ic.forEach(o.toJSON(),function(e,t){d.setRequestHeader(t,e)}),ic.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),l&&"json"!==l&&(d.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",nk(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",nk(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=t=>{d&&(i(!t||t.type?new iV(null,e,d):t),d.abort(),d=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));let g=i0(f);if(g&&-1===iI.protocols.indexOf(g)){i(new il("Unsupported protocol "+g+":",il.ERR_BAD_REQUEST,e));return}d.send(s||null)})}};ic.forEach(n_,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}});let nS=e=>`- ${e}`,nT=e=>ic.isFunction(e)||null===e||!1===e,nC={getAdapter:e=>{let t,i;let{length:r}=e=ic.isArray(e)?e:[e],a={};for(let s=0;s<r;s++){let r;if(i=t=e[s],!nT(t)&&void 0===(i=n_[(r=String(t)).toLowerCase()]))throw new il(`Unknown adapter '${r}'`);if(i)break;a[r||"#"+s]=i}if(!i){let e=Object.entries(a).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));throw new il("There is no suitable adapter to dispatch the request "+(r?e.length>1?"since :\n"+e.map(nS).join("\n"):" "+nS(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return i},adapters:n_};function nE(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new iV(null,e)}function nR(e){return nE(e),e.headers=i$.from(e.headers),e.data=iB.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),nC.getAdapter(e.adapter||iP.adapter)(e).then(function(t){return nE(e),t.data=iB.call(e,e.transformResponse,t),t.headers=i$.from(t.headers),t},function(t){return!iq(t)&&(nE(e),t&&t.response&&(t.response.data=iB.call(e,e.transformResponse,t.response),t.response.headers=i$.from(t.response.headers))),Promise.reject(t)})}let nj=e=>e instanceof i$?e.toJSON():e;function nI(e,t){t=t||{};let i={};function r(e,t,i){return ic.isPlainObject(e)&&ic.isPlainObject(t)?ic.merge.call({caseless:i},e,t):ic.isPlainObject(t)?ic.merge({},t):ic.isArray(t)?t.slice():t}function a(e,t,i){return ic.isUndefined(t)?ic.isUndefined(e)?void 0:r(void 0,e,i):r(e,t,i)}function s(e,t){if(!ic.isUndefined(t))return r(void 0,t)}function o(e,t){return ic.isUndefined(t)?ic.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function l(i,a,s){return s in t?r(i,a):s in e?r(void 0,i):void 0}let u={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(e,t)=>a(nj(e),nj(t),!0)};return ic.forEach(Object.keys(Object.assign({},e,t)),function(r){let s=u[r]||a,o=s(e[r],t[r],r);ic.isUndefined(o)&&s!==l||(i[r]=o)}),i}let nO={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{nO[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});let nP={};nO.transitional=function(e,t,i){function r(e,t){return"[Axios v"+iZ+"] Transitional option '"+e+"'"+t+(i?". "+i:"")}return(i,a,s)=>{if(!1===e)throw new il(r(a," has been removed"+(t?" in "+t:"")),il.ERR_DEPRECATED);return t&&!nP[a]&&(nP[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(i,a,s)}};let nN={assertOptions:function(e,t,i){if("object"!=typeof e)throw new il("options must be an object",il.ERR_BAD_OPTION_VALUE);let r=Object.keys(e),a=r.length;for(;a-- >0;){let s=r[a],o=t[s];if(o){let t=e[s],i=void 0===t||o(t,s,e);if(!0!==i)throw new il("option "+s+" must be "+i,il.ERR_BAD_OPTION_VALUE);continue}if(!0!==i)throw new il("Unknown option "+s,il.ERR_BAD_OPTION)}},validators:nO},nA=nN.validators;class nD{constructor(e){this.defaults=e,this.interceptors={request:new iS,response:new iS}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=Error();let i=t.stack?t.stack.replace(/^.+\n/,""):"";e.stack?i&&!String(e.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+i):e.stack=i}throw e}}_request(e,t){let i,r;"string"==typeof e?(t=t||{}).url=e:t=e||{};let{transitional:a,paramsSerializer:s,headers:o}=t=nI(this.defaults,t);void 0!==a&&nN.assertOptions(a,{silentJSONParsing:nA.transitional(nA.boolean),forcedJSONParsing:nA.transitional(nA.boolean),clarifyTimeoutError:nA.transitional(nA.boolean)},!1),null!=s&&(ic.isFunction(s)?t.paramsSerializer={serialize:s}:nN.assertOptions(s,{encode:nA.function,serialize:nA.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=o&&ic.merge(o.common,o[t.method]);o&&ic.forEach(["delete","get","head","post","put","patch","common"],e=>{delete o[e]}),t.headers=i$.concat(l,o);let u=[],p=!0;this.interceptors.request.forEach(function(e){("function"!=typeof e.runWhen||!1!==e.runWhen(t))&&(p=p&&e.synchronous,u.unshift(e.fulfilled,e.rejected))});let d=[];this.interceptors.response.forEach(function(e){d.push(e.fulfilled,e.rejected)});let f=0;if(!p){let e=[nR.bind(this),void 0];for(e.unshift.apply(e,u),e.push.apply(e,d),r=e.length,i=Promise.resolve(t);f<r;)i=i.then(e[f++],e[f++]);return i}r=u.length;let m=t;for(f=0;f<r;){let e=u[f++],t=u[f++];try{m=e(m)}catch(e){t.call(this,e);break}}try{i=nR.call(this,m)}catch(e){return Promise.reject(e)}for(f=0,r=d.length;f<r;)i=i.then(d[f++],d[f++]);return i}getUri(e){return i_(iW((e=nI(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}ic.forEach(["delete","get","head","options"],function(e){nD.prototype[e]=function(t,i){return this.request(nI(i||{},{method:e,url:t,data:(i||{}).data}))}}),ic.forEach(["post","put","patch"],function(e){function t(t){return function(i,r,a){return this.request(nI(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:i,data:r}))}}nD.prototype[e]=t(),nD.prototype[e+"Form"]=t(!0)});class nL{constructor(e){let t;if("function"!=typeof e)throw TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});let i=this;this.promise.then(e=>{if(!i._listeners)return;let t=i._listeners.length;for(;t-- >0;)i._listeners[t](e);i._listeners=null}),this.promise.then=e=>{let t;let r=new Promise(e=>{i.subscribe(e),t=e}).then(e);return r.cancel=function(){i.unsubscribe(t)},r},e(function(e,r,a){i.reason||(i.reason=new iV(e,r,a),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new nL(function(t){e=t}),cancel:e}}}let nU={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(nU).forEach(([e,t])=>{nU[t]=e});let nM=function e(t){let i=new nD(t),r=tF(nD.prototype.request,i);return ic.extend(r,nD.prototype,i,{allOwnKeys:!0}),ic.extend(r,i,null,{allOwnKeys:!0}),r.create=function(i){return e(nI(t,i))},r}(iP);nM.Axios=nD,nM.CanceledError=iV,nM.CancelToken=nL,nM.isCancel=iq,nM.VERSION=iZ,nM.toFormData=iv,nM.AxiosError=il,nM.Cancel=nM.CanceledError,nM.all=function(e){return Promise.all(e)},nM.spread=function(e){return function(t){return e.apply(null,t)}},nM.isAxiosError=function(e){return ic.isObject(e)&&!0===e.isAxiosError},nM.mergeConfig=nI,nM.AxiosHeaders=i$,nM.formToJSON=e=>iO(ic.isHTMLForm(e)?new FormData(e):e),nM.getAdapter=nC.getAdapter,nM.HttpStatusCode=nU,nM.default=nM;let{Axios:nF,AxiosError:n$,CanceledError:nB,isCancel:nq,CancelToken:nV,VERSION:nz,all:nW,Cancel:nH,isAxiosError:nG,spread:nK,toFormData:nY,AxiosHeaders:nJ,HttpStatusCode:nX,formToJSON:nQ,getAdapter:nZ,mergeConfig:n0}=nM;class n1 extends Error{constructor(e,t="UNKNOWN",i){super(e),this.name="RpcError",Object.setPrototypeOf(this,new.target.prototype),this.code=t,this.meta=null!=i?i:{}}toString(){let e=[this.name+": "+this.message];this.code&&(e.push(""),e.push("Code: "+this.code)),this.serviceName&&this.methodName&&e.push("Method: "+this.serviceName+"/"+this.methodName);let t=Object.entries(this.meta);if(t.length)for(let[i,r]of(e.push(""),e.push("Meta:"),t))e.push(`  ${i}: ${r}`);return e.join("\n")}}function n2(e,t){if(e)for(let[i,r]of Object.entries(e))r instanceof Date?t[i]=new Date(r.getTime()):Array.isArray(r)?t[i]=r.concat():t[i]=r}(function(e){e[e.cancelled=0]="cancelled",e[e.unknown=1]="unknown",e[e.invalid_argument=2]="invalid_argument",e[e.malformed=3]="malformed",e[e.deadline_exceeded=4]="deadline_exceeded",e[e.not_found=5]="not_found",e[e.bad_route=6]="bad_route",e[e.already_exists=7]="already_exists",e[e.permission_denied=8]="permission_denied",e[e.unauthenticated=9]="unauthenticated",e[e.resource_exhausted=10]="resource_exhausted",e[e.failed_precondition=11]="failed_precondition",e[e.aborted=12]="aborted",e[e.out_of_range=13]="out_of_range",e[e.unimplemented=14]="unimplemented",e[e.internal=15]="internal",e[e.unavailable=16]="unavailable",e[e.dataloss=17]="dataloss"})(_||(_={})),function(e){e[e.PENDING=0]="PENDING",e[e.REJECTED=1]="REJECTED",e[e.RESOLVED=2]="RESOLVED"}(S||(S={}));class n3{constructor(e=!0){this._state=S.PENDING,this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t}),e&&this._promise.catch(e=>{})}get state(){return this._state}get promise(){return this._promise}resolve(e){if(this.state!==S.PENDING)throw Error(`cannot resolve ${S[this.state].toLowerCase()}`);this._resolve(e),this._state=S.RESOLVED}reject(e){if(this.state!==S.PENDING)throw Error(`cannot reject ${S[this.state].toLowerCase()}`);this._reject(e),this._state=S.REJECTED}resolvePending(e){this._state===S.PENDING&&this.resolve(e)}rejectPending(e){this._state===S.PENDING&&this.reject(e)}}class n4{constructor(e,t,i,r,a,s,o){this.method=e,this.requestHeaders=t,this.request=i,this.headers=r,this.response=a,this.status=s,this.trailers=o}then(e,t){return this.promiseFinished().then(t=>e?Promise.resolve(e(t)):t,e=>t?Promise.resolve(t(e)):Promise.reject(e))}promiseFinished(){var e,t,i,r;return e=this,t=void 0,i=void 0,r=function*(){let[e,t,i,r]=yield Promise.all([this.headers,this.response,this.status,this.trailers]);return{method:this.method,requestHeaders:this.requestHeaders,request:this.request,headers:e,response:t,status:i,trailers:r}},new(i||(i=Promise))(function(a,s){function o(e){try{u(r.next(e))}catch(e){s(e)}}function l(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?a(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(o,l)}u((r=r.apply(e,t||[])).next())})}}class n6{constructor(e){this.defaultOptions=e}mergeOptions(e){return function(e,t){if(!t)return e;let i={};for(let s of(n2(e,i),n2(t,i),Object.keys(t))){let o=t[s];switch(s){case"jsonOptions":i.jsonOptions=function(e,t){var i,r;let a=Object.assign(Object.assign({},e),t);return a.typeRegistry=[...null!==(i=null==e?void 0:e.typeRegistry)&&void 0!==i?i:[],...null!==(r=null==t?void 0:t.typeRegistry)&&void 0!==r?r:[]],a}(e.jsonOptions,i.jsonOptions);break;case"binaryOptions":var r,a;i.binaryOptions=(r=e.binaryOptions,a=i.binaryOptions,Object.assign(Object.assign({},r),a));break;case"meta":i.meta={},n2(e.meta,i.meta),n2(t.meta,i.meta);break;case"interceptors":i.interceptors=e.interceptors?e.interceptors.concat(o):o.concat()}}return i}(this.defaultOptions,e)}unary(e,t,i){var r,a,s;let o=this.makeUrl(e,i),l=null!==(r=i.fetchInit)&&void 0!==r?r:{},u=i.sendJson?e.I.toJsonString(t,i.jsonOptions):e.I.toBinary(t,i.binaryOptions),p=new n3,d=new n3,f=new n3,m=new n3;return globalThis.fetch(o,Object.assign(Object.assign({},l),{method:"POST",headers:function(e,t,i){if(i)for(let[t,r]of Object.entries(i))if("string"==typeof r)e.append(t,r);else for(let i of r)e.append(t,i);return e.set("Content-Type",t?"application/json":"application/protobuf"),e.set("Accept",t?"application/json":"application/protobuf, application/json"),e}(new globalThis.Headers,!!i.sendJson,i.meta),body:u,signal:null!==(a=i.abort)&&void 0!==a?a:null})).then(t=>{var r;let a,s;p.resolve((r=t.headers,s={},r.forEach((e,t)=>{"content-type"!==t.toLowerCase()&&"content-length"!==t.toLowerCase()&&(s.hasOwnProperty(t)?s[t].push(e):s[t]=e)}),s));try{a=t.type}catch(e){}switch(a){case"error":case"opaque":case"opaqueredirect":throw new n1(`fetch response type ${t.type}`,_[_.unknown])}return t.ok?i.sendJson?t.json().then(t=>e.O.fromJson(t,i.jsonOptions),()=>{throw new n1("unable to read response body as json",_[_.dataloss])}):t.arrayBuffer().then(t=>e.O.fromBinary(new Uint8Array(t),i.binaryOptions),()=>{throw new n1("unable to read response body",_[_.dataloss])}):t.json().then(e=>{throw function(e){if(!tt(e)||"string"!=typeof e.code||"string"!=typeof e.msg)return new n1("cannot read twirp error response",_[_.internal]);let t={};if(tt(e.meta))for(let[i,r]of Object.entries(e.meta))"string"==typeof r&&(t[i]=r);return new n1(e.msg,e.code,t)}(e)},()=>{throw new n1("received HTTP "+t.status+", unable to read response body as json",_[_.internal])})},e=>{if(e instanceof Error&&"AbortError"===e.name)throw new n1(e.message,_[_.cancelled]);throw new n1(e instanceof Error?e.message:e)}).then(e=>{d.resolve(e),f.resolve({code:"OK",detail:""}),m.resolve({})}).catch(t=>{let i=t instanceof n1?t:new n1(t instanceof Error?t.message:t,_[_.internal]);i.methodName=e.name,i.serviceName=e.service.typeName,p.rejectPending(i),d.rejectPending(i),f.rejectPending(i),m.rejectPending(i)}),new n4(e,null!==(s=i.meta)&&void 0!==s?s:{},t,p.promise,d.promise,f.promise,m.promise)}makeUrl(e,t){let i=t.baseUrl;i.endsWith("/")&&(i=i.substring(0,i.length-1));let r=e.name;return!0!==t.useProtoMethodName&&(r=(r=e8(r)).substring(0,1).toUpperCase()+r.substring(1)),`${i}/${e.service.typeName}/${r}`}clientStreaming(e){let t=new n1("Client streaming is not supported by Twirp",_[_.unimplemented]);throw t.methodName=e.name,t.serviceName=e.service.typeName,t}duplex(e){let t=new n1("Duplex streaming is not supported by Twirp",_[_.unimplemented]);throw t.methodName=e.name,t.serviceName=e.service.typeName,t}serverStreaming(e){let t=new n1("Server streaming is not supported by Twirp",_[_.unimplemented]);throw t.methodName=e.name,t.serviceName=e.service.typeName,t}}var n5=function(e,t){return(n5=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)};function n8(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}n5(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}function n7(e,t){var i,r,a,s,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function l(l){return function(u){return function(l){if(i)throw TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(o=0)),o;)try{if(i=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{i=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,u])}}}function n9(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],r=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function re(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var r,a,s=i.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(i=s.return)&&i.call(s)}finally{if(a)throw a.error}}return o}function rt(e,t,i){if(i||2==arguments.length)for(var r,a=0,s=t.length;a<s;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}function ri(e){return this instanceof ri?(this.v=e,this):new ri(e)}function rn(e){return"function"==typeof e}function rr(e){var t=e(function(e){Error.call(e),e.stack=Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var ra=rr(function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}});function rs(e,t){if(e){var i=e.indexOf(t);0<=i&&e.splice(i,1)}}var ro=function(){var e;function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e,t,i,r,a,s=this._parentage;if(s){if(this._parentage=null,Array.isArray(s))try{for(var o=n9(s),l=o.next();!l.done;l=o.next())l.value.remove(this)}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}else s.remove(this)}var u=this.initialTeardown;if(rn(u))try{u()}catch(e){a=e instanceof ra?e.errors:[e]}var p=this._finalizers;if(p){this._finalizers=null;try{for(var d=n9(p),f=d.next();!f.done;f=d.next()){var m=f.value;try{ru(m)}catch(e){a=null!=a?a:[],e instanceof ra?a=rt(rt([],re(a)),re(e.errors)):a.push(e)}}}catch(e){i={error:e}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(i)throw i.error}}}if(a)throw new ra(a)}},t.prototype.add=function(e){var i;if(e&&e!==this){if(this.closed)ru(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(i=this._finalizers)&&void 0!==i?i:[]).push(e)}}},t.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},t.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},t.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&rs(t,e)},t.prototype.remove=function(e){var i=this._finalizers;i&&rs(i,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t}(),rc=ro.EMPTY;function rl(e){return e instanceof ro||e&&"closed"in e&&rn(e.remove)&&rn(e.add)&&rn(e.unsubscribe)}function ru(e){rn(e)?e():e.unsubscribe()}var rp={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},rd={setTimeout:function(e,t){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];var a=rd.delegate;return(null==a?void 0:a.setTimeout)?a.setTimeout.apply(a,rt([e,t],re(i))):setTimeout.apply(void 0,rt([e,t],re(i)))},clearTimeout:function(e){var t=rd.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function rh(e){rd.setTimeout(function(){var t=rp.onUnhandledError;if(t)t(e);else throw e})}function rf(){}var rm=rg("C",void 0,void 0);function rg(e,t,i){return{kind:e,value:t,error:i}}var rb=null;function rv(e){if(rp.useDeprecatedSynchronousErrorHandling){var t=!rb;if(t&&(rb={errorThrown:!1,error:null}),e(),t){var i=rb,r=i.errorThrown,a=i.error;if(rb=null,r)throw a}}else e()}var ry=function(e){function t(t){var i=e.call(this)||this;return i.isStopped=!1,t?(i.destination=t,rl(t)&&t.add(i)):i.destination=rC,i}return n8(t,e),t.create=function(e,t,i){return new r_(e,t,i)},t.prototype.next=function(e){this.isStopped?rT(rg("N",e,void 0),this):this._next(e)},t.prototype.error=function(e){this.isStopped?rT(rg("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?rT(rm,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(ro),rx=Function.prototype.bind;function rw(e,t){return rx.call(e,t)}var rk=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){rS(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){rS(e)}else rS(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){rS(e)}},e}(),r_=function(e){function t(t,i,r){var a,s,o=e.call(this)||this;return rn(t)||!t?a={next:null!=t?t:void 0,error:null!=i?i:void 0,complete:null!=r?r:void 0}:o&&rp.useDeprecatedNextContext?((s=Object.create(t)).unsubscribe=function(){return o.unsubscribe()},a={next:t.next&&rw(t.next,s),error:t.error&&rw(t.error,s),complete:t.complete&&rw(t.complete,s)}):a=t,o.destination=new rk(a),o}return n8(t,e),t}(ry);function rS(e){rp.useDeprecatedSynchronousErrorHandling?rp.useDeprecatedSynchronousErrorHandling&&rb&&(rb.errorThrown=!0,rb.error=e):rh(e)}function rT(e,t){var i=rp.onStoppedNotification;i&&rd.setTimeout(function(){return i(e,t)})}var rC={closed:!0,next:rf,error:function(e){throw e},complete:rf},rE="function"==typeof Symbol&&Symbol.observable||"@@observable";function rR(e){return e}var rj=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var i=new e;return i.source=this,i.operator=t,i},e.prototype.subscribe=function(e,t,i){var r,a=this,s=(r=e)&&r instanceof ry||r&&rn(r.next)&&rn(r.error)&&rn(r.complete)&&rl(r)?e:new r_(e,t,i);return rv(function(){var e=a.operator,t=a.source;s.add(e?e.call(s,t):t?a._subscribe(s):a._trySubscribe(s))}),s},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var i=this;return new(t=rI(t))(function(t,r){var a=new r_({next:function(t){try{e(t)}catch(e){r(e),a.unsubscribe()}},error:r,complete:t});i.subscribe(a)})},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[rE]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===e.length?rR:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)})(this)},e.prototype.toPromise=function(e){var t=this;return new(e=rI(e))(function(e,i){var r;t.subscribe(function(e){return r=e},function(e){return i(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();function rI(e){var t;return null!==(t=null!=e?e:rp.Promise)&&void 0!==t?t:Promise}var rO=rr(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),rP=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return n8(t,e),t.prototype.lift=function(e){var t=new rN(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new rO},t.prototype.next=function(e){var t=this;rv(function(){var i,r;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var a=n9(t.currentObservers),s=a.next();!s.done;s=a.next())s.value.next(e)}catch(e){i={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}}})},t.prototype.error=function(e){var t=this;rv(function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var i=t.observers;i.length;)i.shift().error(e)}})},t.prototype.complete=function(){var e=this;rv(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,i=this.hasError,r=this.isStopped,a=this.observers;return i||r?rc:(this.currentObservers=null,a.push(e),new ro(function(){t.currentObservers=null,rs(a,e)}))},t.prototype._checkFinalizedStatuses=function(e){var t=this.hasError,i=this.thrownError,r=this.isStopped;t?e.error(i):r&&e.complete()},t.prototype.asObservable=function(){var e=new rj;return e.source=this,e},t.create=function(e,t){return new rN(e,t)},t}(rj),rN=function(e){function t(t,i){var r=e.call(this)||this;return r.destination=t,r.source=i,r}return n8(t,e),t.prototype.next=function(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)},t.prototype.error=function(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:rc},t}(rP),rA={now:function(){return(rA.delegate||Date).now()},delegate:void 0},rD=function(e){function t(t,i,r){void 0===t&&(t=1/0),void 0===i&&(i=1/0),void 0===r&&(r=rA);var a=e.call(this)||this;return a._bufferSize=t,a._windowTime=i,a._timestampProvider=r,a._buffer=[],a._infiniteTimeWindow=!0,a._infiniteTimeWindow=i===1/0,a._bufferSize=Math.max(1,t),a._windowTime=Math.max(1,i),a}return n8(t,e),t.prototype.next=function(t){var i=this.isStopped,r=this._buffer,a=this._infiniteTimeWindow,s=this._timestampProvider,o=this._windowTime;!i&&(r.push(t),a||r.push(s.now()+o)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),i=this._infiniteTimeWindow,r=this._buffer.slice(),a=0;a<r.length&&!e.closed;a+=i?1:2)e.next(r[a]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this._bufferSize,t=this._timestampProvider,i=this._buffer,r=this._infiniteTimeWindow,a=(r?1:2)*e;if(e<1/0&&a<i.length&&i.splice(0,i.length-a),!r){for(var s=t.now(),o=0,l=1;l<i.length&&i[l]<=s;l+=2)o=l;o&&i.splice(0,o+1)}},t}(rP),rL=Array.isArray,rU=Object.getPrototypeOf,rM=Object.prototype,rF=Object.keys,r$=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function rB(e){return rn(null==e?void 0:e.then)}function rq(e){return Symbol.asyncIterator&&rn(null==e?void 0:e[Symbol.asyncIterator])}function rV(e){return TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var rz="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function rW(e){return rn(null==e?void 0:e[rz])}function rH(e){return function(e,t,i){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var r,a=i.apply(e,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){a[e]&&(r[e]=function(t){return new Promise(function(i,r){s.push([e,t,i,r])>1||l(e,t)})})}function l(e,t){try{var i;(i=a[e](t)).value instanceof ri?Promise.resolve(i.value.v).then(u,p):d(s[0][2],i)}catch(e){d(s[0][3],e)}}function u(e){l("next",e)}function p(e){l("throw",e)}function d(e,t){e(t),s.shift(),s.length&&l(s[0][0],s[0][1])}}(this,arguments,function(){var t,i,r;return n7(this,function(a){switch(a.label){case 0:t=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,ri(t.read())];case 3:if(r=(i=a.sent()).value,!i.done)return[3,5];return[4,ri(void 0)];case 4:return[2,a.sent()];case 5:return[4,ri(r)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function rG(e){return rn(null==e?void 0:e.getReader)}function rK(e){if(e instanceof rj)return e;if(null!=e){if(rn(e[rE]))return new rj(function(t){var i=e[rE]();if(rn(i.subscribe))return i.subscribe(t);throw TypeError("Provided object does not correctly implement Symbol.observable")});if(r$(e))return new rj(function(t){for(var i=0;i<e.length&&!t.closed;i++)t.next(e[i]);t.complete()});if(rB(e))return new rj(function(t){e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,rh)});if(rq(e))return rY(e);if(rW(e))return new rj(function(t){var i,r;try{for(var a=n9(e),s=a.next();!s.done;s=a.next()){var o=s.value;if(t.next(o),t.closed)return}}catch(e){i={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}t.complete()});if(rG(e))return rY(rH(e))}throw rV(e)}function rY(e){return new rj(function(t){(function(e,t){var i,r,a,s,o,l,u,p;return o=this,l=void 0,u=void 0,p=function(){var o;return n7(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),i=function(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,i=e[Symbol.asyncIterator];return i?i.call(e):(e=n9(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(i){t[i]=e[i]&&function(t){return new Promise(function(r,a){(function(e,t,i,r){Promise.resolve(r).then(function(t){e({value:t,done:i})},t)})(r,a,(t=e[i](t)).done,t.value)})}}}(e),l.label=1;case 1:return[4,i.next()];case 2:if((r=l.sent()).done)return[3,4];if(o=r.value,t.next(o),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a={error:l.sent()},[3,11];case 6:if(l.trys.push([6,,9,10]),!(r&&!r.done&&(s=i.return)))return[3,8];return[4,s.call(i)];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(a)throw a.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})},new(u||(u=Promise))(function(e,t){function i(e){try{a(p.next(e))}catch(e){t(e)}}function r(e){try{a(p.throw(e))}catch(e){t(e)}}function a(t){var a;t.done?e(t.value):((a=t.value)instanceof u?a:new u(function(e){e(a)})).then(i,r)}a((p=p.apply(o,l||[])).next())})})(e,t).catch(function(e){return t.error(e)})})}function rJ(e,t,i,r,a){void 0===r&&(r=0),void 0===a&&(a=!1);var s=t.schedule(function(){i(),a?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!a)return s}function rX(e){return function(t){if(rn(null==t?void 0:t.lift))return t.lift(function(t){try{return e(t,this)}catch(e){this.error(e)}});throw TypeError("Unable to lift unknown Observable type")}}function rQ(e,t,i,r,a){return new rZ(e,t,i,r,a)}var rZ=function(e){function t(t,i,r,a,s,o){var l=e.call(this,t)||this;return l.onFinalize=s,l.shouldUnsubscribe=o,l._next=i?function(e){try{i(e)}catch(e){t.error(e)}}:e.prototype._next,l._error=a?function(e){try{a(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,l._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,l}return n8(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var i=this.closed;e.prototype.unsubscribe.call(this),i||null===(t=this.onFinalize)||void 0===t||t.call(this)}},t}(ry);function r0(e,t){return void 0===t&&(t=0),rX(function(i,r){i.subscribe(rQ(r,function(i){return rJ(r,e,function(){return r.next(i)},t)},function(){return rJ(r,e,function(){return r.complete()},t)},function(i){return rJ(r,e,function(){return r.error(i)},t)}))})}function r1(e,t){return void 0===t&&(t=0),rX(function(i,r){r.add(e.schedule(function(){return i.subscribe(r)},t))})}function r2(e,t){if(!e)throw Error("Iterable cannot be null");return new rj(function(i){rJ(i,t,function(){var r=e[Symbol.asyncIterator]();rJ(i,t,function(){r.next().then(function(e){e.done?i.complete():i.next(e.value)})},0,!0)})})}function r3(e,t){return t?function(e,t){if(null!=e){if(rn(e[rE]))return rK(e).pipe(r1(t),r0(t));if(r$(e))return new rj(function(i){var r=0;return t.schedule(function(){r===e.length?i.complete():(i.next(e[r++]),i.closed||this.schedule())})});if(rB(e))return rK(e).pipe(r1(t),r0(t));if(rq(e))return r2(e,t);if(rW(e))return new rj(function(i){var r;return rJ(i,t,function(){r=e[rz](),rJ(i,t,function(){var e,t,a;try{t=(e=r.next()).value,a=e.done}catch(e){i.error(e);return}a?i.complete():i.next(t)},0,!0)}),function(){return rn(null==r?void 0:r.return)&&r.return()}});if(rG(e))return r2(rH(e),t)}throw rV(e)}(e,t):rK(e)}function r4(e,t){return rX(function(i,r){var a=0;i.subscribe(rQ(r,function(i){r.next(e.call(t,i,a++))}))})}var r6=Array.isArray;function r5(e){return e&&rn(e.schedule)}function r8(e){return e[e.length-1]}function r7(e){return r5(r8(e))?e.pop():void 0}function r9(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var r=r7(t),a=rn(r8(t))?t.pop():void 0,s=function(e){if(1===e.length){var t=e[0];if(rL(t))return{args:t,keys:null};if(t&&"object"==typeof t&&rU(t)===rM){var i=rF(t);return{args:i.map(function(e){return t[e]}),keys:i}}}return{args:e,keys:null}}(t),o=s.args,l=s.keys;if(0===o.length)return r3([],r);var u=new rj((void 0===(e=l?function(e){return l.reduce(function(t,i,r){return t[i]=e[r],t},{})}:rR)&&(e=rR),function(t){var i,a,s;i=r,a=function(){for(var i=o.length,a=Array(i),s=i,l=i,u=function(i){var u,p,d;u=r,p=function(){var u=r3(o[i],r),p=!1;u.subscribe(rQ(t,function(r){a[i]=r,!p&&(p=!0,l--),l||t.next(e(a.slice()))},function(){--s||t.complete()}))},d=t,u?rJ(d,u,p):p()},p=0;p<i;p++)u(p)},s=t,i?rJ(s,i,a):a()}));return a?u.pipe(r4(function(e){return r6(e)?a.apply(void 0,rt([],re(e))):a(e)})):u}var ae=function(e){function t(t){var i=e.call(this)||this;return i._value=t,i}return n8(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var i=e.prototype._subscribe.call(this,t);return i.closed||t.next(this._value),i},t.prototype.getValue=function(){var e=this.hasError,t=this.thrownError,i=this._value;if(e)throw t;return this._throwIfClosed(),i},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(rP);function at(e,t){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(!0===t){e();return}if(!1!==t){var a=new r_({next:function(){a.unsubscribe(),e()}});return rK(t.apply(void 0,rt([],re(i)))).subscribe(a)}}function ai(e,t,i){var r,a,s,o,l,u,p,d,f,m,g,b,v,y=!1;return e&&"object"==typeof e?(v=void 0===(m=e.bufferSize)?1/0:m,t=void 0===(g=e.windowTime)?1/0:g,y=void 0!==(b=e.refCount)&&b,i=e.scheduler):v=null!=e?e:1/0,s=void 0===(a=(r={connector:function(){return new rD(v,t,i)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:y}).connector)?function(){return new rP}:a,l=void 0===(o=r.resetOnError)||o,p=void 0===(u=r.resetOnComplete)||u,f=void 0===(d=r.resetOnRefCountZero)||d,function(e){var t,i,r,a=0,o=!1,u=!1,d=function(){null==i||i.unsubscribe(),i=void 0},m=function(){d(),t=r=void 0,o=u=!1},g=function(){var e=t;m(),null==e||e.unsubscribe()};return rX(function(e,b){a++,u||o||d();var v=r=null!=r?r:s();b.add(function(){0!=--a||u||o||(i=at(g,f))}),v.subscribe(b),!t&&a>0&&(t=new r_({next:function(e){return v.next(e)},error:function(e){u=!0,d(),i=at(m,l,e),v.error(e)},complete:function(){o=!0,d(),i=at(m,p),v.complete()}}),rK(e).subscribe(t))})(e)}}function an(e,t){return void 0===t&&(t=rR),e=null!=e?e:ar,rX(function(i,r){var a,s=!0;i.subscribe(rQ(r,function(i){var o=t(i);(s||!e(a,o))&&(s=!1,a=o,r.next(i))}))})}function ar(e,t){return e===t}function aa(e,t){return void 0===t&&(t=!1),rX(function(i,r){var a=0;i.subscribe(rQ(r,function(i){var s=e(i,a++);(s||t)&&r.next(i),s||r.complete()}))})}function as(e,t){return an(function(i,r){return t?t(i[e],r[e]):i[e]===r[e]})}var ao=function(e){function t(t,i){return e.call(this)||this}return n8(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(ro),ac={setInterval:function(e,t){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];var a=ac.delegate;return(null==a?void 0:a.setInterval)?a.setInterval.apply(a,rt([e,t],re(i))):setInterval.apply(void 0,rt([e,t],re(i)))},clearInterval:function(e){var t=ac.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},al=function(e){function t(t,i){var r=e.call(this,t,i)||this;return r.scheduler=t,r.work=i,r.pending=!1,r}return n8(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var i,r=this.id,a=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(a,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(a,this.id,t),this},t.prototype.requestAsyncId=function(e,t,i){return void 0===i&&(i=0),ac.setInterval(e.flush.bind(e,this),i)},t.prototype.recycleAsyncId=function(e,t,i){if(void 0===i&&(i=0),null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&ac.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return Error("executing a cancelled action");this.pending=!1;var i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var i,r=!1;try{this.work(e)}catch(e){r=!0,i=e||Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,i=this.scheduler,r=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,rs(r,this),null!=t&&(this.id=this.recycleAsyncId(i,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(ao),au=function(){function e(t,i){void 0===i&&(i=e.now),this.schedulerActionCtor=t,this.now=i}return e.prototype.schedule=function(e,t,i){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(i,t)},e.now=rA.now,e}(),ap=new(function(e){function t(t,i){void 0===i&&(i=au.now);var r=e.call(this,t,i)||this;return r.actions=[],r._active=!1,r}return n8(t,e),t.prototype.flush=function(e){var t,i=this.actions;if(this._active){i.push(e);return}this._active=!0;do if(t=e.execute(e.state,e.delay))break;while(e=i.shift());if(this._active=!1,t){for(;e=i.shift();)e.unsubscribe();throw t}},t}(au))(al);function ad(e,t,i){return(void 0===i&&(i=1/0),rn(t))?ad(function(i,r){return r4(function(e,a){return t(i,e,r,a)})(rK(e(i,r)))},i):("number"==typeof t&&(i=t),rX(function(t,r){var a,s,o,l,u,p,d,f,m,g,b,v;return a=i,p=[],d=0,f=0,m=!1,g=function(){!m||p.length||d||r.complete()},b=function(e){return d<a?v(e):p.push(e)},v=function(t){o&&r.next(t),d++;var i=!1;rK(e(t,f++)).subscribe(rQ(r,function(e){null==s||s(e),o?b(e):r.next(e)},function(){i=!0},void 0,function(){if(i)try{for(d--;p.length&&d<a;)!function(){var e=p.shift();l?rJ(r,l,function(){return v(e)}):v(e)}();g()}catch(e){r.error(e)}}))},t.subscribe(rQ(r,b,function(){m=!0,g()})),function(){null==u||u()}}))}var ah=new rj(function(e){return e.complete()});function af(){for(var e,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var r=r7(t),a="number"==typeof r8(t)?t.pop():1/0;return t.length?1===t.length?rK(t[0]):(void 0===(e=a)&&(e=1/0),ad(rR,e))(r3(t,r)):ah}var am=i(37242),ag=i(12903),ab=i(95357),av=i.n(ab),ay=i(89835),ax=i.n(ay);i(6113);var aw=i(76655);let ak={BLOCK_USERS:"block-users",JOIN_BACKSTAGE:"join-backstage",MUTE_USERS:"mute-users",PIN_FOR_EVERYONE:"pin-for-everyone",SCREENSHARE:"screenshare",SEND_AUDIO:"send-audio",SEND_VIDEO:"send-video",UPDATE_CALL_PERMISSIONS:"update-call-permissions"};class a_ extends Error{}!function(e){e[e.NULL_VALUE=0]="NULL_VALUE"}(T||(T={}));class aS extends tL{constructor(){super("google.protobuf.Struct",[{no:1,name:"fields",kind:"map",K:9,V:{kind:"message",T:()=>aE}}])}internalJsonWrite(e,t){let i={};for(let[t,r]of Object.entries(e.fields))i[t]=aE.toJson(r);return i}internalJsonRead(e,t,i){if(!tt(e))throw new globalThis.Error("Unable to parse message "+this.typeName+" from JSON "+te(e)+".");for(let[t,r]of(i||(i=this.create()),globalThis.Object.entries(e)))i.fields[t]=aE.fromJson(r);return i}create(e){let t={fields:{}};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();if(1===t)this.binaryReadMap1(a.fields,e,i);else{let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}binaryReadMap1(e,t,i){let r=t.uint32(),a=t.pos+r,s,o;for(;t.pos<a;){let[e,r]=t.tag();switch(e){case 1:s=t.string();break;case 2:o=aE.internalBinaryRead(t,t.uint32(),i);break;default:throw new globalThis.Error("unknown map entry field for field google.protobuf.Struct.fields")}}e[s??""]=o??aE.create()}internalBinaryWrite(e,t,i){for(let r of Object.keys(e.fields))t.tag(1,k.LengthDelimited).fork().tag(1,k.LengthDelimited).string(r),t.tag(2,k.LengthDelimited).fork(),aE.internalBinaryWrite(e.fields[r],t,i),t.join().join();let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let aT=new aS;class aC extends tL{constructor(){super("google.protobuf.Value",[{no:1,name:"null_value",kind:"enum",oneof:"kind",T:()=>["google.protobuf.NullValue",T]},{no:2,name:"number_value",kind:"scalar",oneof:"kind",T:1},{no:3,name:"string_value",kind:"scalar",oneof:"kind",T:9},{no:4,name:"bool_value",kind:"scalar",oneof:"kind",T:8},{no:5,name:"struct_value",kind:"message",oneof:"kind",T:()=>aT},{no:6,name:"list_value",kind:"message",oneof:"kind",T:()=>aj}])}internalJsonWrite(e,t){if(void 0===e.kind.oneofKind)throw new globalThis.Error;switch(e.kind.oneofKind){case void 0:throw new globalThis.Error;case"boolValue":return e.kind.boolValue;case"nullValue":return null;case"numberValue":return e.kind.numberValue;case"stringValue":return e.kind.stringValue;case"listValue":let i=this.fields.find(e=>6===e.no);if(i?.kind!=="message")throw new globalThis.Error;return i.T().toJson(e.kind.listValue);case"structValue":let r=this.fields.find(e=>5===e.no);if(r?.kind!=="message")throw new globalThis.Error;return r.T().toJson(e.kind.structValue)}}internalJsonRead(e,t,i){switch(i||(i=this.create()),typeof e){case"number":i.kind={oneofKind:"numberValue",numberValue:e};break;case"string":i.kind={oneofKind:"stringValue",stringValue:e};break;case"boolean":i.kind={oneofKind:"boolValue",boolValue:e};break;case"object":null===e?i.kind={oneofKind:"nullValue",nullValue:T.NULL_VALUE}:globalThis.Array.isArray(e)?i.kind={oneofKind:"listValue",listValue:aj.fromJson(e)}:i.kind={oneofKind:"structValue",structValue:aT.fromJson(e)};break;default:throw new globalThis.Error("Unable to parse "+this.typeName+" from JSON "+te(e))}return i}create(e){let t={kind:{oneofKind:void 0}};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.kind={oneofKind:"nullValue",nullValue:e.int32()};break;case 2:a.kind={oneofKind:"numberValue",numberValue:e.double()};break;case 3:a.kind={oneofKind:"stringValue",stringValue:e.string()};break;case 4:a.kind={oneofKind:"boolValue",boolValue:e.bool()};break;case 5:a.kind={oneofKind:"structValue",structValue:aT.internalBinaryRead(e,e.uint32(),i,a.kind.structValue)};break;case 6:a.kind={oneofKind:"listValue",listValue:aj.internalBinaryRead(e,e.uint32(),i,a.kind.listValue)};break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){"nullValue"===e.kind.oneofKind&&t.tag(1,k.Varint).int32(e.kind.nullValue),"numberValue"===e.kind.oneofKind&&t.tag(2,k.Bit64).double(e.kind.numberValue),"stringValue"===e.kind.oneofKind&&t.tag(3,k.LengthDelimited).string(e.kind.stringValue),"boolValue"===e.kind.oneofKind&&t.tag(4,k.Varint).bool(e.kind.boolValue),"structValue"===e.kind.oneofKind&&aT.internalBinaryWrite(e.kind.structValue,t.tag(5,k.LengthDelimited).fork(),i).join(),"listValue"===e.kind.oneofKind&&aj.internalBinaryWrite(e.kind.listValue,t.tag(6,k.LengthDelimited).fork(),i).join();let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let aE=new aC;class aR extends tL{constructor(){super("google.protobuf.ListValue",[{no:1,name:"values",kind:"message",repeat:1,T:()=>aE}])}internalJsonWrite(e,t){return e.values.map(e=>aE.toJson(e))}internalJsonRead(e,t,i){if(!globalThis.Array.isArray(e))throw new globalThis.Error("Unable to parse "+this.typeName+" from JSON "+te(e));i||(i=this.create());let r=e.map(e=>aE.fromJson(e));return i.values.push(...r),i}create(e){let t={values:[]};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();if(1===t)a.values.push(aE.internalBinaryRead(e,e.uint32(),i));else{let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){for(let r=0;r<e.values.length;r++)aE.internalBinaryWrite(e.values[r],t.tag(1,k.LengthDelimited).fork(),i).join();let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let aj=new aR;class aI extends tL{constructor(){super("google.protobuf.Timestamp",[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}])}now(){let e=this.create(),t=Date.now();return e.seconds=tf.from(Math.floor(t/1e3)).toString(),e.nanos=t%1e3*1e6,e}toDate(e){return new Date(1e3*tf.from(e.seconds).toNumber()+Math.ceil(e.nanos/1e6))}fromDate(e){let t=this.create(),i=e.getTime();return t.seconds=tf.from(Math.floor(i/1e3)).toString(),t.nanos=i%1e3*1e6,t}internalJsonWrite(e,t){let i=1e3*tf.from(e.seconds).toNumber();if(i<Date.parse("0001-01-01T00:00:00Z")||i>Date.parse("9999-12-31T23:59:59Z"))throw Error("Unable to encode Timestamp to JSON. Must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive.");if(e.nanos<0)throw Error("Unable to encode invalid Timestamp to JSON. Nanos must not be negative.");let r="Z";if(e.nanos>0){let t=(e.nanos+1e9).toString().substring(1);r="000000"===t.substring(3)?"."+t.substring(0,3)+"Z":"000"===t.substring(6)?"."+t.substring(0,6)+"Z":"."+t+"Z"}return new Date(i).toISOString().replace(".000Z",r)}internalJsonRead(e,t,i){if("string"!=typeof e)throw Error("Unable to parse Timestamp from JSON "+te(e)+".");let r=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!r)throw Error("Unable to parse Timestamp from JSON. Invalid format.");let a=Date.parse(r[1]+"-"+r[2]+"-"+r[3]+"T"+r[4]+":"+r[5]+":"+r[6]+(r[8]?r[8]:"Z"));if(Number.isNaN(a))throw Error("Unable to parse Timestamp from JSON. Invalid value.");if(a<Date.parse("0001-01-01T00:00:00Z")||a>Date.parse("9999-12-31T23:59:59Z"))throw new globalThis.Error("Unable to parse Timestamp from JSON. Must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive.");return i||(i=this.create()),i.seconds=tf.from(a/1e3).toString(),i.nanos=0,r[7]&&(i.nanos=parseInt("1"+r[7]+"0".repeat(9-r[7].length))-1e9),i}create(e){let t={seconds:"0",nanos:0};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.seconds=e.int64().toString();break;case 2:a.nanos=e.int32();break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){"0"!==e.seconds&&t.tag(1,k.Varint).int64(e.seconds),0!==e.nanos&&t.tag(2,k.Varint).int32(e.nanos);let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let aO=new aI;(function(e){e[e.PUBLISHER_UNSPECIFIED=0]="PUBLISHER_UNSPECIFIED",e[e.SUBSCRIBER=1]="SUBSCRIBER"})(C||(C={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.POOR=1]="POOR",e[e.GOOD=2]="GOOD",e[e.EXCELLENT=3]="EXCELLENT"}(E||(E={})),function(e){e[e.LOW_UNSPECIFIED=0]="LOW_UNSPECIFIED",e[e.MID=1]="MID",e[e.HIGH=2]="HIGH",e[e.OFF=3]="OFF"}(R||(R={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.AUDIO=1]="AUDIO",e[e.VIDEO=2]="VIDEO",e[e.SCREEN_SHARE=3]="SCREEN_SHARE",e[e.SCREEN_SHARE_AUDIO=4]="SCREEN_SHARE_AUDIO"}(j||(j={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.PUBLISH_TRACK_NOT_FOUND=100]="PUBLISH_TRACK_NOT_FOUND",e[e.PUBLISH_TRACKS_MISMATCH=101]="PUBLISH_TRACKS_MISMATCH",e[e.PUBLISH_TRACK_OUT_OF_ORDER=102]="PUBLISH_TRACK_OUT_OF_ORDER",e[e.PUBLISH_TRACK_VIDEO_LAYER_NOT_FOUND=103]="PUBLISH_TRACK_VIDEO_LAYER_NOT_FOUND",e[e.LIVE_ENDED=104]="LIVE_ENDED",e[e.PARTICIPANT_NOT_FOUND=200]="PARTICIPANT_NOT_FOUND",e[e.PARTICIPANT_MIGRATING_OUT=201]="PARTICIPANT_MIGRATING_OUT",e[e.PARTICIPANT_MIGRATION_FAILED=202]="PARTICIPANT_MIGRATION_FAILED",e[e.PARTICIPANT_MIGRATING=203]="PARTICIPANT_MIGRATING",e[e.PARTICIPANT_RECONNECT_FAILED=204]="PARTICIPANT_RECONNECT_FAILED",e[e.PARTICIPANT_MEDIA_TRANSPORT_FAILURE=205]="PARTICIPANT_MEDIA_TRANSPORT_FAILURE",e[e.CALL_NOT_FOUND=300]="CALL_NOT_FOUND",e[e.REQUEST_VALIDATION_FAILED=400]="REQUEST_VALIDATION_FAILED",e[e.UNAUTHENTICATED=401]="UNAUTHENTICATED",e[e.PERMISSION_DENIED=403]="PERMISSION_DENIED",e[e.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",e[e.SFU_SHUTTING_DOWN=600]="SFU_SHUTTING_DOWN",e[e.SFU_FULL=700]="SFU_FULL"}(I||(I={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.REACT=1]="REACT",e[e.ANGULAR=2]="ANGULAR",e[e.ANDROID=3]="ANDROID",e[e.IOS=4]="IOS",e[e.FLUTTER=5]="FLUTTER",e[e.REACT_NATIVE=6]="REACT_NATIVE",e[e.UNITY=7]="UNITY"}(O||(O={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.USER_MUTED=1]="USER_MUTED",e[e.PERMISSION_REVOKED=2]="PERMISSION_REVOKED",e[e.MODERATION=3]="MODERATION"}(P||(P={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.SHUTTING_DOWN=1]="SHUTTING_DOWN",e[e.REBALANCE=2]="REBALANCE"}(N||(N={}));class aP extends tL{constructor(){super("stream.video.sfu.models.CallState",[{no:1,name:"participants",kind:"message",repeat:1,T:()=>aF},{no:2,name:"started_at",kind:"message",T:()=>aO},{no:3,name:"participant_count",kind:"message",T:()=>aD},{no:4,name:"pins",kind:"message",repeat:1,T:()=>aU}])}create(e){let t={participants:[],pins:[]};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.participants.push(aF.internalBinaryRead(e,e.uint32(),i));break;case 2:a.startedAt=aO.internalBinaryRead(e,e.uint32(),i,a.startedAt);break;case 3:a.participantCount=aD.internalBinaryRead(e,e.uint32(),i,a.participantCount);break;case 4:a.pins.push(aU.internalBinaryRead(e,e.uint32(),i));break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){for(let r=0;r<e.participants.length;r++)aF.internalBinaryWrite(e.participants[r],t.tag(1,k.LengthDelimited).fork(),i).join();e.startedAt&&aO.internalBinaryWrite(e.startedAt,t.tag(2,k.LengthDelimited).fork(),i).join(),e.participantCount&&aD.internalBinaryWrite(e.participantCount,t.tag(3,k.LengthDelimited).fork(),i).join();for(let r=0;r<e.pins.length;r++)aU.internalBinaryWrite(e.pins[r],t.tag(4,k.LengthDelimited).fork(),i).join();let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let aN=new aP;class aA extends tL{constructor(){super("stream.video.sfu.models.ParticipantCount",[{no:1,name:"total",kind:"scalar",T:13},{no:2,name:"anonymous",kind:"scalar",T:13}])}create(e){let t={total:0,anonymous:0};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.total=e.uint32();break;case 2:a.anonymous=e.uint32();break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){0!==e.total&&t.tag(1,k.Varint).uint32(e.total),0!==e.anonymous&&t.tag(2,k.Varint).uint32(e.anonymous);let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let aD=new aA;class aL extends tL{constructor(){super("stream.video.sfu.models.Pin",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9}])}create(e){let t={userId:"",sessionId:""};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.userId=e.string();break;case 2:a.sessionId=e.string();break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){""!==e.userId&&t.tag(1,k.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,k.LengthDelimited).string(e.sessionId);let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let aU=new aL;class aM extends tL{constructor(){super("stream.video.sfu.models.Participant",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"published_tracks",kind:"enum",repeat:1,T:()=>["stream.video.sfu.models.TrackType",j,"TRACK_TYPE_"]},{no:4,name:"joined_at",kind:"message",T:()=>aO},{no:5,name:"track_lookup_prefix",kind:"scalar",T:9},{no:6,name:"connection_quality",kind:"enum",T:()=>["stream.video.sfu.models.ConnectionQuality",E,"CONNECTION_QUALITY_"]},{no:7,name:"is_speaking",kind:"scalar",T:8},{no:8,name:"is_dominant_speaker",kind:"scalar",T:8},{no:9,name:"audio_level",kind:"scalar",T:2},{no:10,name:"name",kind:"scalar",T:9},{no:11,name:"image",kind:"scalar",T:9},{no:12,name:"custom",kind:"message",T:()=>aT},{no:13,name:"roles",kind:"scalar",repeat:2,T:9}])}create(e){let t={userId:"",sessionId:"",publishedTracks:[],trackLookupPrefix:"",connectionQuality:0,isSpeaking:!1,isDominantSpeaker:!1,audioLevel:0,name:"",image:"",roles:[]};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.userId=e.string();break;case 2:a.sessionId=e.string();break;case 3:if(r===k.LengthDelimited)for(let t=e.int32()+e.pos;e.pos<t;)a.publishedTracks.push(e.int32());else a.publishedTracks.push(e.int32());break;case 4:a.joinedAt=aO.internalBinaryRead(e,e.uint32(),i,a.joinedAt);break;case 5:a.trackLookupPrefix=e.string();break;case 6:a.connectionQuality=e.int32();break;case 7:a.isSpeaking=e.bool();break;case 8:a.isDominantSpeaker=e.bool();break;case 9:a.audioLevel=e.float();break;case 10:a.name=e.string();break;case 11:a.image=e.string();break;case 12:a.custom=aT.internalBinaryRead(e,e.uint32(),i,a.custom);break;case 13:a.roles.push(e.string());break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){if(""!==e.userId&&t.tag(1,k.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,k.LengthDelimited).string(e.sessionId),e.publishedTracks.length){t.tag(3,k.LengthDelimited).fork();for(let i=0;i<e.publishedTracks.length;i++)t.int32(e.publishedTracks[i]);t.join()}e.joinedAt&&aO.internalBinaryWrite(e.joinedAt,t.tag(4,k.LengthDelimited).fork(),i).join(),""!==e.trackLookupPrefix&&t.tag(5,k.LengthDelimited).string(e.trackLookupPrefix),0!==e.connectionQuality&&t.tag(6,k.Varint).int32(e.connectionQuality),!1!==e.isSpeaking&&t.tag(7,k.Varint).bool(e.isSpeaking),!1!==e.isDominantSpeaker&&t.tag(8,k.Varint).bool(e.isDominantSpeaker),0!==e.audioLevel&&t.tag(9,k.Bit32).float(e.audioLevel),""!==e.name&&t.tag(10,k.LengthDelimited).string(e.name),""!==e.image&&t.tag(11,k.LengthDelimited).string(e.image),e.custom&&aT.internalBinaryWrite(e.custom,t.tag(12,k.LengthDelimited).fork(),i).join();for(let i=0;i<e.roles.length;i++)t.tag(13,k.LengthDelimited).string(e.roles[i]);let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let aF=new aM;class a$ extends tL{constructor(){super("stream.video.sfu.models.StreamQuality",[{no:1,name:"video_quality",kind:"enum",T:()=>["stream.video.sfu.models.VideoQuality",R,"VIDEO_QUALITY_"]},{no:2,name:"user_id",kind:"scalar",T:9}])}create(e){let t={videoQuality:0,userId:""};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.videoQuality=e.int32();break;case 2:a.userId=e.string();break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){0!==e.videoQuality&&t.tag(1,k.Varint).int32(e.videoQuality),""!==e.userId&&t.tag(2,k.LengthDelimited).string(e.userId);let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let aB=new a$;class aq extends tL{constructor(){super("stream.video.sfu.models.VideoDimension",[{no:1,name:"width",kind:"scalar",T:13},{no:2,name:"height",kind:"scalar",T:13}])}create(e){let t={width:0,height:0};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.width=e.uint32();break;case 2:a.height=e.uint32();break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){0!==e.width&&t.tag(1,k.Varint).uint32(e.width),0!==e.height&&t.tag(2,k.Varint).uint32(e.height);let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let aV=new aq;class az extends tL{constructor(){super("stream.video.sfu.models.VideoLayer",[{no:1,name:"rid",kind:"scalar",T:9},{no:2,name:"video_dimension",kind:"message",T:()=>aV},{no:4,name:"bitrate",kind:"scalar",T:13},{no:5,name:"fps",kind:"scalar",T:13},{no:6,name:"quality",kind:"enum",T:()=>["stream.video.sfu.models.VideoQuality",R,"VIDEO_QUALITY_"]}])}create(e){let t={rid:"",bitrate:0,fps:0,quality:0};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.rid=e.string();break;case 2:a.videoDimension=aV.internalBinaryRead(e,e.uint32(),i,a.videoDimension);break;case 4:a.bitrate=e.uint32();break;case 5:a.fps=e.uint32();break;case 6:a.quality=e.int32();break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){""!==e.rid&&t.tag(1,k.LengthDelimited).string(e.rid),e.videoDimension&&aV.internalBinaryWrite(e.videoDimension,t.tag(2,k.LengthDelimited).fork(),i).join(),0!==e.bitrate&&t.tag(4,k.Varint).uint32(e.bitrate),0!==e.fps&&t.tag(5,k.Varint).uint32(e.fps),0!==e.quality&&t.tag(6,k.Varint).int32(e.quality);let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let aW=new az;class aH extends tL{constructor(){super("stream.video.sfu.models.Codec",[{no:1,name:"payload_type",kind:"scalar",T:13},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"fmtp_line",kind:"scalar",T:9},{no:4,name:"clock_rate",kind:"scalar",T:13},{no:5,name:"encoding_parameters",kind:"scalar",T:9},{no:6,name:"feedbacks",kind:"scalar",repeat:2,T:9}])}create(e){let t={payloadType:0,name:"",fmtpLine:"",clockRate:0,encodingParameters:"",feedbacks:[]};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.payloadType=e.uint32();break;case 2:a.name=e.string();break;case 3:a.fmtpLine=e.string();break;case 4:a.clockRate=e.uint32();break;case 5:a.encodingParameters=e.string();break;case 6:a.feedbacks.push(e.string());break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){0!==e.payloadType&&t.tag(1,k.Varint).uint32(e.payloadType),""!==e.name&&t.tag(2,k.LengthDelimited).string(e.name),""!==e.fmtpLine&&t.tag(3,k.LengthDelimited).string(e.fmtpLine),0!==e.clockRate&&t.tag(4,k.Varint).uint32(e.clockRate),""!==e.encodingParameters&&t.tag(5,k.LengthDelimited).string(e.encodingParameters);for(let i=0;i<e.feedbacks.length;i++)t.tag(6,k.LengthDelimited).string(e.feedbacks[i]);let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let aG=new aH,aK=new class extends tL{constructor(){super("stream.video.sfu.models.ICETrickle",[{no:1,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",C,"PEER_TYPE_"]},{no:2,name:"ice_candidate",kind:"scalar",T:9},{no:3,name:"session_id",kind:"scalar",T:9}])}create(e){let t={peerType:0,iceCandidate:"",sessionId:""};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.peerType=e.int32();break;case 2:a.iceCandidate=e.string();break;case 3:a.sessionId=e.string();break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){0!==e.peerType&&t.tag(1,k.Varint).int32(e.peerType),""!==e.iceCandidate&&t.tag(2,k.LengthDelimited).string(e.iceCandidate),""!==e.sessionId&&t.tag(3,k.LengthDelimited).string(e.sessionId);let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}};class aY extends tL{constructor(){super("stream.video.sfu.models.TrackInfo",[{no:1,name:"track_id",kind:"scalar",T:9},{no:2,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",j,"TRACK_TYPE_"]},{no:5,name:"layers",kind:"message",repeat:1,T:()=>aW},{no:6,name:"mid",kind:"scalar",T:9},{no:7,name:"dtx",kind:"scalar",T:8},{no:8,name:"stereo",kind:"scalar",T:8},{no:9,name:"red",kind:"scalar",T:8}])}create(e){let t={trackId:"",trackType:0,layers:[],mid:"",dtx:!1,stereo:!1,red:!1};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.trackId=e.string();break;case 2:a.trackType=e.int32();break;case 5:a.layers.push(aW.internalBinaryRead(e,e.uint32(),i));break;case 6:a.mid=e.string();break;case 7:a.dtx=e.bool();break;case 8:a.stereo=e.bool();break;case 9:a.red=e.bool();break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){""!==e.trackId&&t.tag(1,k.LengthDelimited).string(e.trackId),0!==e.trackType&&t.tag(2,k.Varint).int32(e.trackType);for(let r=0;r<e.layers.length;r++)aW.internalBinaryWrite(e.layers[r],t.tag(5,k.LengthDelimited).fork(),i).join();""!==e.mid&&t.tag(6,k.LengthDelimited).string(e.mid),!1!==e.dtx&&t.tag(7,k.Varint).bool(e.dtx),!1!==e.stereo&&t.tag(8,k.Varint).bool(e.stereo),!1!==e.red&&t.tag(9,k.Varint).bool(e.red);let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let aJ=new aY;class aX extends tL{constructor(){super("stream.video.sfu.models.Call",[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"id",kind:"scalar",T:9},{no:3,name:"created_by_user_id",kind:"scalar",T:9},{no:4,name:"host_user_id",kind:"scalar",T:9},{no:5,name:"custom",kind:"message",T:()=>aT},{no:6,name:"created_at",kind:"message",T:()=>aO},{no:7,name:"updated_at",kind:"message",T:()=>aO}])}create(e){let t={type:"",id:"",createdByUserId:"",hostUserId:""};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.type=e.string();break;case 2:a.id=e.string();break;case 3:a.createdByUserId=e.string();break;case 4:a.hostUserId=e.string();break;case 5:a.custom=aT.internalBinaryRead(e,e.uint32(),i,a.custom);break;case 6:a.createdAt=aO.internalBinaryRead(e,e.uint32(),i,a.createdAt);break;case 7:a.updatedAt=aO.internalBinaryRead(e,e.uint32(),i,a.updatedAt);break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){""!==e.type&&t.tag(1,k.LengthDelimited).string(e.type),""!==e.id&&t.tag(2,k.LengthDelimited).string(e.id),""!==e.createdByUserId&&t.tag(3,k.LengthDelimited).string(e.createdByUserId),""!==e.hostUserId&&t.tag(4,k.LengthDelimited).string(e.hostUserId),e.custom&&aT.internalBinaryWrite(e.custom,t.tag(5,k.LengthDelimited).fork(),i).join(),e.createdAt&&aO.internalBinaryWrite(e.createdAt,t.tag(6,k.LengthDelimited).fork(),i).join(),e.updatedAt&&aO.internalBinaryWrite(e.updatedAt,t.tag(7,k.LengthDelimited).fork(),i).join();let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let aQ=new aX,aZ=new class extends tL{constructor(){super("stream.video.sfu.models.Error",[{no:1,name:"code",kind:"enum",T:()=>["stream.video.sfu.models.ErrorCode",I,"ERROR_CODE_"]},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"should_retry",kind:"scalar",T:8}])}create(e){let t={code:0,message:"",shouldRetry:!1};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.code=e.int32();break;case 2:a.message=e.string();break;case 3:a.shouldRetry=e.bool();break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){0!==e.code&&t.tag(1,k.Varint).int32(e.code),""!==e.message&&t.tag(2,k.LengthDelimited).string(e.message),!1!==e.shouldRetry&&t.tag(3,k.Varint).bool(e.shouldRetry);let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}};class a0 extends tL{constructor(){super("stream.video.sfu.models.ClientDetails",[{no:1,name:"sdk",kind:"message",T:()=>a3},{no:2,name:"os",kind:"message",T:()=>a6},{no:3,name:"browser",kind:"message",T:()=>a8},{no:4,name:"device",kind:"message",T:()=>a9}])}create(e){let t={};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.sdk=a3.internalBinaryRead(e,e.uint32(),i,a.sdk);break;case 2:a.os=a6.internalBinaryRead(e,e.uint32(),i,a.os);break;case 3:a.browser=a8.internalBinaryRead(e,e.uint32(),i,a.browser);break;case 4:a.device=a9.internalBinaryRead(e,e.uint32(),i,a.device);break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){e.sdk&&a3.internalBinaryWrite(e.sdk,t.tag(1,k.LengthDelimited).fork(),i).join(),e.os&&a6.internalBinaryWrite(e.os,t.tag(2,k.LengthDelimited).fork(),i).join(),e.browser&&a8.internalBinaryWrite(e.browser,t.tag(3,k.LengthDelimited).fork(),i).join(),e.device&&a9.internalBinaryWrite(e.device,t.tag(4,k.LengthDelimited).fork(),i).join();let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let a1=new a0;class a2 extends tL{constructor(){super("stream.video.sfu.models.Sdk",[{no:1,name:"type",kind:"enum",T:()=>["stream.video.sfu.models.SdkType",O,"SDK_TYPE_"]},{no:2,name:"major",kind:"scalar",T:9},{no:3,name:"minor",kind:"scalar",T:9},{no:4,name:"patch",kind:"scalar",T:9}])}create(e){let t={type:0,major:"",minor:"",patch:""};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.type=e.int32();break;case 2:a.major=e.string();break;case 3:a.minor=e.string();break;case 4:a.patch=e.string();break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){0!==e.type&&t.tag(1,k.Varint).int32(e.type),""!==e.major&&t.tag(2,k.LengthDelimited).string(e.major),""!==e.minor&&t.tag(3,k.LengthDelimited).string(e.minor),""!==e.patch&&t.tag(4,k.LengthDelimited).string(e.patch);let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let a3=new a2;class a4 extends tL{constructor(){super("stream.video.sfu.models.OS",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"architecture",kind:"scalar",T:9}])}create(e){let t={name:"",version:"",architecture:""};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.name=e.string();break;case 2:a.version=e.string();break;case 3:a.architecture=e.string();break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){""!==e.name&&t.tag(1,k.LengthDelimited).string(e.name),""!==e.version&&t.tag(2,k.LengthDelimited).string(e.version),""!==e.architecture&&t.tag(3,k.LengthDelimited).string(e.architecture);let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let a6=new a4;class a5 extends tL{constructor(){super("stream.video.sfu.models.Browser",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"version",kind:"scalar",T:9}])}create(e){let t={name:"",version:""};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.name=e.string();break;case 2:a.version=e.string();break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){""!==e.name&&t.tag(1,k.LengthDelimited).string(e.name),""!==e.version&&t.tag(2,k.LengthDelimited).string(e.version);let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let a8=new a5;class a7 extends tL{constructor(){super("stream.video.sfu.models.Device",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"version",kind:"scalar",T:9}])}create(e){let t={name:"",version:""};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.name=e.string();break;case 2:a.version=e.string();break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){""!==e.name&&t.tag(1,k.LengthDelimited).string(e.name),""!==e.version&&t.tag(2,k.LengthDelimited).string(e.version);let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let a9=new a7;class se extends tL{constructor(){super("stream.video.sfu.models.CallGrants",[{no:1,name:"can_publish_audio",kind:"scalar",T:8},{no:2,name:"can_publish_video",kind:"scalar",T:8},{no:3,name:"can_screenshare",kind:"scalar",T:8}])}create(e){let t={canPublishAudio:!1,canPublishVideo:!1,canScreenshare:!1};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.canPublishAudio=e.bool();break;case 2:a.canPublishVideo=e.bool();break;case 3:a.canScreenshare=e.bool();break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){!1!==e.canPublishAudio&&t.tag(1,k.Varint).bool(e.canPublishAudio),!1!==e.canPublishVideo&&t.tag(2,k.Varint).bool(e.canPublishVideo),!1!==e.canScreenshare&&t.tag(3,k.Varint).bool(e.canScreenshare);let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let st=new se;var si=Object.freeze({__proto__:null,Browser:a8,Call:aQ,CallGrants:st,CallState:aN,ClientDetails:a1,Codec:aG,get ConnectionQuality(){return E},Device:a9,Error:aZ,get ErrorCode(){return I},get GoAwayReason(){return N},ICETrickle:aK,OS:a6,Participant:aF,ParticipantCount:aD,get PeerType(){return C},Pin:aU,Sdk:a3,get SdkType(){return O},StreamQuality:aB,TrackInfo:aJ,get TrackType(){return j},get TrackUnpublishReason(){return P},VideoDimension:aV,VideoLayer:aW,get VideoQuality(){return R}});class sn extends tL{constructor(){super("stream.video.sfu.signal.ICERestartRequest",[{no:1,name:"session_id",kind:"scalar",T:9},{no:2,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",C,"PEER_TYPE_"]}])}create(e){let t={sessionId:"",peerType:0};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.sessionId=e.string();break;case 2:a.peerType=e.int32();break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){""!==e.sessionId&&t.tag(1,k.LengthDelimited).string(e.sessionId),0!==e.peerType&&t.tag(2,k.Varint).int32(e.peerType);let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let sr=new sn;class sa extends tL{constructor(){super("stream.video.sfu.signal.ICERestartResponse",[{no:1,name:"error",kind:"message",T:()=>aZ}])}create(e){let t={};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();if(1===t)a.error=aZ.internalBinaryRead(e,e.uint32(),i,a.error);else{let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){e.error&&aZ.internalBinaryWrite(e.error,t.tag(1,k.LengthDelimited).fork(),i).join();let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let ss=new sa;class so extends tL{constructor(){super("stream.video.sfu.signal.UpdateMuteStatesRequest",[{no:1,name:"session_id",kind:"scalar",T:9},{no:3,name:"mute_states",kind:"message",repeat:1,T:()=>sd}])}create(e){let t={sessionId:"",muteStates:[]};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.sessionId=e.string();break;case 3:a.muteStates.push(sd.internalBinaryRead(e,e.uint32(),i));break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){""!==e.sessionId&&t.tag(1,k.LengthDelimited).string(e.sessionId);for(let r=0;r<e.muteStates.length;r++)sd.internalBinaryWrite(e.muteStates[r],t.tag(3,k.LengthDelimited).fork(),i).join();let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let sc=new so;class sl extends tL{constructor(){super("stream.video.sfu.signal.UpdateMuteStatesResponse",[{no:4,name:"error",kind:"message",T:()=>aZ}])}create(e){let t={};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();if(4===t)a.error=aZ.internalBinaryRead(e,e.uint32(),i,a.error);else{let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){e.error&&aZ.internalBinaryWrite(e.error,t.tag(4,k.LengthDelimited).fork(),i).join();let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let su=new sl;class sp extends tL{constructor(){super("stream.video.sfu.signal.TrackMuteState",[{no:1,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",j,"TRACK_TYPE_"]},{no:2,name:"muted",kind:"scalar",T:8}])}create(e){let t={trackType:0,muted:!1};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.trackType=e.int32();break;case 2:a.muted=e.bool();break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){0!==e.trackType&&t.tag(1,k.Varint).int32(e.trackType),!1!==e.muted&&t.tag(2,k.Varint).bool(e.muted);let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let sd=new sp;class sh extends tL{constructor(){super("stream.video.sfu.signal.AudioMuteChanged",[{no:1,name:"muted",kind:"scalar",T:8}])}create(e){let t={muted:!1};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();if(1===t)a.muted=e.bool();else{let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){!1!==e.muted&&t.tag(1,k.Varint).bool(e.muted);let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}new sh;class sf extends tL{constructor(){super("stream.video.sfu.signal.VideoMuteChanged",[{no:2,name:"muted",kind:"scalar",T:8}])}create(e){let t={muted:!1};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();if(2===t)a.muted=e.bool();else{let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){!1!==e.muted&&t.tag(2,k.Varint).bool(e.muted);let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}new sf;class sm extends tL{constructor(){super("stream.video.sfu.signal.UpdateSubscriptionsRequest",[{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"tracks",kind:"message",repeat:1,T:()=>sx}])}create(e){let t={sessionId:"",tracks:[]};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 2:a.sessionId=e.string();break;case 3:a.tracks.push(sx.internalBinaryRead(e,e.uint32(),i));break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){""!==e.sessionId&&t.tag(2,k.LengthDelimited).string(e.sessionId);for(let r=0;r<e.tracks.length;r++)sx.internalBinaryWrite(e.tracks[r],t.tag(3,k.LengthDelimited).fork(),i).join();let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let sg=new sm;class sb extends tL{constructor(){super("stream.video.sfu.signal.UpdateSubscriptionsResponse",[{no:4,name:"error",kind:"message",T:()=>aZ}])}create(e){let t={};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();if(4===t)a.error=aZ.internalBinaryRead(e,e.uint32(),i,a.error);else{let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){e.error&&aZ.internalBinaryWrite(e.error,t.tag(4,k.LengthDelimited).fork(),i).join();let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let sv=new sb;class sy extends tL{constructor(){super("stream.video.sfu.signal.TrackSubscriptionDetails",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",j,"TRACK_TYPE_"]},{no:4,name:"dimension",kind:"message",T:()=>aV}])}create(e){let t={userId:"",sessionId:"",trackType:0};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.userId=e.string();break;case 2:a.sessionId=e.string();break;case 3:a.trackType=e.int32();break;case 4:a.dimension=aV.internalBinaryRead(e,e.uint32(),i,a.dimension);break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){""!==e.userId&&t.tag(1,k.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,k.LengthDelimited).string(e.sessionId),0!==e.trackType&&t.tag(3,k.Varint).int32(e.trackType),e.dimension&&aV.internalBinaryWrite(e.dimension,t.tag(4,k.LengthDelimited).fork(),i).join();let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let sx=new sy;class sw extends tL{constructor(){super("stream.video.sfu.signal.SendAnswerRequest",[{no:1,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",C,"PEER_TYPE_"]},{no:2,name:"sdp",kind:"scalar",T:9},{no:3,name:"session_id",kind:"scalar",T:9}])}create(e){let t={peerType:0,sdp:"",sessionId:""};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.peerType=e.int32();break;case 2:a.sdp=e.string();break;case 3:a.sessionId=e.string();break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){0!==e.peerType&&t.tag(1,k.Varint).int32(e.peerType),""!==e.sdp&&t.tag(2,k.LengthDelimited).string(e.sdp),""!==e.sessionId&&t.tag(3,k.LengthDelimited).string(e.sessionId);let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let sk=new sw;class s_ extends tL{constructor(){super("stream.video.sfu.signal.SendAnswerResponse",[{no:4,name:"error",kind:"message",T:()=>aZ}])}create(e){let t={};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();if(4===t)a.error=aZ.internalBinaryRead(e,e.uint32(),i,a.error);else{let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){e.error&&aZ.internalBinaryWrite(e.error,t.tag(4,k.LengthDelimited).fork(),i).join();let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let sS=new s_;class sT extends tL{constructor(){super("stream.video.sfu.signal.ICETrickleResponse",[{no:4,name:"error",kind:"message",T:()=>aZ}])}create(e){let t={};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();if(4===t)a.error=aZ.internalBinaryRead(e,e.uint32(),i,a.error);else{let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){e.error&&aZ.internalBinaryWrite(e.error,t.tag(4,k.LengthDelimited).fork(),i).join();let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let sC=new sT;class sE extends tL{constructor(){super("stream.video.sfu.signal.SetPublisherRequest",[{no:1,name:"sdp",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"tracks",kind:"message",repeat:1,T:()=>aJ}])}create(e){let t={sdp:"",sessionId:"",tracks:[]};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.sdp=e.string();break;case 2:a.sessionId=e.string();break;case 3:a.tracks.push(aJ.internalBinaryRead(e,e.uint32(),i));break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){""!==e.sdp&&t.tag(1,k.LengthDelimited).string(e.sdp),""!==e.sessionId&&t.tag(2,k.LengthDelimited).string(e.sessionId);for(let r=0;r<e.tracks.length;r++)aJ.internalBinaryWrite(e.tracks[r],t.tag(3,k.LengthDelimited).fork(),i).join();let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let sR=new sE;class sj extends tL{constructor(){super("stream.video.sfu.signal.SetPublisherResponse",[{no:1,name:"sdp",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"ice_restart",kind:"scalar",T:8},{no:4,name:"error",kind:"message",T:()=>aZ}])}create(e){let t={sdp:"",sessionId:"",iceRestart:!1};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.sdp=e.string();break;case 2:a.sessionId=e.string();break;case 3:a.iceRestart=e.bool();break;case 4:a.error=aZ.internalBinaryRead(e,e.uint32(),i,a.error);break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){""!==e.sdp&&t.tag(1,k.LengthDelimited).string(e.sdp),""!==e.sessionId&&t.tag(2,k.LengthDelimited).string(e.sessionId),!1!==e.iceRestart&&t.tag(3,k.Varint).bool(e.iceRestart),e.error&&aZ.internalBinaryWrite(e.error,t.tag(4,k.LengthDelimited).fork(),i).join();let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let sI=new tU("stream.video.sfu.signal.SignalServer",[{name:"SetPublisher",options:{},I:sR,O:new sj},{name:"SendAnswer",options:{},I:sk,O:sS},{name:"IceTrickle",options:{},I:aK,O:sC},{name:"UpdateSubscriptions",options:{},I:sg,O:sv},{name:"UpdateMuteStates",options:{},I:sc,O:su},{name:"IceRestart",options:{},I:sr,O:ss}]);!function(e){e[e.HIGH_UNSPECIFIED=0]="HIGH_UNSPECIFIED",e[e.LOW=1]="LOW",e[e.MEDIUM=2]="MEDIUM",e[e.VERY_LOW=3]="VERY_LOW"}(A||(A={}));class sO extends tL{constructor(){super("stream.video.sfu.event.SfuEvent",[{no:1,name:"subscriber_offer",kind:"message",oneof:"eventPayload",T:()=>s8},{no:2,name:"publisher_answer",kind:"message",oneof:"eventPayload",T:()=>s9},{no:3,name:"connection_quality_changed",kind:"message",oneof:"eventPayload",T:()=>ot},{no:4,name:"audio_level_changed",kind:"message",oneof:"eventPayload",T:()=>ol},{no:5,name:"ice_trickle",kind:"message",oneof:"eventPayload",T:()=>aK},{no:6,name:"change_publish_quality",kind:"message",oneof:"eventPayload",T:()=>ow},{no:10,name:"participant_joined",kind:"message",oneof:"eventPayload",T:()=>s3},{no:11,name:"participant_left",kind:"message",oneof:"eventPayload",T:()=>s6},{no:12,name:"dominant_speaker_changed",kind:"message",oneof:"eventPayload",T:()=>oa},{no:13,name:"join_response",kind:"message",oneof:"eventPayload",T:()=>s1},{no:14,name:"health_check_response",kind:"message",oneof:"eventPayload",T:()=>sW},{no:16,name:"track_published",kind:"message",oneof:"eventPayload",T:()=>sG},{no:17,name:"track_unpublished",kind:"message",oneof:"eventPayload",T:()=>sY},{no:18,name:"error",kind:"message",oneof:"eventPayload",T:()=>sL},{no:19,name:"call_grants_updated",kind:"message",oneof:"eventPayload",T:()=>o_},{no:20,name:"go_away",kind:"message",oneof:"eventPayload",T:()=>oT},{no:21,name:"ice_restart",kind:"message",oneof:"eventPayload",T:()=>sF},{no:22,name:"pins_updated",kind:"message",oneof:"eventPayload",T:()=>sA}])}create(e){let t={eventPayload:{oneofKind:void 0}};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.eventPayload={oneofKind:"subscriberOffer",subscriberOffer:s8.internalBinaryRead(e,e.uint32(),i,a.eventPayload.subscriberOffer)};break;case 2:a.eventPayload={oneofKind:"publisherAnswer",publisherAnswer:s9.internalBinaryRead(e,e.uint32(),i,a.eventPayload.publisherAnswer)};break;case 3:a.eventPayload={oneofKind:"connectionQualityChanged",connectionQualityChanged:ot.internalBinaryRead(e,e.uint32(),i,a.eventPayload.connectionQualityChanged)};break;case 4:a.eventPayload={oneofKind:"audioLevelChanged",audioLevelChanged:ol.internalBinaryRead(e,e.uint32(),i,a.eventPayload.audioLevelChanged)};break;case 5:a.eventPayload={oneofKind:"iceTrickle",iceTrickle:aK.internalBinaryRead(e,e.uint32(),i,a.eventPayload.iceTrickle)};break;case 6:a.eventPayload={oneofKind:"changePublishQuality",changePublishQuality:ow.internalBinaryRead(e,e.uint32(),i,a.eventPayload.changePublishQuality)};break;case 10:a.eventPayload={oneofKind:"participantJoined",participantJoined:s3.internalBinaryRead(e,e.uint32(),i,a.eventPayload.participantJoined)};break;case 11:a.eventPayload={oneofKind:"participantLeft",participantLeft:s6.internalBinaryRead(e,e.uint32(),i,a.eventPayload.participantLeft)};break;case 12:a.eventPayload={oneofKind:"dominantSpeakerChanged",dominantSpeakerChanged:oa.internalBinaryRead(e,e.uint32(),i,a.eventPayload.dominantSpeakerChanged)};break;case 13:a.eventPayload={oneofKind:"joinResponse",joinResponse:s1.internalBinaryRead(e,e.uint32(),i,a.eventPayload.joinResponse)};break;case 14:a.eventPayload={oneofKind:"healthCheckResponse",healthCheckResponse:sW.internalBinaryRead(e,e.uint32(),i,a.eventPayload.healthCheckResponse)};break;case 16:a.eventPayload={oneofKind:"trackPublished",trackPublished:sG.internalBinaryRead(e,e.uint32(),i,a.eventPayload.trackPublished)};break;case 17:a.eventPayload={oneofKind:"trackUnpublished",trackUnpublished:sY.internalBinaryRead(e,e.uint32(),i,a.eventPayload.trackUnpublished)};break;case 18:a.eventPayload={oneofKind:"error",error:sL.internalBinaryRead(e,e.uint32(),i,a.eventPayload.error)};break;case 19:a.eventPayload={oneofKind:"callGrantsUpdated",callGrantsUpdated:o_.internalBinaryRead(e,e.uint32(),i,a.eventPayload.callGrantsUpdated)};break;case 20:a.eventPayload={oneofKind:"goAway",goAway:oT.internalBinaryRead(e,e.uint32(),i,a.eventPayload.goAway)};break;case 21:a.eventPayload={oneofKind:"iceRestart",iceRestart:sF.internalBinaryRead(e,e.uint32(),i,a.eventPayload.iceRestart)};break;case 22:a.eventPayload={oneofKind:"pinsUpdated",pinsUpdated:sA.internalBinaryRead(e,e.uint32(),i,a.eventPayload.pinsUpdated)};break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){"subscriberOffer"===e.eventPayload.oneofKind&&s8.internalBinaryWrite(e.eventPayload.subscriberOffer,t.tag(1,k.LengthDelimited).fork(),i).join(),"publisherAnswer"===e.eventPayload.oneofKind&&s9.internalBinaryWrite(e.eventPayload.publisherAnswer,t.tag(2,k.LengthDelimited).fork(),i).join(),"connectionQualityChanged"===e.eventPayload.oneofKind&&ot.internalBinaryWrite(e.eventPayload.connectionQualityChanged,t.tag(3,k.LengthDelimited).fork(),i).join(),"audioLevelChanged"===e.eventPayload.oneofKind&&ol.internalBinaryWrite(e.eventPayload.audioLevelChanged,t.tag(4,k.LengthDelimited).fork(),i).join(),"iceTrickle"===e.eventPayload.oneofKind&&aK.internalBinaryWrite(e.eventPayload.iceTrickle,t.tag(5,k.LengthDelimited).fork(),i).join(),"changePublishQuality"===e.eventPayload.oneofKind&&ow.internalBinaryWrite(e.eventPayload.changePublishQuality,t.tag(6,k.LengthDelimited).fork(),i).join(),"participantJoined"===e.eventPayload.oneofKind&&s3.internalBinaryWrite(e.eventPayload.participantJoined,t.tag(10,k.LengthDelimited).fork(),i).join(),"participantLeft"===e.eventPayload.oneofKind&&s6.internalBinaryWrite(e.eventPayload.participantLeft,t.tag(11,k.LengthDelimited).fork(),i).join(),"dominantSpeakerChanged"===e.eventPayload.oneofKind&&oa.internalBinaryWrite(e.eventPayload.dominantSpeakerChanged,t.tag(12,k.LengthDelimited).fork(),i).join(),"joinResponse"===e.eventPayload.oneofKind&&s1.internalBinaryWrite(e.eventPayload.joinResponse,t.tag(13,k.LengthDelimited).fork(),i).join(),"healthCheckResponse"===e.eventPayload.oneofKind&&sW.internalBinaryWrite(e.eventPayload.healthCheckResponse,t.tag(14,k.LengthDelimited).fork(),i).join(),"trackPublished"===e.eventPayload.oneofKind&&sG.internalBinaryWrite(e.eventPayload.trackPublished,t.tag(16,k.LengthDelimited).fork(),i).join(),"trackUnpublished"===e.eventPayload.oneofKind&&sY.internalBinaryWrite(e.eventPayload.trackUnpublished,t.tag(17,k.LengthDelimited).fork(),i).join(),"error"===e.eventPayload.oneofKind&&sL.internalBinaryWrite(e.eventPayload.error,t.tag(18,k.LengthDelimited).fork(),i).join(),"callGrantsUpdated"===e.eventPayload.oneofKind&&o_.internalBinaryWrite(e.eventPayload.callGrantsUpdated,t.tag(19,k.LengthDelimited).fork(),i).join(),"goAway"===e.eventPayload.oneofKind&&oT.internalBinaryWrite(e.eventPayload.goAway,t.tag(20,k.LengthDelimited).fork(),i).join(),"iceRestart"===e.eventPayload.oneofKind&&sF.internalBinaryWrite(e.eventPayload.iceRestart,t.tag(21,k.LengthDelimited).fork(),i).join(),"pinsUpdated"===e.eventPayload.oneofKind&&sA.internalBinaryWrite(e.eventPayload.pinsUpdated,t.tag(22,k.LengthDelimited).fork(),i).join();let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let sP=new sO;class sN extends tL{constructor(){super("stream.video.sfu.event.PinsChanged",[{no:1,name:"pins",kind:"message",repeat:1,T:()=>aU}])}create(e){let t={pins:[]};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();if(1===t)a.pins.push(aU.internalBinaryRead(e,e.uint32(),i));else{let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){for(let r=0;r<e.pins.length;r++)aU.internalBinaryWrite(e.pins[r],t.tag(1,k.LengthDelimited).fork(),i).join();let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let sA=new sN;class sD extends tL{constructor(){super("stream.video.sfu.event.Error",[{no:4,name:"error",kind:"message",T:()=>aZ}])}create(e){let t={};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();if(4===t)a.error=aZ.internalBinaryRead(e,e.uint32(),i,a.error);else{let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){e.error&&aZ.internalBinaryWrite(e.error,t.tag(4,k.LengthDelimited).fork(),i).join();let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let sL=new sD;class sU extends tL{constructor(){super("stream.video.sfu.event.ICETrickle",[{no:1,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",C,"PEER_TYPE_"]},{no:2,name:"ice_candidate",kind:"scalar",T:9}])}create(e){let t={peerType:0,iceCandidate:""};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.peerType=e.int32();break;case 2:a.iceCandidate=e.string();break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){0!==e.peerType&&t.tag(1,k.Varint).int32(e.peerType),""!==e.iceCandidate&&t.tag(2,k.LengthDelimited).string(e.iceCandidate);let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}new sU;class sM extends tL{constructor(){super("stream.video.sfu.event.ICERestart",[{no:1,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",C,"PEER_TYPE_"]}])}create(e){let t={peerType:0};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();if(1===t)a.peerType=e.int32();else{let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){0!==e.peerType&&t.tag(1,k.Varint).int32(e.peerType);let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let sF=new sM;class s$ extends tL{constructor(){super("stream.video.sfu.event.SfuRequest",[{no:1,name:"join_request",kind:"message",oneof:"requestPayload",T:()=>sX},{no:2,name:"health_check_request",kind:"message",oneof:"requestPayload",T:()=>sV}])}create(e){let t={requestPayload:{oneofKind:void 0}};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.requestPayload={oneofKind:"joinRequest",joinRequest:sX.internalBinaryRead(e,e.uint32(),i,a.requestPayload.joinRequest)};break;case 2:a.requestPayload={oneofKind:"healthCheckRequest",healthCheckRequest:sV.internalBinaryRead(e,e.uint32(),i,a.requestPayload.healthCheckRequest)};break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){"joinRequest"===e.requestPayload.oneofKind&&sX.internalBinaryWrite(e.requestPayload.joinRequest,t.tag(1,k.LengthDelimited).fork(),i).join(),"healthCheckRequest"===e.requestPayload.oneofKind&&sV.internalBinaryWrite(e.requestPayload.healthCheckRequest,t.tag(2,k.LengthDelimited).fork(),i).join();let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let sB=new s$;class sq extends tL{constructor(){super("stream.video.sfu.event.HealthCheckRequest",[])}create(e){let t={};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){return r??this.create()}internalBinaryWrite(e,t,i){let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let sV=new sq;class sz extends tL{constructor(){super("stream.video.sfu.event.HealthCheckResponse",[{no:1,name:"participant_count",kind:"message",T:()=>aD}])}create(e){let t={};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();if(1===t)a.participantCount=aD.internalBinaryRead(e,e.uint32(),i,a.participantCount);else{let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){e.participantCount&&aD.internalBinaryWrite(e.participantCount,t.tag(1,k.LengthDelimited).fork(),i).join();let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let sW=new sz;class sH extends tL{constructor(){super("stream.video.sfu.event.TrackPublished",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",j,"TRACK_TYPE_"]},{no:4,name:"participant",kind:"message",T:()=>aF}])}create(e){let t={userId:"",sessionId:"",type:0};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.userId=e.string();break;case 2:a.sessionId=e.string();break;case 3:a.type=e.int32();break;case 4:a.participant=aF.internalBinaryRead(e,e.uint32(),i,a.participant);break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){""!==e.userId&&t.tag(1,k.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,k.LengthDelimited).string(e.sessionId),0!==e.type&&t.tag(3,k.Varint).int32(e.type),e.participant&&aF.internalBinaryWrite(e.participant,t.tag(4,k.LengthDelimited).fork(),i).join();let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let sG=new sH;class sK extends tL{constructor(){super("stream.video.sfu.event.TrackUnpublished",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",j,"TRACK_TYPE_"]},{no:4,name:"cause",kind:"enum",T:()=>["stream.video.sfu.models.TrackUnpublishReason",P,"TRACK_UNPUBLISH_REASON_"]},{no:5,name:"participant",kind:"message",T:()=>aF}])}create(e){let t={userId:"",sessionId:"",type:0,cause:0};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.userId=e.string();break;case 2:a.sessionId=e.string();break;case 3:a.type=e.int32();break;case 4:a.cause=e.int32();break;case 5:a.participant=aF.internalBinaryRead(e,e.uint32(),i,a.participant);break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){""!==e.userId&&t.tag(1,k.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,k.LengthDelimited).string(e.sessionId),0!==e.type&&t.tag(3,k.Varint).int32(e.type),0!==e.cause&&t.tag(4,k.Varint).int32(e.cause),e.participant&&aF.internalBinaryWrite(e.participant,t.tag(5,k.LengthDelimited).fork(),i).join();let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let sY=new sK;class sJ extends tL{constructor(){super("stream.video.sfu.event.JoinRequest",[{no:1,name:"token",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"subscriber_sdp",kind:"scalar",T:9},{no:4,name:"client_details",kind:"message",T:()=>a1},{no:5,name:"migration",kind:"message",T:()=>sZ},{no:6,name:"fast_reconnect",kind:"scalar",T:8}])}create(e){let t={token:"",sessionId:"",subscriberSdp:"",fastReconnect:!1};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.token=e.string();break;case 2:a.sessionId=e.string();break;case 3:a.subscriberSdp=e.string();break;case 4:a.clientDetails=a1.internalBinaryRead(e,e.uint32(),i,a.clientDetails);break;case 5:a.migration=sZ.internalBinaryRead(e,e.uint32(),i,a.migration);break;case 6:a.fastReconnect=e.bool();break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){""!==e.token&&t.tag(1,k.LengthDelimited).string(e.token),""!==e.sessionId&&t.tag(2,k.LengthDelimited).string(e.sessionId),""!==e.subscriberSdp&&t.tag(3,k.LengthDelimited).string(e.subscriberSdp),e.clientDetails&&a1.internalBinaryWrite(e.clientDetails,t.tag(4,k.LengthDelimited).fork(),i).join(),e.migration&&sZ.internalBinaryWrite(e.migration,t.tag(5,k.LengthDelimited).fork(),i).join(),!1!==e.fastReconnect&&t.tag(6,k.Varint).bool(e.fastReconnect);let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let sX=new sJ;class sQ extends tL{constructor(){super("stream.video.sfu.event.Migration",[{no:1,name:"from_sfu_id",kind:"scalar",T:9},{no:2,name:"announced_tracks",kind:"message",repeat:1,T:()=>aJ},{no:3,name:"subscriptions",kind:"message",repeat:1,T:()=>sx}])}create(e){let t={fromSfuId:"",announcedTracks:[],subscriptions:[]};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.fromSfuId=e.string();break;case 2:a.announcedTracks.push(aJ.internalBinaryRead(e,e.uint32(),i));break;case 3:a.subscriptions.push(sx.internalBinaryRead(e,e.uint32(),i));break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){""!==e.fromSfuId&&t.tag(1,k.LengthDelimited).string(e.fromSfuId);for(let r=0;r<e.announcedTracks.length;r++)aJ.internalBinaryWrite(e.announcedTracks[r],t.tag(2,k.LengthDelimited).fork(),i).join();for(let r=0;r<e.subscriptions.length;r++)sx.internalBinaryWrite(e.subscriptions[r],t.tag(3,k.LengthDelimited).fork(),i).join();let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let sZ=new sQ;class s0 extends tL{constructor(){super("stream.video.sfu.event.JoinResponse",[{no:1,name:"call_state",kind:"message",T:()=>aN},{no:2,name:"reconnected",kind:"scalar",T:8}])}create(e){let t={reconnected:!1};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.callState=aN.internalBinaryRead(e,e.uint32(),i,a.callState);break;case 2:a.reconnected=e.bool();break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){e.callState&&aN.internalBinaryWrite(e.callState,t.tag(1,k.LengthDelimited).fork(),i).join(),!1!==e.reconnected&&t.tag(2,k.Varint).bool(e.reconnected);let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let s1=new s0;class s2 extends tL{constructor(){super("stream.video.sfu.event.ParticipantJoined",[{no:1,name:"call_cid",kind:"scalar",T:9},{no:2,name:"participant",kind:"message",T:()=>aF}])}create(e){let t={callCid:""};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.callCid=e.string();break;case 2:a.participant=aF.internalBinaryRead(e,e.uint32(),i,a.participant);break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){""!==e.callCid&&t.tag(1,k.LengthDelimited).string(e.callCid),e.participant&&aF.internalBinaryWrite(e.participant,t.tag(2,k.LengthDelimited).fork(),i).join();let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let s3=new s2;class s4 extends tL{constructor(){super("stream.video.sfu.event.ParticipantLeft",[{no:1,name:"call_cid",kind:"scalar",T:9},{no:2,name:"participant",kind:"message",T:()=>aF}])}create(e){let t={callCid:""};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.callCid=e.string();break;case 2:a.participant=aF.internalBinaryRead(e,e.uint32(),i,a.participant);break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){""!==e.callCid&&t.tag(1,k.LengthDelimited).string(e.callCid),e.participant&&aF.internalBinaryWrite(e.participant,t.tag(2,k.LengthDelimited).fork(),i).join();let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let s6=new s4;class s5 extends tL{constructor(){super("stream.video.sfu.event.SubscriberOffer",[{no:1,name:"ice_restart",kind:"scalar",T:8},{no:2,name:"sdp",kind:"scalar",T:9}])}create(e){let t={iceRestart:!1,sdp:""};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.iceRestart=e.bool();break;case 2:a.sdp=e.string();break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){!1!==e.iceRestart&&t.tag(1,k.Varint).bool(e.iceRestart),""!==e.sdp&&t.tag(2,k.LengthDelimited).string(e.sdp);let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let s8=new s5;class s7 extends tL{constructor(){super("stream.video.sfu.event.PublisherAnswer",[{no:1,name:"sdp",kind:"scalar",T:9}])}create(e){let t={sdp:""};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();if(1===t)a.sdp=e.string();else{let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){""!==e.sdp&&t.tag(1,k.LengthDelimited).string(e.sdp);let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let s9=new s7;class oe extends tL{constructor(){super("stream.video.sfu.event.ConnectionQualityChanged",[{no:1,name:"connection_quality_updates",kind:"message",repeat:1,T:()=>on}])}create(e){let t={connectionQualityUpdates:[]};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();if(1===t)a.connectionQualityUpdates.push(on.internalBinaryRead(e,e.uint32(),i));else{let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){for(let r=0;r<e.connectionQualityUpdates.length;r++)on.internalBinaryWrite(e.connectionQualityUpdates[r],t.tag(1,k.LengthDelimited).fork(),i).join();let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let ot=new oe;class oi extends tL{constructor(){super("stream.video.sfu.event.ConnectionQualityInfo",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"connection_quality",kind:"enum",T:()=>["stream.video.sfu.models.ConnectionQuality",E,"CONNECTION_QUALITY_"]}])}create(e){let t={userId:"",sessionId:"",connectionQuality:0};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.userId=e.string();break;case 2:a.sessionId=e.string();break;case 3:a.connectionQuality=e.int32();break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){""!==e.userId&&t.tag(1,k.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,k.LengthDelimited).string(e.sessionId),0!==e.connectionQuality&&t.tag(3,k.Varint).int32(e.connectionQuality);let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let on=new oi;class or extends tL{constructor(){super("stream.video.sfu.event.DominantSpeakerChanged",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9}])}create(e){let t={userId:"",sessionId:""};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.userId=e.string();break;case 2:a.sessionId=e.string();break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){""!==e.userId&&t.tag(1,k.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,k.LengthDelimited).string(e.sessionId);let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let oa=new or;class os extends tL{constructor(){super("stream.video.sfu.event.AudioLevel",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"level",kind:"scalar",T:2},{no:4,name:"is_speaking",kind:"scalar",T:8}])}create(e){let t={userId:"",sessionId:"",level:0,isSpeaking:!1};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.userId=e.string();break;case 2:a.sessionId=e.string();break;case 3:a.level=e.float();break;case 4:a.isSpeaking=e.bool();break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){""!==e.userId&&t.tag(1,k.LengthDelimited).string(e.userId),""!==e.sessionId&&t.tag(2,k.LengthDelimited).string(e.sessionId),0!==e.level&&t.tag(3,k.Bit32).float(e.level),!1!==e.isSpeaking&&t.tag(4,k.Varint).bool(e.isSpeaking);let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let oo=new os;class oc extends tL{constructor(){super("stream.video.sfu.event.AudioLevelChanged",[{no:1,name:"audio_levels",kind:"message",repeat:1,T:()=>oo}])}create(e){let t={audioLevels:[]};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();if(1===t)a.audioLevels.push(oo.internalBinaryRead(e,e.uint32(),i));else{let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){for(let r=0;r<e.audioLevels.length;r++)oo.internalBinaryWrite(e.audioLevels[r],t.tag(1,k.LengthDelimited).fork(),i).join();let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let ol=new oc;class ou extends tL{constructor(){super("stream.video.sfu.event.AudioMediaRequest",[{no:1,name:"channel_count",kind:"scalar",T:5}])}create(e){let t={channelCount:0};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();if(1===t)a.channelCount=e.int32();else{let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){0!==e.channelCount&&t.tag(1,k.Varint).int32(e.channelCount);let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let op=new ou;class od extends tL{constructor(){super("stream.video.sfu.event.AudioSender",[{no:1,name:"media_request",kind:"message",T:()=>op},{no:2,name:"codec",kind:"message",T:()=>aG}])}create(e){let t={};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.mediaRequest=op.internalBinaryRead(e,e.uint32(),i,a.mediaRequest);break;case 2:a.codec=aG.internalBinaryRead(e,e.uint32(),i,a.codec);break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){e.mediaRequest&&op.internalBinaryWrite(e.mediaRequest,t.tag(1,k.LengthDelimited).fork(),i).join(),e.codec&&aG.internalBinaryWrite(e.codec,t.tag(2,k.LengthDelimited).fork(),i).join();let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let oh=new od;class of extends tL{constructor(){super("stream.video.sfu.event.VideoMediaRequest",[{no:1,name:"ideal_height",kind:"scalar",T:5},{no:2,name:"ideal_width",kind:"scalar",T:5},{no:3,name:"ideal_frame_rate",kind:"scalar",T:5}])}create(e){let t={idealHeight:0,idealWidth:0,idealFrameRate:0};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.idealHeight=e.int32();break;case 2:a.idealWidth=e.int32();break;case 3:a.idealFrameRate=e.int32();break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){0!==e.idealHeight&&t.tag(1,k.Varint).int32(e.idealHeight),0!==e.idealWidth&&t.tag(2,k.Varint).int32(e.idealWidth),0!==e.idealFrameRate&&t.tag(3,k.Varint).int32(e.idealFrameRate);let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let om=new of;class og extends tL{constructor(){super("stream.video.sfu.event.VideoLayerSetting",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"active",kind:"scalar",T:8},{no:3,name:"max_bitrate",kind:"scalar",T:5},{no:4,name:"scale_resolution_down_by",kind:"scalar",T:2},{no:5,name:"priority",kind:"enum",T:()=>["stream.video.sfu.event.VideoLayerSetting.Priority",A,"PRIORITY_"]},{no:6,name:"codec",kind:"message",T:()=>aG},{no:7,name:"max_framerate",kind:"scalar",T:13}])}create(e){let t={name:"",active:!1,maxBitrate:0,scaleResolutionDownBy:0,priority:0,maxFramerate:0};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.name=e.string();break;case 2:a.active=e.bool();break;case 3:a.maxBitrate=e.int32();break;case 4:a.scaleResolutionDownBy=e.float();break;case 5:a.priority=e.int32();break;case 6:a.codec=aG.internalBinaryRead(e,e.uint32(),i,a.codec);break;case 7:a.maxFramerate=e.uint32();break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){""!==e.name&&t.tag(1,k.LengthDelimited).string(e.name),!1!==e.active&&t.tag(2,k.Varint).bool(e.active),0!==e.maxBitrate&&t.tag(3,k.Varint).int32(e.maxBitrate),0!==e.scaleResolutionDownBy&&t.tag(4,k.Bit32).float(e.scaleResolutionDownBy),0!==e.priority&&t.tag(5,k.Varint).int32(e.priority),e.codec&&aG.internalBinaryWrite(e.codec,t.tag(6,k.LengthDelimited).fork(),i).join(),0!==e.maxFramerate&&t.tag(7,k.Varint).uint32(e.maxFramerate);let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let ob=new og;class ov extends tL{constructor(){super("stream.video.sfu.event.VideoSender",[{no:1,name:"media_request",kind:"message",T:()=>om},{no:2,name:"codec",kind:"message",T:()=>aG},{no:3,name:"layers",kind:"message",repeat:1,T:()=>ob}])}create(e){let t={layers:[]};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.mediaRequest=om.internalBinaryRead(e,e.uint32(),i,a.mediaRequest);break;case 2:a.codec=aG.internalBinaryRead(e,e.uint32(),i,a.codec);break;case 3:a.layers.push(ob.internalBinaryRead(e,e.uint32(),i));break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){e.mediaRequest&&om.internalBinaryWrite(e.mediaRequest,t.tag(1,k.LengthDelimited).fork(),i).join(),e.codec&&aG.internalBinaryWrite(e.codec,t.tag(2,k.LengthDelimited).fork(),i).join();for(let r=0;r<e.layers.length;r++)ob.internalBinaryWrite(e.layers[r],t.tag(3,k.LengthDelimited).fork(),i).join();let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let oy=new ov;class ox extends tL{constructor(){super("stream.video.sfu.event.ChangePublishQuality",[{no:1,name:"audio_senders",kind:"message",repeat:1,T:()=>oh},{no:2,name:"video_senders",kind:"message",repeat:1,T:()=>oy}])}create(e){let t={audioSenders:[],videoSenders:[]};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.audioSenders.push(oh.internalBinaryRead(e,e.uint32(),i));break;case 2:a.videoSenders.push(oy.internalBinaryRead(e,e.uint32(),i));break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){for(let r=0;r<e.audioSenders.length;r++)oh.internalBinaryWrite(e.audioSenders[r],t.tag(1,k.LengthDelimited).fork(),i).join();for(let r=0;r<e.videoSenders.length;r++)oy.internalBinaryWrite(e.videoSenders[r],t.tag(2,k.LengthDelimited).fork(),i).join();let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let ow=new ox;class ok extends tL{constructor(){super("stream.video.sfu.event.CallGrantsUpdated",[{no:1,name:"current_grants",kind:"message",T:()=>st},{no:2,name:"message",kind:"scalar",T:9}])}create(e){let t={message:""};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();switch(t){case 1:a.currentGrants=st.internalBinaryRead(e,e.uint32(),i,a.currentGrants);break;case 2:a.message=e.string();break;default:let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){e.currentGrants&&st.internalBinaryWrite(e.currentGrants,t.tag(1,k.LengthDelimited).fork(),i).join(),""!==e.message&&t.tag(2,k.LengthDelimited).string(e.message);let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let o_=new ok;class oS extends tL{constructor(){super("stream.video.sfu.event.GoAway",[{no:1,name:"reason",kind:"enum",T:()=>["stream.video.sfu.models.GoAwayReason",N,"GO_AWAY_REASON_"]}])}create(e){let t={reason:0};return globalThis.Object.defineProperty(t,e5,{enumerable:!1,value:this}),void 0!==e&&tT(this,t,e),t}internalBinaryRead(e,t,i,r){let a=r??this.create(),s=e.pos+t;for(;e.pos<s;){let[t,r]=e.tag();if(1===t)a.reason=e.int32();else{let s=i.readUnknownField;if("throw"===s)throw new globalThis.Error(`Unknown field ${t} (wire type ${r}) for ${this.typeName}`);let o=e.skip(r);!1!==s&&(!0===s?w.onRead:s)(this.typeName,a,t,r,o)}}return a}internalBinaryWrite(e,t,i){0!==e.reason&&t.tag(1,k.Varint).int32(e.reason);let r=i.writeUnknownFields;return!1!==r&&(!0==r?w.onWrite:r)(this.typeName,e,t),t}}let oT=new oS;(function(e){e.UNKNOWN="UNKNOWN",e.VISIBLE="VISIBLE",e.INVISIBLE="INVISIBLE"})(D||(D={})),function(e){e[e.IMMEDIATE=20]="IMMEDIATE",e[e.FAST=100]="FAST",e[e.MEDIUM=600]="MEDIUM",e[e.SLOW=1200]="SLOW"}(L||(L={}));class oC{constructor(e){this._transport=e,this.typeName=sI.typeName,this.methods=sI.methods,this.options=sI.options}setPublisher(e,t){let i=this.methods[0],r=this._transport.mergeOptions(t);return tM("unary",this._transport,i,r,e)}sendAnswer(e,t){let i=this.methods[1],r=this._transport.mergeOptions(t);return tM("unary",this._transport,i,r,e)}iceTrickle(e,t){let i=this.methods[2],r=this._transport.mergeOptions(t);return tM("unary",this._transport,i,r,e)}updateSubscriptions(e,t){let i=this.methods[3],r=this._transport.mergeOptions(t);return tM("unary",this._transport,i,r,e)}updateMuteStates(e,t){let i=this.methods[4],r=this._transport.mergeOptions(t);return tM("unary",this._transport,i,r,e)}iceRestart(e,t){let i=this.methods[5],r=this._transport.mergeOptions(t);return tM("unary",this._transport,i,r,e)}}let oE={baseUrl:"",sendJson:!0,timeout:5e3,jsonOptions:{ignoreUnknownFields:!0}},oR=e=>({interceptUnary:(t,i,r,a)=>(a.meta={...a.meta,...e},t(i,r,a))}),oj=e=>new oC(new n6({...oE,...e})),oI=()=>"undefined"!=typeof navigator&&navigator.product?.toLowerCase()==="reactnative",oO=Object.freeze({trace:0,debug:1,info:2,warn:3,error:4}),oP="info",oN=(e,t,...i)=>{let r;switch(e){case"error":r=console.error;break;case"warn":if(oI()){t=`WARN: ${t}`,r=console.info;break}r=console.warn;break;case"info":r=console.info;break;case"trace":r=console.trace;break;default:r=console.log}r(t,...i)},oA=(e,t)=>{a=e,t&&oD(t)},oD=e=>{oP=e},oL=e=>{let t=a||oN,i=(e||[]).join(":");return(e,r,...a)=>{oO[e]>=oO[oP]&&t(e,`[${i}]: ${r}`,...a)}},oU=(e,t,i)=>{let r=oL(["codecs"]);if(!("getCapabilities"in RTCRtpSender)){r?.("warn","RTCRtpSender.getCapabilities is not supported");return}let a=RTCRtpSender.getCapabilities(e);if(!a)return;let s=[],o=[],l=[];a.codecs.forEach(a=>{let u=a.mimeType.toLowerCase();if(r?.("debug",`Found supported codec: ${u}`),!i||u!==`${e}/${i.toLowerCase()}`){if(u!==`${e}/${t.toLowerCase()}`){l.push(a);return}if("h264"===u){a.sdpFmtpLine&&a.sdpFmtpLine.includes("profile-level-id=42e01f")?s.push(a):o.push(a);return}s.push(a)}});let u=[...s,...o,...l];return r?.("info","Preffered codecs: ",u),u},oM=async e=>{let t=new RTCPeerConnection;t.addTransceiver("video",{direction:e}),t.addTransceiver("audio",{direction:e});let i=(await t.createOffer()).sdp??"";return t.getTransceivers().forEach(e=>{e.stop()}),t.close(),i},oF={subscriberOffer:void 0,publisherAnswer:void 0,connectionQualityChanged:void 0,audioLevelChanged:void 0,iceTrickle:void 0,changePublishQuality:void 0,participantJoined:void 0,participantLeft:void 0,dominantSpeakerChanged:void 0,joinResponse:void 0,healthCheckResponse:void 0,trackPublished:void 0,trackUnpublished:void 0,error:void 0,callGrantsUpdated:void 0,goAway:void 0,iceRestart:void 0,pinsUpdated:void 0},o$=e=>Object.prototype.hasOwnProperty.call(oF,e);class oB{constructor(){this.subscribers={},this.logger=oL(["sfu-client"]),this.dispatch=e=>{let t=e.eventPayload.oneofKind;if(t){this.logger("debug",`Dispatching ${t}`,e.eventPayload[t]);let i=this.subscribers[t];i?.forEach(t=>{try{t(e)}catch(e){this.logger("warn","Listener failed with error",e)}})}},this.on=(e,t)=>{var i;return((i=this.subscribers)[e]??(i[e]=[])).push(t),()=>{this.off(e,t)}},this.off=(e,t)=>{this.subscribers[e]=(this.subscribers[e]||[]).filter(e=>e!==t)},this.offAll=e=>{e?this.subscribers[e]=[]:this.subscribers={}}}}class oq{constructor(){this.subscriberCandidates=new rD,this.publisherCandidates=new rD,this.push=e=>{e.peerType===C.SUBSCRIBER?this.subscriberCandidates.next(e):e.peerType===C.PUBLISHER_UNSPECIFIED?this.publisherCandidates.next(e):this.logger?.("warn","ICETrickle, Unknown peer type",e)},this.logger=oL(["sfu-client"])}}function oV(e){if(e.usernameFragment)return JSON.stringify(e.toJSON());{let t=e.candidate.split(" "),i=t.findIndex(e=>"ufrag"===e)+1,r=t[i];return JSON.stringify({...e,usernameFragment:r})}}let oz=()=>s,oW=()=>o,oH=()=>l,oG=()=>{if(oI())return{sdk:oz(),os:oW(),device:oH()};let{browser:e,os:t,device:i,cpu:r}=new ag.UAParser(navigator.userAgent).getResult();return{sdk:oz(),browser:{name:e.name||navigator.userAgent,version:e.version||""},os:{name:t.name||"",version:t.version||"",architecture:r.architecture||""},device:{name:`${i.vendor||""} ${i.model||""} ${i.type||""}`,version:""}}},oK={bitrate:125e4,width:1280,height:720},oY=(e,t=oK)=>{let i=[],r=e.getSettings(),{width:a=0,height:s=0}=r,o=oI()&&oW()?.name.toLowerCase()==="ios",l=oJ(t,a,s),u=1;return["f","h","q"].forEach(e=>{i.unshift({active:!0,rid:e,width:Math.round(a/u),height:Math.round(s/u),maxBitrate:Math.round(l/u),scaleResolutionDownBy:u,maxFramerate:{f:30,h:o?30:25,q:o?30:20}[e]}),u*=2}),oX(r,i)},oJ=(e,t,i)=>{let{width:r,height:a}=e;return t<r||i<a?Math.round(e.bitrate*(t*i/(r*a))):e.bitrate},oX=(e,t)=>{let i;let r=Math.max(e.width||0,e.height||0);i=r<=320?t.filter(e=>"f"===e.rid):r<=640?t.filter(e=>"h"!==e.rid):t;let a=["q","h","f"];return i.map((e,t)=>({...e,rid:a[t]}))},oQ=(e,t)=>{let i=e.getSettings();return[{active:!0,rid:"q",width:i.width||0,height:i.height||0,scaleResolutionDownBy:1,maxBitrate:t?.maxBitrate??3e6,maxFramerate:t?.maxFramerate??30}]},oZ=e=>{switch(e){case j.SCREEN_SHARE:return"screenShareStream";case j.SCREEN_SHARE_AUDIO:return"screenShareAudioStream";case j.VIDEO:return"videoStream";case j.AUDIO:return"audioStream";case j.UNSPECIFIED:throw Error("Track type is unspecified");default:throw Error(`Unknown track type: ${e}`)}},o0=e=>{switch(e){case"audio":return j.AUDIO;case"video":return j.VIDEO;case"screenshare":return j.SCREEN_SHARE;case"screenshare_audio":return j.SCREEN_SHARE_AUDIO;default:throw Error(`Unknown mute type: ${e}`)}},o1=e=>"function"==typeof e,o2=e=>{let t,i;if(r9([e]).subscribe({next:([e])=>{t=e},error:e=>{i=e}}).unsubscribe(),i)throw i;return t},o3=(e,t)=>{let i=o1(t)?t(o2(e)):t;return e.next(i),i},o4=(e,t)=>{let i=e.subscribe(t);return()=>{i.unsubscribe()}};var o6=Object.freeze({__proto__:null,createSubscription:o4,getCurrentValue:o2,setCurrentValue:o3});let o5=(...e)=>(t,i)=>{for(let r of e){let e=r(t,i);if(0!==e)return e}return 0},o8=e=>t=>(i,r)=>e(i,r)?t(i,r):0,o7=(e,t)=>e.isDominantSpeaker&&!t.isDominantSpeaker?-1:!e.isDominantSpeaker&&t.isDominantSpeaker?1:0,o9=(e,t)=>e.isSpeaking&&!t.isSpeaking?-1:!e.isSpeaking&&t.isSpeaking?1:0,ce=(e,t)=>cs(e)&&!cs(t)?-1:!cs(e)&&cs(t)?1:0,ct=(e,t)=>co(e)&&!co(t)?-1:!co(e)&&co(t)?1:0,ci=(e,t)=>cc(e)&&!cc(t)?-1:!cc(e)&&cc(t)?1:0,cn=(e,t)=>{if(e.pin&&t.pin){if(!e.pin.isLocalPin&&t.pin.isLocalPin)return -1;if(e.pin.isLocalPin&&!t.pin.isLocalPin)return 1;if(e.pin.pinnedAt>t.pin.pinnedAt)return -1;if(e.pin.pinnedAt<t.pin.pinnedAt)return 1}return e.pin&&!t.pin?-1:!e.pin&&t.pin?1:0},cr=e=>(t,i)=>t.reaction?.type===e&&i.reaction?.type!==e?-1:t.reaction?.type!==e&&i.reaction?.type===e?1:0,ca=(e,t)=>(e.roles||[]).some(e=>t.includes(e)),cs=e=>e.publishedTracks.includes(j.SCREEN_SHARE),co=e=>e.publishedTracks.includes(j.VIDEO),cc=e=>e.publishedTracks.includes(j.AUDIO),cl=o8((e,t)=>e.viewportVisibilityState?.videoTrack===D.INVISIBLE||t.viewportVisibilityState?.videoTrack===D.INVISIBLE),cu=o8((e,t)=>e.viewportVisibilityState?.videoTrack===D.INVISIBLE||e.viewportVisibilityState?.videoTrack===D.UNKNOWN||t.viewportVisibilityState?.videoTrack===D.INVISIBLE||t.viewportVisibilityState?.videoTrack===D.UNKNOWN),cp=o5(cn,ce,cl(o5(o7,o9,cr("raised-hand"),ct,ci)));o5(cn,ce,o7,cl(o5(o9,cr("raised-hand"),ct,ci))),o5(cn,cu(o5(o7,o9,cr("raised-hand"),ct,ci)));let cd=o5(cl(o5(o7,o9,cr("raised-hand"),ct,ci)),((...e)=>(t,i)=>ca(t,e)&&!ca(i,e)?-1:!ca(t,e)&&ca(i,e)?1:0)("admin","host","speaker"));!function(e){e.UNKNOWN="unknown",e.IDLE="idle",e.RINGING="ringing",e.JOINING="joining",e.JOINED="joined",e.LEFT="left",e.RECONNECTING="reconnecting",e.MIGRATING="migrating",e.RECONNECTING_FAILED="reconnecting-failed",e.OFFLINE="offline"}(U||(U={}));class ch{constructor(){this.backstageSubject=new ae(!0),this.blockedUserIdsSubject=new ae([]),this.createdAtSubject=new ae(new Date),this.endedAtSubject=new ae(void 0),this.startsAtSubject=new ae(void 0),this.updatedAtSubject=new ae(new Date),this.createdBySubject=new ae(void 0),this.customSubject=new ae({}),this.egressSubject=new ae(void 0),this.ingressSubject=new ae(void 0),this.recordingSubject=new ae(!1),this.sessionSubject=new ae(void 0),this.settingsSubject=new ae(void 0),this.transcribingSubject=new ae(!1),this.endedBySubject=new ae(void 0),this.thumbnailsSubject=new ae(void 0),this.membersSubject=new ae([]),this.ownCapabilitiesSubject=new ae([]),this.callingStateSubject=new ae(U.UNKNOWN),this.startedAtSubject=new ae(void 0),this.participantCountSubject=new ae(0),this.anonymousParticipantCountSubject=new ae(0),this.participantsSubject=new ae([]),this.callStatsReportSubject=new ae(void 0),this.sortParticipantsBy=cp,this.setSortParticipantsBy=e=>{this.sortParticipantsBy=e,this.setCurrentValue(this.participantsSubject,e=>e)},this.getCurrentValue=o2,this.setCurrentValue=o3,this.setParticipantCount=e=>this.setCurrentValue(this.participantCountSubject,e),this.setStartedAt=e=>this.setCurrentValue(this.startedAtSubject,e),this.setAnonymousParticipantCount=e=>this.setCurrentValue(this.anonymousParticipantCountSubject,e),this.setParticipants=e=>this.setCurrentValue(this.participantsSubject,e),this.setCallingState=e=>this.setCurrentValue(this.callingStateSubject,e),this.setCallStatsReport=e=>this.setCurrentValue(this.callStatsReportSubject,e),this.setMembers=e=>{this.setCurrentValue(this.membersSubject,e)},this.setOwnCapabilities=e=>this.setCurrentValue(this.ownCapabilitiesSubject,e),this.findParticipantBySessionId=e=>this.participants.find(t=>t.sessionId===e),this.getParticipantLookupBySessionId=()=>this.participants.reduce((e,t)=>(e[t.sessionId]=t,e),{}),this.updateParticipant=(e,t)=>{let i=this.findParticipantBySessionId(e);if(!i){this.logger("warn",`Participant with sessionId ${e} not found`);return}let r="function"==typeof t?t(i):t,a={...i,...r};return this.setParticipants(t=>t.map(t=>t.sessionId===e?a:t))},this.updateOrAddParticipant=(e,t)=>this.findParticipantBySessionId(e)?this.setParticipants(i=>i.map(i=>i.sessionId===e?{...i,...t}:i)):this.setParticipants(e=>[...e,t]),this.updateParticipants=e=>{if(0!==Object.keys(e).length)return this.setParticipants(t=>t.map(t=>{let i=e[t.sessionId];return i?{...t,...i}:t}))},this.updateFromEvent=e=>{let t=this.eventHandlers[e.type];t&&t(e)},this.setServerSidePins=e=>{let t=e.reduce((e,t)=>(e[t.sessionId]=Date.now(),e),{});return this.setParticipants(e=>e.map(e=>{let i=t[e.sessionId];return i?{...e,pin:{isLocalPin:!1,pinnedAt:i}}:e.pin&&!e.pin.isLocalPin?{...e,pin:void 0}:e}))},this.updateFromCallResponse=e=>{this.setCurrentValue(this.backstageSubject,e.backstage),this.setCurrentValue(this.blockedUserIdsSubject,e.blocked_user_ids),this.setCurrentValue(this.createdAtSubject,new Date(e.created_at)),this.setCurrentValue(this.updatedAtSubject,new Date(e.updated_at)),this.setCurrentValue(this.startsAtSubject,e.starts_at?new Date(e.starts_at):void 0),this.setCurrentValue(this.endedAtSubject,e.ended_at?new Date(e.ended_at):void 0),this.setCurrentValue(this.createdBySubject,e.created_by),this.setCurrentValue(this.customSubject,e.custom),this.setCurrentValue(this.egressSubject,e.egress),this.setCurrentValue(this.ingressSubject,e.ingress),this.setCurrentValue(this.recordingSubject,e.recording),this.setCurrentValue(this.sessionSubject,e.session),this.setCurrentValue(this.settingsSubject,e.settings),this.setCurrentValue(this.transcribingSubject,e.transcribing),this.setCurrentValue(this.thumbnailsSubject,e.thumbnails)},this.updateFromMemberRemoved=e=>{this.setCurrentValue(this.membersSubject,t=>t.filter(t=>-1===e.members.indexOf(t.user_id)))},this.updateFromMemberAdded=e=>{this.setCurrentValue(this.membersSubject,t=>[...t,...e.members])},this.updateFromHLSBroadcastStopped=()=>{this.setCurrentValue(this.egressSubject,e=>({...e,broadcasting:!1}))},this.updateFromHLSBroadcastingFailed=()=>{this.setCurrentValue(this.egressSubject,e=>({...e,broadcasting:!1}))},this.updateFromHLSBroadcastStarted=e=>{this.setCurrentValue(this.egressSubject,t=>({...t,broadcasting:!0,hls:{...t.hls,playlist_url:e.hls_playlist_url}}))},this.updateFromSessionParticipantLeft=e=>{this.setCurrentValue(this.sessionSubject,t=>{if(!t)return this.logger("warn","Received call.session_participant_left event but no session is available.",e),t;let{participants:i,participants_count_by_role:r}=t,{user:a,user_session_id:s}=e.participant;return{...t,participants:i.filter(e=>e.user_session_id!==s),participants_count_by_role:{...r,[a.role]:Math.max(0,(r[a.role]||0)-1)}}})},this.updateFromSessionParticipantJoined=e=>{this.setCurrentValue(this.sessionSubject,t=>{if(!t)return this.logger("warn","Received call.session_participant_joined event but no session is available.",e),t;let{participants:i,participants_count_by_role:r}=t,{user:a,user_session_id:s}=e.participant,o=!0,l=i.map(t=>t.user_session_id===s?(o=!1,e.participant):t);o&&l.push(e.participant);let u=o?1:0;return{...t,participants:l,participants_count_by_role:{...r,[a.role]:(r[a.role]||0)+u}}})},this.updateMembers=e=>{this.setCurrentValue(this.membersSubject,t=>t.map(t=>e.members.find(e=>e.user_id===t.user_id)||t))},this.updateParticipantReaction=e=>{let{user:t,custom:i,type:r,emoji_code:a}=e.reaction;this.setParticipants(e=>e.map(e=>e.userId!==t.id?e:{...e,reaction:{type:r,emoji_code:a,custom:i}}))},this.unblockUser=e=>{this.setCurrentValue(this.blockedUserIdsSubject,t=>t?t.filter(t=>t!==e.user.id):t)},this.blockUser=e=>{this.setCurrentValue(this.blockedUserIdsSubject,t=>[...t||[],e.user.id])},this.updateOwnCapabilities=e=>{e.user.id===this.localParticipant?.userId&&this.setCurrentValue(this.ownCapabilitiesSubject,e.own_capabilities)},this.logger=oL(["CallState"]),this.participants$=this.participantsSubject.asObservable().pipe(r4(e=>e.sort(this.sortParticipantsBy)),ai({bufferSize:1,refCount:!0})),this.localParticipant$=this.participants$.pipe(r4(e=>e.find(e=>e.isLocalParticipant)),ai({bufferSize:1,refCount:!0})),this.remoteParticipants$=this.participants$.pipe(r4(e=>e.filter(e=>!e.isLocalParticipant)),ai({bufferSize:1,refCount:!0})),this.pinnedParticipants$=this.participants$.pipe(r4(e=>e.filter(e=>!!e.pin)),ai({bufferSize:1,refCount:!0})),this.dominantSpeaker$=this.participants$.pipe(r4(e=>e.find(e=>e.isDominantSpeaker)),ai({bufferSize:1,refCount:!0})),this.hasOngoingScreenShare$=this.participants$.pipe(r4(e=>e.some(e=>e.publishedTracks.includes(j.SCREEN_SHARE))),an(),ai({bufferSize:1,refCount:!0})),this.startedAt$=this.startedAtSubject.asObservable(),this.participantCount$=this.participantCountSubject.asObservable(),this.anonymousParticipantCount$=this.anonymousParticipantCountSubject.asObservable(),this.callStatsReport$=this.callStatsReportSubject.asObservable(),this.members$=this.membersSubject.asObservable(),this.ownCapabilities$=this.ownCapabilitiesSubject.asObservable(),this.callingState$=this.callingStateSubject.asObservable(),this.backstage$=this.backstageSubject.asObservable(),this.blockedUserIds$=this.blockedUserIdsSubject.asObservable(),this.createdAt$=this.createdAtSubject.asObservable(),this.endedAt$=this.endedAtSubject.asObservable(),this.startsAt$=this.startsAtSubject.asObservable(),this.updatedAt$=this.updatedAtSubject.asObservable(),this.createdBy$=this.createdBySubject.asObservable(),this.custom$=this.customSubject.asObservable(),this.egress$=this.egressSubject.asObservable(),this.ingress$=this.ingressSubject.asObservable(),this.recording$=this.recordingSubject.asObservable(),this.session$=this.sessionSubject.asObservable(),this.settings$=this.settingsSubject.asObservable(),this.transcribing$=this.transcribingSubject.asObservable(),this.endedBy$=this.endedBySubject.asObservable(),this.thumbnails$=this.thumbnailsSubject.asObservable(),this.eventHandlers={"call.permission_request":void 0,"call.recording_failed":void 0,"call.recording_ready":void 0,"call.user_muted":void 0,"connection.error":void 0,"connection.ok":void 0,"health.check":void 0,custom:void 0,"call.accepted":e=>this.updateFromCallResponse(e.call),"call.blocked_user":this.blockUser,"call.created":e=>this.updateFromCallResponse(e.call),"call.ended":e=>{this.updateFromCallResponse(e.call),this.setCurrentValue(this.endedBySubject,e.user)},"call.hls_broadcasting_failed":this.updateFromHLSBroadcastingFailed,"call.hls_broadcasting_started":this.updateFromHLSBroadcastStarted,"call.hls_broadcasting_stopped":this.updateFromHLSBroadcastStopped,"call.live_started":e=>this.updateFromCallResponse(e.call),"call.member_added":this.updateFromMemberAdded,"call.member_removed":this.updateFromMemberRemoved,"call.member_updated_permission":this.updateMembers,"call.member_updated":this.updateMembers,"call.notification":e=>{this.updateFromCallResponse(e.call),this.setMembers(e.members)},"call.permissions_updated":this.updateOwnCapabilities,"call.reaction_new":this.updateParticipantReaction,"call.recording_started":()=>this.setCurrentValue(this.recordingSubject,!0),"call.recording_stopped":()=>this.setCurrentValue(this.recordingSubject,!1),"call.rejected":e=>this.updateFromCallResponse(e.call),"call.ring":e=>this.updateFromCallResponse(e.call),"call.session_ended":e=>this.updateFromCallResponse(e.call),"call.session_participant_joined":this.updateFromSessionParticipantJoined,"call.session_participant_left":this.updateFromSessionParticipantLeft,"call.session_started":e=>this.updateFromCallResponse(e.call),"call.unblocked_user":this.unblockUser,"call.updated":e=>this.updateFromCallResponse(e.call)}}get participantCount(){return this.getCurrentValue(this.participantCount$)}get startedAt(){return this.getCurrentValue(this.startedAt$)}get anonymousParticipantCount(){return this.getCurrentValue(this.anonymousParticipantCount$)}get participants(){return this.getCurrentValue(this.participants$)}get localParticipant(){return this.getCurrentValue(this.localParticipant$)}get remoteParticipants(){return this.getCurrentValue(this.remoteParticipants$)}get dominantSpeaker(){return this.getCurrentValue(this.dominantSpeaker$)}get pinnedParticipants(){return this.getCurrentValue(this.pinnedParticipants$)}get hasOngoingScreenShare(){return this.getCurrentValue(this.hasOngoingScreenShare$)}get callingState(){return this.getCurrentValue(this.callingState$)}get callStatsReport(){return this.getCurrentValue(this.callStatsReport$)}get members(){return this.getCurrentValue(this.members$)}get ownCapabilities(){return this.getCurrentValue(this.ownCapabilities$)}get backstage(){return this.getCurrentValue(this.backstage$)}get blockedUserIds(){return this.getCurrentValue(this.blockedUserIds$)}get createdAt(){return this.getCurrentValue(this.createdAt$)}get endedAt(){return this.getCurrentValue(this.endedAt$)}get startsAt(){return this.getCurrentValue(this.startsAt$)}get updatedAt(){return this.getCurrentValue(this.updatedAt$)}get createdBy(){return this.getCurrentValue(this.createdBy$)}get custom(){return this.getCurrentValue(this.custom$)}get egress(){return this.getCurrentValue(this.egress$)}get ingress(){return this.getCurrentValue(this.ingress$)}get recording(){return this.getCurrentValue(this.recording$)}get session(){return this.getCurrentValue(this.session$)}get settings(){return this.getCurrentValue(this.settings$)}get transcribing(){return this.getCurrentValue(this.transcribing$)}get endedBy(){return this.getCurrentValue(this.endedBy$)}get thumbnails(){return this.getCurrentValue(this.thumbnails$)}}class cf{constructor(){this.connectedUserSubject=new ae(void 0),this.callsSubject=new ae([]),this.getCurrentValue=o2,this.setCurrentValue=o3,this.setConnectedUser=e=>this.setCurrentValue(this.connectedUserSubject,e),this.setCalls=e=>this.setCurrentValue(this.callsSubject,e),this.registerCall=e=>{this.calls.find(t=>t.cid===e.cid)||this.setCalls(t=>[...t,e])},this.unregisterCall=e=>this.setCalls(t=>t.filter(t=>t!==e)),this.findCall=(e,t)=>this.calls.find(i=>i.type===e&&i.id===t),this.connectedUserSubject.subscribe(async e=>{if(!e){let e=oL(["client-state"]);for(let t of this.calls)t.state.callingState!==U.LEFT&&(e("info",`User disconnected, leaving call: ${t.cid}`),await t.leave().catch(i=>{e("error",`Error leaving call: ${t.cid}`,i)}))}})}get connectedUser(){return this.getCurrentValue(this.connectedUserSubject)}get calls(){return this.getCurrentValue(this.callsSubject)}}class cm{constructor(e){this.getCurrentValue=o2,this.connectedUser$=e.connectedUserSubject.asObservable(),this.calls$=e.callsSubject.asObservable()}get connectedUser(){return o2(this.connectedUser$)}get calls(){return o2(this.calls$)}}let cg=e=>{let t=/^a=rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/.exec(e);if(t)return{original:t[0],payload:t[1],codec:t[2]}},cb=e=>{let t=/^a=fmtp:(\d*) (.*)/.exec(e);if(t)return{original:t[0],payload:t[1],config:t[2]}},cv=(e,t)=>{let i=RegExp(`(m=${t} \\d+ [\\w/]+) ([\\d\\s]+)`).exec(e);if(i)return{original:i[0],mediaWithPorts:i[1],codecOrder:i[2]}},cy=(e,t)=>{let i;let r=[],a=[],s=!1;if(e.split(/(\r\n|\r|\n)/).forEach(e=>{if(!/^([a-z])=(.*)/.test(e))return;let o=e[0];if("m"===o){let r=cv(e,t);s=!!r,r&&(i=r)}else if(s&&"a"===o){let t=cg(e),i=cb(e);t?r.push(t):i&&a.push(i)}}),i)return{media:i,rtpMap:r,fmtp:a}},cx=e=>{let t=cy(e,"audio"),i=t?.rtpMap.find(e=>"opus"===e.codec.toLowerCase()),r=i?.payload;if(r)return t?.fmtp.find(e=>e.payload===r)},cw=(e,t)=>{let i=cx(e);if(i){let r=/usedtx=(\d)/.exec(i.config),a=`usedtx=${t?"1":"0"}`;if(r){let t=i.original.replace(/usedtx=(\d)/,a);return e.replace(i.original,t)}{let t=`${i.original};${a}`;return e.replace(i.original,t)}}return e},ck=(e,t,i=51e4)=>{i=Math.max(Math.min(i,51e4),96e3);let r=am.Qc(e),a=r.media.find(e=>"audio"===e.type&&String(e.mid)===t);if(!a)return e;let s=a.rtp.find(e=>"opus"===e.codec);if(!s)return e;let o=a.fmtp.find(e=>e.payload===s.payload);return o?(o.config.match(/stereo=(\d)/)?o.config=o.config.replace(/stereo=(\d)/,"stereo=1"):o.config=`${o.config};stereo=1`,o.config.match(/maxaveragebitrate=(\d*)/)?o.config=o.config.replace(/maxaveragebitrate=(\d*)/,`maxaveragebitrate=${i}`):o.config=`${o.config};maxaveragebitrate=${i}`,am.cW(r)):e},c_=oL(["Publisher"]);class cS{constructor({connectionConfig:e,sfuClient:t,dispatcher:i,state:r,isDtxEnabled:a,isRedEnabled:s,iceRestartDelay:o=2500}){this.transceiverRegistry={[j.AUDIO]:void 0,[j.VIDEO]:void 0,[j.SCREEN_SHARE]:void 0,[j.SCREEN_SHARE_AUDIO]:void 0,[j.UNSPECIFIED]:void 0},this.publishOptionsPerTrackType=new Map,this.transceiverInitOrder=[],this.trackKindMapping={[j.AUDIO]:"audio",[j.VIDEO]:"video",[j.SCREEN_SHARE]:"video",[j.SCREEN_SHARE_AUDIO]:"audio",[j.UNSPECIFIED]:void 0},this.trackLayersCache={[j.AUDIO]:void 0,[j.VIDEO]:void 0,[j.SCREEN_SHARE]:void 0,[j.SCREEN_SHARE_AUDIO]:void 0,[j.UNSPECIFIED]:void 0},this.isIceRestarting=!1,this.createPeerConnection=e=>{let t=new RTCPeerConnection(e);return t.addEventListener("icecandidate",this.onIceCandidate),t.addEventListener("negotiationneeded",this.onNegotiationNeeded),t.addEventListener("icecandidateerror",this.onIceCandidateError),t.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),t.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),t.addEventListener("signalingstatechange",this.onSignalingStateChange),t},this.close=({stopTracks:e=!0}={})=>{e&&(this.stopPublishing(),Object.keys(this.transceiverRegistry).forEach(e=>{this.transceiverRegistry[e]=void 0}),Object.keys(this.trackLayersCache).forEach(e=>{this.trackLayersCache[e]=void 0})),clearTimeout(this.iceRestartTimeout),this.unsubscribeOnIceRestart(),this.pc.removeEventListener("negotiationneeded",this.onNegotiationNeeded),this.pc.close()},this.publishStream=async(e,t,i,r={})=>{if("ended"===t.readyState)throw Error("Can't publish a track that has ended already.");let a=this.pc.getTransceivers().find(e=>e===this.transceiverRegistry[i]&&e.sender.track&&e.sender.track?.kind===this.trackKindMapping[i]),s=async()=>{c_("info",`Track ${j[i]} has ended, notifying the SFU`),await this.notifyTrackMuteStateChanged(e,i,!0),t.removeEventListener("ended",s)};if(a){let e=a.sender.track;e&&e!==t&&(e.stop(),e.removeEventListener("ended",s),t.addEventListener("ended",s)),t.enabled||(t.enabled=!0),await a.sender.replaceTrack(t)}else{let{settings:o}=this.state,l=o?.video.target_resolution,u=i===j.VIDEO?oY(t,l):i===j.SCREEN_SHARE?oQ(t,r.screenShareSettings):void 0,p=r.preferredCodec;if(!p&&i===j.VIDEO&&oI()){let e=oW()?.name.toLowerCase();"ios"===e||"ipados"===e?p="H264":"android"===e&&(p="VP8")}let d=this.getCodecPreferences(i,p);t.addEventListener("ended",s),t.enabled||(t.enabled=!0),a=this.pc.addTransceiver(t,{direction:"sendonly",streams:i===j.VIDEO||i===j.SCREEN_SHARE?[e]:void 0,sendEncodings:u}),c_("debug",`Added ${j[i]} transceiver`),this.transceiverInitOrder.push(i),this.transceiverRegistry[i]=a,this.publishOptionsPerTrackType.set(i,r),"setCodecPreferences"in a&&d&&(c_("info",`Setting ${j[i]} codec preferences`,d),a.setCodecPreferences(d))}await this.notifyTrackMuteStateChanged(e,i,!1)},this.unpublishStream=async(e,t)=>{let i=this.pc.getTransceivers().find(t=>t===this.transceiverRegistry[e]&&t.sender.track);i&&i.sender.track&&(t?"live"===i.sender.track.readyState:i.sender.track.enabled)&&(t?i.sender.track.stop():i.sender.track.enabled=!1,this.state.localParticipant?.publishedTracks.includes(e)&&await this.notifyTrackMuteStateChanged(void 0,e,!0))},this.isPublishing=e=>{let t=this.transceiverRegistry[e];if(t&&t.sender){let e=t.sender;return!!e.track&&"live"===e.track.readyState&&e.track.enabled}return!1},this.isLive=e=>{let t=this.transceiverRegistry[e];if(t&&t.sender){let e=t.sender;return!!e.track&&"live"===e.track.readyState}return!1},this.notifyTrackMuteStateChanged=async(e,t,i)=>{await this.sfuClient.updateMuteState(t,i);let r=oZ(t);i?this.state.updateParticipant(this.sfuClient.sessionId,e=>({publishedTracks:e.publishedTracks.filter(e=>e!==t),[r]:void 0})):this.state.updateParticipant(this.sfuClient.sessionId,i=>({publishedTracks:i.publishedTracks.includes(t)?i.publishedTracks:[...i.publishedTracks,t],[r]:e}))},this.stopPublishing=()=>{c_("debug","Stopping publishing all tracks"),this.pc.getSenders().forEach(e=>{e.track?.stop(),"closed"!==this.pc.signalingState&&this.pc.removeTrack(e)})},this.updateVideoPublishQuality=async e=>{c_("info","Update publish quality, requested layers by SFU:",e);let t=this.transceiverRegistry[j.VIDEO]?.sender;if(!t){c_("warn","Update publish quality, no video sender found.");return}let i=t.getParameters();if(0===i.encodings.length){c_("warn","Update publish quality, No suitable video encoding quality found");return}let r=!1,a=e.filter(e=>e.active).map(e=>e.name);i.encodings.forEach(t=>{let i=a.includes(t.rid);if(i!==t.active&&(t.active=i,r=!0),i){let i=e.find(e=>e.name===t.rid);void 0!==i&&(i.scaleResolutionDownBy>=1&&i.scaleResolutionDownBy!==t.scaleResolutionDownBy&&(c_("debug","[dynascale]: setting scaleResolutionDownBy from server","layer",i.name,"scale-resolution-down-by",i.scaleResolutionDownBy),t.scaleResolutionDownBy=i.scaleResolutionDownBy,r=!0),i.maxBitrate>0&&i.maxBitrate!==t.maxBitrate&&(c_("debug","[dynascale] setting max-bitrate from the server","layer",i.name,"max-bitrate",i.maxBitrate),t.maxBitrate=i.maxBitrate,r=!0),i.maxFramerate>0&&i.maxFramerate!==t.maxFramerate&&(c_("debug","[dynascale]: setting maxFramerate from server","layer",i.name,"max-framerate",i.maxFramerate),t.maxFramerate=i.maxFramerate,r=!0))}});let s=i.encodings.filter(e=>e.active);r?(await t.setParameters(i),c_("info","Update publish quality, enabled rids: ",s)):c_("info","Update publish quality, no change: ",s)},this.getStats=e=>this.pc.getStats(e),this.getCodecPreferences=(e,t)=>{if(e===j.VIDEO)return oU("video",t||"vp8");if(e===j.AUDIO){let e=this.isRedEnabled?"red":"opus";return oU("audio",t??e,this.isRedEnabled?void 0:"red")}},this.onIceCandidate=async e=>{let{candidate:t}=e;if(!t){c_("debug","null ice candidate");return}await this.sfuClient.iceTrickle({iceCandidate:oV(t),peerType:C.PUBLISHER_UNSPECIFIED})},this.setSfuClient=e=>{this.sfuClient=e},this.migrateTo=async(e,t)=>{this.sfuClient=e,this.pc.setConfiguration(t),"connected"===this.pc.iceConnectionState&&await this.negotiate({iceRestart:!0})},this.restartIce=async()=>{c_("debug","Restarting ICE connection");let e=this.pc.signalingState;if(this.isIceRestarting||"have-local-offer"===e){c_("debug","ICE restart is already in progress");return}await this.negotiate({iceRestart:!0})},this.onNegotiationNeeded=async()=>{await this.negotiate()},this.negotiate=async e=>{this.isIceRestarting=e?.iceRestart??!1;let t=await this.pc.createOffer(e),i=this.mungeCodecs(t.sdp);if(i&&this.isPublishing(j.SCREEN_SHARE_AUDIO)){let e=this.transceiverRegistry[j.SCREEN_SHARE_AUDIO];if(e&&e.sender.track){let t=e.mid??this.extractMid(i,e.sender.track,j.SCREEN_SHARE_AUDIO);i=ck(i,t)}}t.sdp=i;let r=this.getCurrentTrackInfos(t.sdp);if(0===r.length)throw Error("Can't initiate negotiation without announcing any tracks");await this.pc.setLocalDescription(t);let{response:a}=await this.sfuClient.setPublisher({sdp:t.sdp||"",tracks:r});try{await this.pc.setRemoteDescription({type:"answer",sdp:a.sdp})}catch(e){c_("error","setRemoteDescription error",{sdp:a.sdp,error:e})}this.isIceRestarting=!1,this.sfuClient.iceTrickleBuffer.publisherCandidates.subscribe(async e=>{try{let t=JSON.parse(e.iceCandidate);await this.pc.addIceCandidate(t)}catch(t){c_("warn","ICE candidate error",[t,e])}})},this.mungeCodecs=e=>(e&&(e=cw(e,this.isDtxEnabled)),e),this.extractMid=(e,t,i)=>{if(!e)return c_("warn","No SDP found. Returning empty mid"),"";c_("debug","No 'mid' found for track. Trying to find it from the Offer SDP");let r=am.Qc(e).media.find(e=>e.type===t.kind&&(e.msid?.includes(t.id)??!0));if(void 0===r?.mid){c_("debug",`No mid found in SDP for track type ${t.kind} and id ${t.id}. Attempting to find a heuristic mid`);let e=this.transceiverInitOrder.indexOf(i);return -1!==e?String(e):(c_("debug","No heuristic mid found. Returning empty mid"),"")}return String(r.mid)},this.getCurrentTrackInfos=e=>{e=e||this.pc.localDescription?.sdp;let{settings:t}=this.state,i=t?.video.target_resolution;return this.pc.getTransceivers().filter(e=>"sendonly"===e.direction&&e.sender.track).map(t=>{let r;let a=Number(Object.keys(this.transceiverRegistry).find(e=>this.transceiverRegistry[e]===t)),s=t.sender.track;if("live"===s.readyState){let e=this.publishOptionsPerTrackType.get(a);r=a===j.VIDEO?oY(s,i):a===j.SCREEN_SHARE?oQ(s,e?.screenShareSettings):[],this.trackLayersCache[a]=r}else r=this.trackLayersCache[a]||[],c_("debug",`Track ${j[a]} is ended. Announcing last known optimal layers`,r);let o=r.map(e=>({rid:e.rid||"",bitrate:e.maxBitrate||0,fps:e.maxFramerate||0,quality:this.ridToVideoQuality(e.rid||""),videoDimension:{width:e.width,height:e.height}})),l=[j.AUDIO,j.SCREEN_SHARE_AUDIO].includes(a),u=s.getSettings(),p=l&&2===u.channelCount;return{trackId:s.id,layers:o,trackType:a,mid:t.mid??this.extractMid(e,s,a),stereo:p,dtx:l&&this.isDtxEnabled,red:l&&this.isRedEnabled}})},this.onIceCandidateError=e=>{let t=e instanceof RTCPeerConnectionIceErrorEvent&&`${e.errorCode}: ${e.errorText}`;c_("connected"===this.pc.iceConnectionState?"debug":"error","ICE Candidate error",t)},this.onIceConnectionStateChange=()=>{let e=this.pc.iceConnectionState;c_("debug","ICE Connection state changed to",e);let t=this.state.callingState!==U.OFFLINE;"failed"===e?(c_("warn","Attempting to restart ICE"),this.restartIce().catch(e=>{c_("error","ICE restart error",e)})):"disconnected"===e&&t&&(c_("warn",`Scheduling ICE restart in ${this.iceRestartDelay} ms.`),this.iceRestartTimeout=setTimeout(()=>{"disconnected"===this.pc.iceConnectionState||"failed"===this.pc.iceConnectionState?this.restartIce().catch(e=>{c_("error","ICE restart error",e)}):c_("debug","Scheduled ICE restart: connection recovered, canceled.")},this.iceRestartDelay))},this.onIceGatheringStateChange=()=>{c_("debug","ICE Gathering State",this.pc.iceGatheringState)},this.onSignalingStateChange=()=>{c_("debug","Signaling state changed",this.pc.signalingState)},this.ridToVideoQuality=e=>"q"===e?R.LOW_UNSPECIFIED:"h"===e?R.MID:R.HIGH,this.pc=this.createPeerConnection(e),this.sfuClient=t,this.state=r,this.isDtxEnabled=a,this.isRedEnabled=s,this.iceRestartDelay=o,this.unsubscribeOnIceRestart=i.on("iceRestart",async e=>{if("iceRestart"!==e.eventPayload.oneofKind)return;let{iceRestart:t}=e.eventPayload;t.peerType===C.PUBLISHER_UNSPECIFIED&&await this.restartIce()})}get connectionConfiguration(){return this.pc.getConfiguration()}}let cT=oL(["Subscriber"]);class cC{constructor({sfuClient:e,dispatcher:t,state:i,connectionConfig:r,iceRestartDelay:a=2500}){this.isIceRestarting=!1,this.createPeerConnection=e=>{let t=new RTCPeerConnection(e);return t.addEventListener("icecandidate",this.onIceCandidate),t.addEventListener("track",this.handleOnTrack),t.addEventListener("icecandidateerror",this.onIceCandidateError),t.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),t.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),t},this.close=()=>{clearTimeout(this.iceRestartTimeout),this.unregisterOnSubscriberOffer(),this.unregisterOnIceRestart(),this.pc.close()},this.getStats=e=>this.pc.getStats(e),this.setSfuClient=e=>{this.sfuClient=e},this.migrateTo=(e,t)=>{let i;this.setSfuClient(e);let r=this.pc,a=new Set;r.getReceivers().forEach(e=>{"video"===e.track.kind&&a.add(e.track.id)});let s=this.createPeerConnection(t),o=()=>{r.close(),clearTimeout(i)},l=e=>{cT("debug",`[Migration]: Migrated track: ${e.track.id}, ${e.track.kind}`),a.delete(e.track.id),0===a.size&&(cT("debug","[Migration]: Migration complete"),s.removeEventListener("track",l),o())},u=()=>{"connected"===s.connectionState&&(i=setTimeout(()=>{s.removeEventListener("track",l),o()},2e3),s.removeEventListener("connectionstatechange",u))};s.addEventListener("track",l),s.addEventListener("connectionstatechange",u),this.pc=s},this.restartIce=async()=>{if(cT("debug","Restarting ICE connection"),"have-remote-offer"===this.pc.signalingState){cT("debug","ICE restart is already in progress");return}let e=this.isIceRestarting;try{this.isIceRestarting=!0,await this.sfuClient.iceRestart({peerType:C.SUBSCRIBER})}catch(t){throw this.isIceRestarting=e,t}},this.handleOnTrack=e=>{let[t]=e.streams,[i,r]=t.id.split(":"),a=this.state.participants.find(e=>e.trackLookupPrefix===i);if(cT("debug",`[onTrack]: Got remote ${r} track for userId: ${a?.userId}`,e.track.id,e.track),!a){cT("error",`[onTrack]: Received track for unknown participant: ${i}`,e);return}e.track.addEventListener("mute",()=>{cT("info",`[onTrack]: Track muted: ${a.userId} ${r}:${i}`)}),e.track.addEventListener("unmute",()=>{cT("info",`[onTrack]: Track unmuted: ${a.userId} ${r}:${i}`)}),e.track.addEventListener("ended",()=>{cT("info",`[onTrack]: Track ended: ${a.userId} ${r}:${i}`)});let s={TRACK_TYPE_AUDIO:"audioStream",TRACK_TYPE_VIDEO:"videoStream",TRACK_TYPE_SCREEN_SHARE:"screenShareStream",TRACK_TYPE_SCREEN_SHARE_AUDIO:"screenShareAudioStream"}[r];if(!s){cT("error",`Unknown track type: ${r}`);return}let o=a[s];o&&(cT("info",`[onTrack]: Cleaning up previous remote ${e.track.kind} tracks for userId: ${a.userId}`),o.getTracks().forEach(e=>{e.stop(),o.removeTrack(e)})),this.state.updateParticipant(a.sessionId,{[s]:t})},this.onIceCandidate=async e=>{let{candidate:t}=e;if(!t){cT("debug","null ice candidate");return}await this.sfuClient.iceTrickle({iceCandidate:oV(t),peerType:C.SUBSCRIBER})},this.negotiate=async e=>{cT("info","Received subscriberOffer",e),await this.pc.setRemoteDescription({type:"offer",sdp:e.sdp}),this.sfuClient.iceTrickleBuffer.subscriberCandidates.subscribe(async e=>{try{let t=JSON.parse(e.iceCandidate);await this.pc.addIceCandidate(t)}catch(t){cT("warn","ICE candidate error",[t,e])}});let t=await this.pc.createAnswer();await this.pc.setLocalDescription(t),await this.sfuClient.sendAnswer({peerType:C.SUBSCRIBER,sdp:t.sdp||""}),this.isIceRestarting=!1},this.onIceConnectionStateChange=()=>{let e=this.pc.iceConnectionState;if(cT("debug","ICE connection state changed",e),this.isIceRestarting)return;let t=this.state.callingState!==U.OFFLINE;"failed"===e?(cT("warn","Attempting to restart ICE"),this.restartIce().catch(e=>{cT("error","ICE restart failed",e)})):"disconnected"===e&&t&&(cT("warn",`Scheduling ICE restart in ${this.iceRestartDelay} ms.`),this.iceRestartTimeout=setTimeout(()=>{"disconnected"===this.pc.iceConnectionState||"failed"===this.pc.iceConnectionState?this.restartIce().catch(e=>{cT("error","ICE restart failed",e)}):cT("debug","Scheduled ICE restart: connection recovered, canceled.")},5e3))},this.onIceGatheringStateChange=()=>{cT("debug","ICE gathering state changed",this.pc.iceGatheringState)},this.onIceCandidateError=e=>{let t=e instanceof RTCPeerConnectionIceErrorEvent&&`${e.errorCode}: ${e.errorText}`;cT("connected"===this.pc.iceConnectionState?"debug":"error","ICE Candidate error",t)},this.sfuClient=e,this.state=i,this.iceRestartDelay=a,this.pc=this.createPeerConnection(r),this.unregisterOnSubscriberOffer=t.on("subscriberOffer",async e=>{if("subscriberOffer"!==e.eventPayload.oneofKind)return;let{subscriberOffer:t}=e.eventPayload;await this.negotiate(t)}),this.unregisterOnIceRestart=t.on("iceRestart",async e=>{if("iceRestart"!==e.eventPayload.oneofKind)return;let{iceRestart:t}=e.eventPayload;t.peerType===C.SUBSCRIBER&&await this.restartIce()})}}let cE=e=>{let t=oL(["sfu-client"]),{endpoint:i,onMessage:r}=e,a=new(av())(i);return a.binaryType="arraybuffer",a.addEventListener("error",e=>{t("error","Signaling WS channel error",e)}),a.addEventListener("close",e=>{t("info","Signaling WS channel is closed",e)}),a.addEventListener("open",e=>{t("info","Signaling WS channel is open",e)}),a.addEventListener("message",e=>{try{let t=e.data instanceof ArrayBuffer?sP.fromBinary(new Uint8Array(e.data)):sP.fromJsonString(e.data.toString());r(t)}catch(i){t("error","Failed to decode a message. Check whether the Proto models match.",{event:e,error:i})}}),a},cR=e=>new Promise(t=>setTimeout(t,e));function cj(e){return e&&("[object Function]"===Object.prototype.toString.call(e)||"function"==typeof e||e instanceof Function)}let cI={TOKEN_EXPIRED:40,WS_CLOSED_SUCCESS:1e3,WS_CLOSED_ABRUPTLY:1006,WS_POLICY_VIOLATION:1008};function cO(e){let t=Math.min(500+2e3*e,5e3),i=Math.min(Math.max(250,(e-1)*2e3),5e3);return Math.floor(Math.random()*(t-i)+i)}function cP(e){let t="";for(let i=0;i<e.length;i++)t+=e[i].toString(16).padStart(2,"0");return t}function cN(){let e=function(e){let t=new Uint8Array(16);return cA(t),t}(0);return e[6]=15&e[6]|64,e[8]=191&e[8]|128,cP(e.subarray(0,4))+"-"+cP(e.subarray(4,6))+"-"+cP(e.subarray(6,8))+"-"+cP(e.subarray(8,10))+"-"+cP(e.subarray(10,16))}let cA="undefined"!=typeof crypto&&void 0!==crypto?.getRandomValues?crypto.getRandomValues.bind(crypto):"undefined"!=typeof msCrypto?msCrypto.getRandomValues.bind(msCrypto):function(e){let t=Math.pow(2,8*e.byteLength/e.length);for(let i=0;i<e.length;i++)e[i]=Math.random()*t};class cD{constructor({dispatcher:e,sfuServer:t,token:i,sessionId:r}){this.iceTrickleBuffer=new oq,this.isMigratingAway=!1,this.isFastReconnecting=!1,this.pingIntervalInMs=1e4,this.unhealthyTimeoutInMs=this.pingIntervalInMs+5e3,this.close=(e=cD.NORMAL_CLOSURE,t="js-client: requested signal connection close")=>{this.logger("debug","Closing SFU WS connection",e,t),this.signalWs.readyState!==this.signalWs.CLOSED&&this.signalWs.close(e,t),this.unsubscribeIceTrickle(),clearInterval(this.keepAliveInterval),clearTimeout(this.connectionCheckTimeout)},this.updateSubscriptions=async e=>cL(()=>this.rpc.updateSubscriptions({sessionId:this.sessionId,tracks:e}),this.logger),this.setPublisher=async e=>cL(()=>this.rpc.setPublisher({...e,sessionId:this.sessionId}),this.logger),this.sendAnswer=async e=>cL(()=>this.rpc.sendAnswer({...e,sessionId:this.sessionId}),this.logger),this.iceTrickle=async e=>cL(()=>this.rpc.iceTrickle({...e,sessionId:this.sessionId}),this.logger),this.iceRestart=async e=>cL(()=>this.rpc.iceRestart({...e,sessionId:this.sessionId}),this.logger),this.updateMuteState=async(e,t)=>this.updateMuteStates({muteStates:[{trackType:e,muted:t}]}),this.updateMuteStates=async e=>cL(()=>this.rpc.updateMuteStates({...e,sessionId:this.sessionId}),this.logger),this.join=async e=>{let t=sX.create({...e,sessionId:this.sessionId,token:this.token});return this.send(sB.create({requestPayload:{oneofKind:"joinRequest",joinRequest:t}}))},this.send=async e=>this.signalReady.then(t=>{t.readyState===t.OPEN&&(this.logger("debug",`Sending message to: ${this.edgeName}`,sB.toJson(e)),t.send(sB.toBinary(e)))}),this.keepAlive=()=>{clearInterval(this.keepAliveInterval),this.keepAliveInterval=setInterval(()=>{this.logger("trace","Sending healthCheckRequest to SFU");let e=sB.create({requestPayload:{oneofKind:"healthCheckRequest",healthCheckRequest:{}}});this.send(e).catch(e=>{this.logger("error","Error sending healthCheckRequest to SFU",e)})},this.pingIntervalInMs)},this.scheduleConnectionCheck=()=>{clearTimeout(this.connectionCheckTimeout),this.connectionCheckTimeout=setTimeout(()=>{this.lastMessageTimestamp&&new Date().getTime()-this.lastMessageTimestamp.getTime()>this.unhealthyTimeoutInMs&&this.close(cD.ERROR_CONNECTION_UNHEALTHY,`SFU connection unhealthy. Didn't receive any message for ${this.unhealthyTimeoutInMs}ms`)},this.unhealthyTimeoutInMs)},this.sessionId=r||cN(),this.sfuServer=t,this.edgeName=t.edge_name,this.token=i,this.logger=oL(["sfu-client"]),this.rpc=oj({baseUrl:t.url,interceptors:[oR({Authorization:`Bearer ${i}`}),{interceptUnary:(e,t,i,r)=>(this.logger("trace",`Calling SFU RPC method ${t.name}`,{input:i,options:r}),e(t,i,r))}]}),this.unsubscribeIceTrickle=e.on("iceTrickle",e=>{if("iceTrickle"!==e.eventPayload.oneofKind)return;let{iceTrickle:t}=e.eventPayload;this.iceTrickleBuffer.push(t)}),this.signalWs=cE({endpoint:t.ws_endpoint,onMessage:t=>{this.lastMessageTimestamp=new Date,this.scheduleConnectionCheck(),e.dispatch(t)}}),this.signalReady=new Promise(e=>{let t=()=>{this.signalWs.removeEventListener("open",t),this.keepAlive(),e(this.signalWs)};this.signalWs.addEventListener("open",t)})}}cD.NORMAL_CLOSURE=1e3,cD.ERROR_CONNECTION_UNHEALTHY=4001,cD.ERROR_CONNECTION_BROKEN=4002;let cL=async(e,t)=>{let i,r=0;do r>0&&await cR(cO(r)),i=await e(),t("trace",`SFU RPC response received for ${i.method.name}`,i),i.response.error&&t("error",`SFU RPC Error (${i.method.name}):`,i.response.error),r++;while(i.response.error?.shouldRetry&&r<5);if(i.response.error)throw i.response.error;return i},cU=e=>async function(t){if("call.accepted"!==t.type||t.user.id===e.currentUserId)return;let{state:i}=e;t.call.created_by.id===e.currentUserId&&i.callingState===U.RINGING&&await e.join()},cM=e=>async function(t){if("call.rejected"!==t.type||t.user.id===e.currentUserId)return;let{call:i}=t,{session:r}=i;if(!r){e.logger("warn","No call session provided. Ignoring call.rejected event.",t);return}let a=r.rejected_by,{members:s,callingState:o}=e.state;if(o!==U.RINGING){e.logger("info","Call is not in ringing mode (it is either accepted or rejected already). Ignoring call.rejected event.",t);return}e.isCreatedByMe?s.filter(t=>t.user_id!==e.currentUserId).every(e=>a[e.user_id])&&(e.logger("info","everyone rejected, leaving the call"),await e.leave()):a[i.created_by.id]&&(e.logger("info","call creator rejected, leaving call"),await e.leave())},cF=e=>async function(t){if("call.ended"!==t.type)return;let{callingState:i}=e.state;(i===U.RINGING||i===U.JOINED||i===U.JOINING)&&await e.leave()},c$=e=>function(t){if("callGrantsUpdated"!==t.eventPayload.oneofKind)return;let{currentGrants:i}=t.eventPayload.callGrantsUpdated;if(i){let{canPublishAudio:t,canPublishVideo:r,canScreenshare:a}=i,s={[ak.SEND_AUDIO]:t,[ak.SEND_VIDEO]:r,[ak.SCREENSHARE]:a},o=e.ownCapabilities.filter(e=>!1!==s[e]);Object.entries(s).forEach(([e,t])=>{t&&!o.includes(e)&&o.push(e)}),e.setOwnCapabilities(o)}},cB=oL(["events"]),cq=(e,t)=>e.on("changePublishQuality",e=>{if("changePublishQuality"!==e.eventPayload.oneofKind)return;let{videoSenders:i}=e.eventPayload.changePublishQuality;i.forEach(e=>{let{layers:i}=e;t.updatePublishQuality(i.filter(e=>e.active))})}),cV=(e,t)=>e.on("connectionQualityChanged",e=>{if("connectionQualityChanged"!==e.eventPayload.oneofKind)return;let{connectionQualityChanged:i}=e.eventPayload,{connectionQualityUpdates:r}=i;r&&t.updateParticipants(r.reduce((e,t)=>{let{sessionId:i,connectionQuality:r}=t;return e[i]={connectionQuality:r},e},{}))}),cz=(e,t)=>e.on("healthCheckResponse",e=>{if("healthCheckResponse"!==e.eventPayload.oneofKind)return;let{participantCount:i}=e.eventPayload.healthCheckResponse;i&&(t.setParticipantCount(i.total),t.setAnonymousParticipantCount(i.anonymous))}),cW=(e,t)=>e.on("error",e=>{"error"===e.eventPayload.oneofKind&&e.eventPayload.error.error&&e.eventPayload.error.error.code===I.LIVE_ENDED&&!t.permissionsContext.hasPermission(ak.JOIN_BACKSTAGE)&&t.leave()}),cH=e=>e.on("error",e=>{if("error"!==e.eventPayload.oneofKind||!e.eventPayload.error.error)return;let t=e.eventPayload.error.error;cB("error","SFU reported error",{code:I[t.code],message:t.message,shouldRetry:t.shouldRetry})}),cG=e=>function(t){if("pinsUpdated"!==t.eventPayload.oneofKind)return;let{pins:i}=t.eventPayload.pinsUpdated;e.setServerSidePins(i)},cK=e=>e.on("trackUnpublished",async t=>{if("trackUnpublished"!==t.eventPayload.oneofKind)return;let{trackUnpublished:{cause:i,type:r,sessionId:a}}=t.eventPayload,{localParticipant:s}=e.state;if(i===P.MODERATION&&a===s?.sessionId){let t=e.logger;t("info",`Local participant's ${j[r]} track is muted remotely`);try{r===j.VIDEO?await e.camera.disable():r===j.AUDIO?await e.microphone.disable():t("warn","Unsupported track type to soft mute",j[r]),e.publisher?.isPublishing(r)&&await e.stopPublish(r)}catch(e){t("error","Failed to stop publishing",e)}}}),cY=e=>function(t){if("participantJoined"!==t.eventPayload.oneofKind)return;let{participant:i}=t.eventPayload.participantJoined;i&&e.updateOrAddParticipant(i.sessionId,Object.assign(i,{viewportVisibilityState:{videoTrack:D.UNKNOWN,screenShareTrack:D.UNKNOWN}}))},cJ=e=>function(t){if("participantLeft"!==t.eventPayload.oneofKind)return;let{participant:i}=t.eventPayload.participantLeft;i&&e.setParticipants(e=>e.filter(e=>e.sessionId!==i.sessionId))},cX=e=>function(t){if("trackPublished"!==t.eventPayload.oneofKind)return;let{trackPublished:{type:i,sessionId:r,participant:a}}=t.eventPayload;a?e.updateOrAddParticipant(r,a):e.updateParticipant(r,e=>({publishedTracks:[...e.publishedTracks,i].filter(cZ)}))},cQ=e=>function(t){if("trackUnpublished"!==t.eventPayload.oneofKind)return;let{trackUnpublished:{type:i,sessionId:r,participant:a}}=t.eventPayload;a?e.updateOrAddParticipant(r,a):e.updateParticipant(r,e=>({publishedTracks:e.publishedTracks.filter(e=>e!==i)}))},cZ=(e,t,i)=>i.indexOf(e)===t,c0=(e,t)=>e.on("dominantSpeakerChanged",e=>{if("dominantSpeakerChanged"!==e.eventPayload.oneofKind)return;let{dominantSpeakerChanged:{sessionId:i}}=e.eventPayload;i!==t.dominantSpeaker?.sessionId&&t.setParticipants(e=>e.map(e=>e.sessionId===i?{...e,isDominantSpeaker:!0}:e.isDominantSpeaker?{...e,isDominantSpeaker:!1}:e))}),c1=(e,t)=>e.on("audioLevelChanged",e=>{if("audioLevelChanged"!==e.eventPayload.oneofKind)return;let{audioLevels:i}=e.eventPayload.audioLevelChanged;t.updateParticipants(i.reduce((e,t)=>(e[t.sessionId]={audioLevel:t.level,isSpeaking:t.isSpeaking},e),{}))}),c2=(e,t,i)=>{let r=[e.on("call.ended",cF(e)),cW(i,e),cH(i),cq(i,e),cV(i,t),cz(i,t),e.on("participantJoined",cY(t)),e.on("participantLeft",cJ(t)),e.on("trackPublished",cX(t)),e.on("trackUnpublished",cQ(t)),c1(i,t),c0(i,t),e.on("callGrantsUpdated",c$(t)),e.on("pinsUpdated",cG(t)),cK(e)];return e.ringing&&r.push(c3(e)),()=>{r.forEach(e=>e())}},c3=e=>{let t={"call.accepted":cU(e),"call.rejected":cM(e)},i=Object.keys(t).map(i=>e.on(i,t[i]));return()=>{i.forEach(e=>e())}},c4=async(e,t,i,r)=>{let{call:a,credentials:s,members:o,own_capabilities:l}=await c6(e,t,i,r);return{connectionConfig:c5(s.ice_servers),sfuServer:s.server,token:s.token,metadata:a,members:o,ownCapabilities:l}},c6=async(e,t,i,r)=>{let a=await e.getLocationHint(),s={...r,location:a};return e.post(`/call/${t}/${i}/join`,s)},c5=e=>{if(e&&0!==e.length)return{iceServers:e.map(e=>({urls:e.urls,username:e.username,credential:e.password}))}},c8=({subscriber:e,publisher:t,state:i,pollingIntervalInMs:r=2e3})=>{let a;let s=oL(["stats"]),o=async(i,r)=>"subscriber"===i&&e?e.getStats(r):"publisher"===i&&t?t.getStats(r):void s("warn",`Can't retrieve RTC stats for ${i}`),l=async(i,r)=>{let a="subscriber"===i?e:t,s=[];for(let e of r.getTracks()){let t=c7(await a.getStats(e),{trackKind:e.kind,kind:i});s.push(t)}return s},u=new Set,p=async()=>{let r={},a=new Set(u);if(a.size>0)for(let e of i.participants){if(!a.has(e.sessionId))continue;let t=e.isLocalParticipant?"publisher":"subscriber";try{let i=new MediaStream([...e.videoStream?.getVideoTracks()||[],...e.audioStream?.getAudioTracks()||[]]);r[e.sessionId]=await l(t,i),i.getTracks().forEach(e=>{i.removeTrack(e)})}catch(i){s("error",`Failed to collect stats for ${t} if ${e.userId}`,i)}}let[p,d]=await Promise.all([e.getStats().then(e=>c7(e,{kind:"subscriber",trackKind:"video"})).then(c9),t.getStats().then(e=>c7(e,{kind:"publisher",trackKind:"video"})).then(c9)]),[f,m]=await Promise.all([o("subscriber"),o("publisher")]);i.setCallStatsReport({datacenter:t.sfuClient.edgeName,publisherStats:d,subscriberStats:p,subscriberRawStats:f,publisherRawStats:m,participants:r,timestamp:Date.now()})};if(r>0){let e=async()=>{await p().catch(e=>{s("debug","Failed to collect stats",e)}),a=setTimeout(e,r)};e()}return{getRawStatsForTrack:o,getStatsForStream:l,startReportingStatsFor:e=>{u.add(e),p()},stopReportingStatsFor:e=>{u.delete(e),p()},stop:()=>{a&&clearTimeout(a)}}},c7=(e,t)=>{let{trackKind:i,kind:r}=t,a="subscriber"===r?"inbound-rtp":"outbound-rtp",s=le(e);return{rawStats:e,streams:s.filter(e=>e.type===a&&e.kind===i).map(e=>{let t;let i=s.find(t=>"codec"===t.type&&t.id===e.codecId),r=s.find(t=>"transport"===t.type&&t.id===e.transportId);if(r&&"connected"===r.dtlsState){let e=s.find(e=>"candidate-pair"===e.type&&e.id===r.selectedCandidatePairId);t=e?.currentRoundTripTime}return{bytesSent:e.bytesSent,bytesReceived:e.bytesReceived,codec:i?.mimeType,currentRoundTripTime:t,frameHeight:e.frameHeight,frameWidth:e.frameWidth,framesPerSecond:e.framesPerSecond,jitter:e.jitter,kind:e.kind,qualityLimitationReason:e.qualityLimitationReason,rid:e.rid,ssrc:e.ssrc}}),timestamp:Date.now()}},c9=e=>{let t={rawReport:e,totalBytesSent:0,totalBytesReceived:0,averageJitterInMs:0,averageRoundTripTimeInMs:0,qualityLimitationReasons:"none",highestFrameWidth:0,highestFrameHeight:0,highestFramesPerSecond:0,timestamp:Date.now()},i=-1,r=(e,t)=>e*t,a=new Set,s=e.streams,o=s.reduce((e,t)=>{e.totalBytesSent+=t.bytesSent||0,e.totalBytesReceived+=t.bytesReceived||0,e.averageJitterInMs+=t.jitter||0,e.averageRoundTripTimeInMs+=t.currentRoundTripTime||0;let s=r(t.frameWidth||0,t.frameHeight||0);return s>i&&(e.highestFrameWidth=t.frameWidth||0,e.highestFrameHeight=t.frameHeight||0,e.highestFramesPerSecond=t.framesPerSecond||0,i=s),a.add(t.qualityLimitationReason||""),e},t);s.length>0&&(o.averageJitterInMs=Math.round(o.averageJitterInMs/s.length*1e3),o.averageRoundTripTimeInMs=Math.round(o.averageRoundTripTimeInMs/s.length*1e3));let l=[a.has("cpu")&&"cpu",a.has("bandwidth")&&"bandwidth",a.has("other")&&"other"].filter(Boolean).join(", ");return l&&(o.qualityLimitationReasons=l),o},le=e=>{let t=[];return e.forEach(e=>{t.push(e)}),t};class lt{constructor(){this.elementHandlerMap=new Map,this.observer=null,this.queueSet=new Set,this.setViewport=(e,t)=>(this.observer=new IntersectionObserver(e=>{e.forEach(e=>{let t=this.elementHandlerMap.get(e.target);t?.(e)})},{root:e,...t,threshold:t?.threshold??.35}),this.queueSet.size&&(this.queueSet.forEach(([t,i])=>{e.contains(t)&&(this.observer.observe(t),this.elementHandlerMap.set(t,i))}),this.queueSet.clear()),()=>{this.observer?.disconnect(),this.observer=null,this.elementHandlerMap.clear()}),this.observe=(e,t)=>{let i=[e,t];return this.elementHandlerMap.has(e)||(this.observer?this.observer.root.contains(e)&&(this.elementHandlerMap.set(e,t),this.observer.observe(e)):this.queueSet.add(i)),()=>{this.elementHandlerMap.delete(e),this.observer?.unobserve(e),this.queueSet.delete(i)}}}}let li=()=>"undefined"!=typeof navigator&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent||""),ln=()=>"undefined"!=typeof navigator&&navigator.userAgent?.includes("Firefox"),lr={videoTrack:D.UNKNOWN,screenShareTrack:D.UNKNOWN};class la{constructor(e){this.viewportTracker=new lt,this.logger=oL(["DynascaleManager"]),this.trackElementVisibility=(e,t,i)=>{let r=this.viewportTracker.observe(e,r=>{this.call.state.updateParticipant(t,t=>{let a=t.viewportVisibilityState??lr,s=r.isIntersecting||document.fullscreenElement===e?D.VISIBLE:D.INVISIBLE;return{...t,viewportVisibilityState:{...a,[i]:s}}})});return()=>{r(),this.call.state.updateParticipant(t,e=>{let t=e.viewportVisibilityState??lr;return{...e,viewportVisibilityState:{...t,[i]:D.UNKNOWN}}})}},this.setViewport=e=>this.viewportTracker.setViewport(e),this.bindVideoElement=(e,t,i)=>{let r,a;let s=this.call.state.findParticipantBySessionId(t);if(!s)return;let o=(e,r)=>{r&&(0===r.width||0===r.height)&&(this.logger("debug","Ignoring 0x0 dimension",s),r=void 0),this.call.updateSubscriptionsPartial(i,{[t]:{dimension:r}},e)},l=this.call.state.participants$.pipe(r4(e=>e.find(e=>e.sessionId===t)),aa(e=>!!e),an(),ai({bufferSize:1,refCount:!0})),u=s.isLocalParticipant?null:l.pipe(r4(e=>e.viewportVisibilityState?.[i]),an()).subscribe(t=>{if(!r){r=t??D.UNKNOWN;return}if(r=t??D.UNKNOWN,t===D.INVISIBLE)return o(L.MEDIUM,void 0);o(L.MEDIUM,{width:e.clientWidth,height:e.clientHeight})}),p=s.isLocalParticipant?null:new ResizeObserver(()=>{let t=`${e.clientWidth},${e.clientHeight}`;if(!a){a=t;return}a!==t&&r!==D.INVISIBLE&&(o(L.SLOW,{width:e.clientWidth,height:e.clientHeight}),a=t)});p?.observe(e);let d=s.isLocalParticipant?null:l.pipe(as("publishedTracks"),r4(e=>e.publishedTracks.includes("videoTrack"===i?j.VIDEO:j.SCREEN_SHARE)),an()).subscribe(t=>{t?o(L.FAST,{width:e.clientWidth,height:e.clientHeight}):o(L.FAST,void 0)});e.autoplay=!0,e.playsInline=!0,e.muted=!0;let f=l.pipe(as("videoTrack"===i?"videoStream":"screenShareStream")).subscribe(t=>{let r="videoTrack"===i?t.videoStream:t.screenShareStream;e.srcObject!==r&&(e.srcObject=r??null,(li()||ln())&&setTimeout(()=>{e.srcObject=r??null,e.play().catch(e=>{this.logger("warn","Failed to play stream",e)})},25))});return()=>{o(L.FAST,void 0),u?.unsubscribe(),d?.unsubscribe(),f.unsubscribe(),p?.disconnect()}},this.bindAudioElement=(e,t,i)=>{let r=this.call.state.findParticipantBySessionId(t);if(!r||r.isLocalParticipant)return;let a=this.call.state.participants$.pipe(r4(e=>e.find(e=>e.sessionId===t)),aa(e=>!!e),an(),ai({bufferSize:1,refCount:!0})).pipe(as("screenShareAudioTrack"===i?"screenShareAudioStream":"audioStream")).subscribe(t=>{let r="screenShareAudioTrack"===i?t.screenShareAudioStream:t.audioStream;e.srcObject!==r&&setTimeout(()=>{if(e.srcObject=r??null,e.srcObject){e.play().catch(e=>{this.logger("warn","Failed to play stream",e)});let{selectedDevice:t}=this.call.speaker.state;t&&"setSinkId"in e&&e.setSinkId(t)}})}),s="setSinkId"in e?this.call.speaker.state.selectedDevice$.subscribe(t=>{t&&e.setSinkId(t)}):null,o=this.call.speaker.state.volume$.subscribe(t=>{e.volume=t});return e.autoplay=!0,()=>{s?.unsubscribe(),o.unsubscribe(),a.unsubscribe()}},this.call=e}}class ls{constructor(){this.permissions=[],this.setPermissions=e=>{this.permissions=e||[]},this.setCallSettings=e=>{this.settings=e},this.hasPermission=e=>this.permissions.includes(e),this.canRequest=(e,t=this.settings)=>{if(!t)return!1;let{audio:i,video:r,screensharing:a}=t;switch(e){case ak.SEND_AUDIO:return i.access_request_enabled;case ak.SEND_VIDEO:return r.access_request_enabled;case ak.SCREENSHARE:return a.access_request_enabled;default:return!1}}}}class lo{constructor(e,t={sortParticipantsBy:cp}){this.name=e,this.options=t}}class lc{constructor(e){this.register=e=>{this.callTypes[e.name]=e},this.unregister=e=>{delete this.callTypes[e]},this.get=e=>(this.callTypes[e]||this.register(new lo(e)),this.callTypes[e]),this.callTypes=e.reduce((e,t)=>(e[t.name]=t,e),{})}}let ll=new lc([new lo("default",{sortParticipantsBy:cp}),new lo("development",{sortParticipantsBy:cp}),new lo("livestream",{sortParticipantsBy:cd}),new lo("audio_room",{sortParticipantsBy:cd})]),lu=(e,t)=>new rj(i=>{(async()=>{let i=await navigator.mediaDevices.enumerateDevices();if(i.some(e=>e.kind===t&&""===e.label)){let t;try{t=await navigator.mediaDevices.getUserMedia(e),i=await navigator.mediaDevices.enumerateDevices()}finally{t&&lE(t)}}return i})().then(e=>{i.next(e),i.complete()}).catch(e=>{oL(["devices"])("error","Failed to enumerate devices",e),i.error(e)})}),lp=()=>"undefined"!=typeof document&&"setSinkId"in document.createElement("audio"),ld={audio:{autoGainControl:!0,noiseSuppression:!0,echoCancellation:!0}},lh={video:{width:1280,height:720}},lf=e=>{let t;return()=>(t||(t=e()),t)},lm=lf(()=>new rj(e=>{if(!navigator.mediaDevices.addEventListener)return;let t=()=>e.next();return navigator.mediaDevices.addEventListener("devicechange",t),()=>{navigator.mediaDevices.removeEventListener("devicechange",t)}}).pipe(function(e,t){return void 0===t&&(t=ap),rX(function(i,r){var a=null,s=null,o=null,l=function(){if(a){a.unsubscribe(),a=null;var e=s;s=null,r.next(e)}};function u(){var i=o+e,s=t.now();if(s<i){a=this.schedule(void 0,i-s),r.add(a);return}l()}i.subscribe(rQ(r,function(i){s=i,o=t.now(),a||(a=t.schedule(u,e),r.add(a))},function(){l(),r.complete()},void 0,function(){s=a=null}))})}(500),function(e,t){return rn(t)?ad(e,t,1):ad(e,1)}(()=>r3(navigator.mediaDevices.enumerateDevices())),ai(1))),lg=lf(()=>af(lu(ld,"audioinput"),lm()).pipe(ai(1))),lb=lf(()=>af(lu(ld,"audiooutput"),lm()).pipe(ai(1))),lv=lf(()=>af(lu(lh,"videoinput"),lm()).pipe(ai(1))),ly=()=>lg().pipe(r4(e=>e.filter(e=>"audioinput"===e.kind))),lx=()=>lv().pipe(r4(e=>e.filter(e=>"videoinput"===e.kind))),lw=()=>lb().pipe(r4(e=>e.filter(e=>"audiooutput"===e.kind))),lk=async e=>{try{return await navigator.mediaDevices.getUserMedia(e)}catch(t){throw oL(["devices"])("error","Failed get user media",{error:t,constraints:e}),t}},l_=async e=>lk({audio:{...ld.audio,...e}}),lS=async e=>lk({video:{...lh.video,...e}}),lT=async e=>{try{return await navigator.mediaDevices.getDisplayMedia({video:!0,audio:{channelCount:{ideal:2},echoCancellation:!1,autoGainControl:!1,noiseSuppression:!1},systemAudio:"include",...e})}catch(e){throw oL(["devices"])("error","Failed to get screen share stream",e),e}},lC="undefined"!=typeof navigator&&void 0!==navigator.mediaDevices?lf(()=>af(r3(navigator.mediaDevices.enumerateDevices()),lm()).pipe(ai(1)))():void 0,lE=e=>{e.active&&(e.getTracks().forEach(t=>{t.stop(),e.removeTrack(t)}),"function"==typeof e.release&&e.release())};class lR{constructor(e,t,i){this.call=e,this.state=t,this.trackType=i,this.stopOnLeave=!0,this.subscriptions=[],this.isTrackStoppedDueToTrackEnd=!1,this.removeSubscriptions=()=>{this.subscriptions.forEach(e=>e.unsubscribe())},this.logger=oL([`${j[i].toLowerCase()} manager`]),lC&&!oI()&&(this.trackType===j.AUDIO||this.trackType===j.VIDEO)&&this.handleDisconnectedOrReplacedDevices()}listDevices(){return this.getDevices()}async enable(){if("enabled"!==this.state.status){this.enablePromise=this.unmuteStream();try{await this.enablePromise,this.state.setStatus("enabled"),this.enablePromise=void 0}catch(e){throw this.enablePromise=void 0,e}}}async disable(e=!1){if(this.state.prevStatus=this.state.status,!e&&"disabled"===this.state.status)return;let t=e||"stop-tracks"===this.state.disableMode;this.disablePromise=this.muteStream(t);try{await this.disablePromise,this.state.setStatus("disabled"),this.disablePromise=void 0}catch(e){throw this.disablePromise=void 0,e}}async resume(){"enabled"===this.state.prevStatus&&"disabled"===this.state.status&&await this.enable()}async toggle(){return"enabled"===this.state.status?this.disable():this.enable()}setDefaultConstraints(e){this.state.setDefaultConstraints(e)}async select(e){if(oI())throw Error("This method is not supported in React Native");e!==this.state.selectedDevice&&(this.state.setDevice(e),await this.applySettingsToStream())}async applySettingsToStream(){"enabled"===this.state.status&&(await this.muteStream(),await this.unmuteStream())}getTracks(){return this.state.mediaStream?.getTracks()??[]}async muteStream(e=!0){this.state.mediaStream&&(this.logger("debug",`${e?"Stopping":"Disabling"} stream`),this.call.state.callingState===U.JOINED&&await this.stopPublishStream(e),this.muteLocalStream(e),this.getTracks().every(e=>"ended"===e.readyState)&&(this.state.mediaStream&&"function"==typeof this.state.mediaStream.release&&this.state.mediaStream.release(),this.state.setMediaStream(void 0)))}muteTracks(){this.getTracks().forEach(e=>{e.enabled&&(e.enabled=!1)})}unmuteTracks(){this.getTracks().forEach(e=>{e.enabled||(e.enabled=!0)})}stopTracks(){this.getTracks().forEach(e=>{"live"===e.readyState&&e.stop()})}muteLocalStream(e){this.state.mediaStream&&(e?this.stopTracks():this.muteTracks())}async unmuteStream(){let e;if(this.logger("debug","Starting stream"),this.state.mediaStream&&this.getTracks().every(e=>"live"===e.readyState))e=this.state.mediaStream,this.unmuteTracks();else{let t={...this.state.defaultConstraints,deviceId:this.state.selectedDevice};e=await this.getStream(t)}this.call.state.callingState===U.JOINED&&await this.publishStream(e),this.state.mediaStream!==e&&(this.state.setMediaStream(e),this.getTracks().forEach(e=>{e.addEventListener("ended",async()=>{this.enablePromise&&await this.enablePromise,this.disablePromise&&await this.disablePromise,"enabled"===this.state.status&&(this.isTrackStoppedDueToTrackEnd=!0,setTimeout(()=>{this.isTrackStoppedDueToTrackEnd=!1},2e3),await this.disable())})}))}get mediaDeviceKind(){return this.trackType===j.AUDIO?"audioinput":this.trackType===j.VIDEO?"videoinput":""}handleDisconnectedOrReplacedDevices(){this.subscriptions.push(r9([lC.pipe(rX(function(e,t){var i,r=!1;e.subscribe(rQ(t,function(e){var a=i;i=e,r&&t.next([a,e]),r=!0}))})),this.state.selectedDevice$]).subscribe(async([[e,t],i])=>{if(!i)return;this.enablePromise&&await this.enablePromise,this.disablePromise&&await this.disablePromise;let r=!1,a=!1,s=this.findDeviceInList(t,i),o=this.findDeviceInList(e,i);!s&&o?r=!0:s&&o&&s.deviceId===o.deviceId&&s.groupId!==o.groupId&&(a=!0),r&&(await this.disable(),this.select(void 0)),a&&(this.isTrackStoppedDueToTrackEnd&&"disabled"===this.state.status?(await this.enable(),this.isTrackStoppedDueToTrackEnd=!1):await this.applySettingsToStream())}))}findDeviceInList(e,t){return e.find(e=>e.deviceId===t&&e.kind===this.mediaDeviceKind)}}class lj{constructor(e="stop-tracks",t){this.disableMode=e,this.permissionName=t,this.statusSubject=new ae(void 0),this.mediaStreamSubject=new ae(void 0),this.selectedDeviceSubject=new ae(void 0),this.defaultConstraintsSubject=new ae(void 0),this.mediaStream$=this.mediaStreamSubject.asObservable(),this.selectedDevice$=this.selectedDeviceSubject.asObservable().pipe(an()),this.status$=this.statusSubject.asObservable().pipe(an()),this.defaultConstraints$=this.defaultConstraintsSubject.asObservable(),this.hasBrowserPermission$=new rj(e=>{let t;let i=()=>e.next(!0),r=!!navigator?.permissions?.query;if(oI()||!this.permissionName||!r)return oL(["devices"])("warn","Permissions can't be queried. Assuming granted."),i();let a=()=>e.next("granted"===t.state);return navigator.permissions.query({name:this.permissionName}).then(e=>{(t=e).addEventListener("change",a),a()}).catch(()=>{i()}),()=>{t?.removeEventListener("change",a)}}).pipe(ai(1)),this.getCurrentValue=o2,this.setCurrentValue=o3}get status(){return this.getCurrentValue(this.status$)}get selectedDevice(){return this.getCurrentValue(this.selectedDevice$)}get mediaStream(){return this.getCurrentValue(this.mediaStream$)}setStatus(e){this.setCurrentValue(this.statusSubject,e)}setMediaStream(e){this.setCurrentValue(this.mediaStreamSubject,e),e&&this.setDevice(this.getDeviceIdFromStream(e))}setDevice(e){this.setCurrentValue(this.selectedDeviceSubject,e)}get defaultConstraints(){return this.getCurrentValue(this.defaultConstraints$)}setDefaultConstraints(e){this.setCurrentValue(this.defaultConstraintsSubject,e)}}class lI extends lj{constructor(){super("stop-tracks","camera"),this.directionSubject=new ae(void 0),this.direction$=this.directionSubject.asObservable().pipe(an())}get direction(){return this.getCurrentValue(this.direction$)}setDirection(e){this.setCurrentValue(this.directionSubject,e)}setMediaStream(e){if(super.setMediaStream(e),e){let t=oI()?this.direction:e.getVideoTracks()[0]?.getSettings().facingMode==="environment"?"back":"front";this.setDirection(t)}}getDeviceIdFromStream(e){return e.getVideoTracks()[0]?.getSettings().deviceId}}class lO extends lR{constructor(e){super(e,new lI,j.VIDEO),this.targetResolution={width:1280,height:720}}async selectDirection(e){this.state.setDirection(e),this.state.setDevice(void 0),await this.applySettingsToStream()}async flip(){let e="front"===this.state.direction?"back":"front";await this.selectDirection(e)}async selectTargetResolution(e){if(this.targetResolution.height=e.height,this.targetResolution.width=e.width,this.enablePromise)try{await this.enablePromise}catch(e){this.logger("warn","could not apply target resolution",e)}if("enabled"===this.state.status){let{width:e,height:t}=this.state.mediaStream.getVideoTracks()[0]?.getSettings();(e!==this.targetResolution.width||t!==this.targetResolution.height)&&(await this.applySettingsToStream(),this.logger("debug",`${e}x${t} target resolution applied to media stream`))}}setPreferredCodec(e){this.preferredCodec=e}getDevices(){return lx()}getStream(e){return e.width=this.targetResolution.width,e.height=this.targetResolution.height,!e.deviceId&&this.state.direction&&(e.facingMode="front"===this.state.direction?"user":"environment"),lS(e)}publishStream(e){return this.call.publishVideoStream(e,{preferredCodec:this.preferredCodec})}stopPublishStream(e){return this.call.stopPublish(j.VIDEO,e)}}class lP extends lj{constructor(){super("disable-tracks","microphone"),this.speakingWhileMutedSubject=new ae(!1),this.speakingWhileMuted$=this.speakingWhileMutedSubject.asObservable().pipe(an())}get speakingWhileMuted(){return this.getCurrentValue(this.speakingWhileMuted$)}setSpeakingWhileMuted(e){this.setCurrentValue(this.speakingWhileMutedSubject,e)}getDeviceIdFromStream(e){return e.getAudioTracks()[0]?.getSettings().deviceId}}let lN=(e,t,i={})=>{let{detectionFrequencyInMs:r=500,audioLevelThreshold:a=150,fftSize:s=128,destroyStreamOnStop:o=!0}=i,l=new AudioContext,u=l.createAnalyser();u.fftSize=s;let p=l.createMediaStreamSource(e);p.connect(u);let d=setInterval(()=>{let i=new Uint8Array(u.frequencyBinCount);u.getByteFrequencyData(i);let r=i.some(e=>e>=a),s=i.reduce((e,t)=>e+t,0)/i.length,o=s>a?100:Math.round(s/a*100);e.getAudioTracks()[0]?.enabled?t({isSoundDetected:r,audioLevel:o}):t({isSoundDetected:!1,audioLevel:0})},r);return async function(){clearInterval(d),p.disconnect(),u.disconnect(),await l.close(),o&&e.getTracks().forEach(t=>{t.stop(),e.removeTrack(t)})}},lA=e=>{let t=[];return e.forEach(e=>{t.push(e)}),t};class lD{constructor(){this.pc1=new RTCPeerConnection({}),this.pc2=new RTCPeerConnection({})}async start(){try{let e=await navigator.mediaDevices.getUserMedia({audio:!0});this.pc1.addEventListener("icecandidate",async e=>{await this.pc2.addIceCandidate(e.candidate)}),this.pc2.addEventListener("icecandidate",async e=>{await this.pc1.addIceCandidate(e.candidate)}),e.getTracks().forEach(t=>this.pc1.addTrack(t,e));let t=await this.pc1.createOffer({});await this.pc2.setRemoteDescription(t),await this.pc1.setLocalDescription(t);let i=await this.pc2.createAnswer();await this.pc1.setRemoteDescription(i),await this.pc2.setLocalDescription(i),e.getAudioTracks().forEach(e=>e.enabled=!1)}catch(e){console.error("Error connecting and negotiating between PeerConnections:",e)}}stop(){this.pc1.close(),this.pc2.close(),this.intervalId&&clearInterval(this.intervalId)}onSpeakingDetectedStateChange(e){return this.intervalId=setInterval(async()=>{let t=lA(await this.pc1.getStats()).find(e=>"media-source"===e.type&&"audio"===e.kind);if(t){let{audioLevel:i}=t;i&&(i>=.2?e({isSoundDetected:!0,audioLevel:i}):e({isSoundDetected:!1,audioLevel:0}))}},1e3),()=>{clearInterval(this.intervalId)}}}class lL extends lR{constructor(e){super(e,new lP,j.AUDIO),r9([this.call.state.callingState$,this.call.state.ownCapabilities$,this.state.selectedDevice$,this.state.status$]).subscribe(async([e,t,i,r])=>{if(e!==U.JOINED){e===U.LEFT&&await this.stopSpeakingWhileMutedDetection();return}t.includes(ak.SEND_AUDIO)&&"disabled"===r?await this.startSpeakingWhileMutedDetection(i):await this.stopSpeakingWhileMutedDetection()})}getDevices(){return ly()}getStream(e){return l_(e)}publishStream(e){return this.call.publishAudioStream(e)}stopPublishStream(e){return this.call.stopPublish(j.AUDIO,e)}async startSpeakingWhileMutedDetection(e){if(await this.stopSpeakingWhileMutedDetection(),oI()){this.rnSpeechDetector=new lD,await this.rnSpeechDetector.start();let e=this.rnSpeechDetector?.onSpeakingDetectedStateChange(e=>{this.state.setSpeakingWhileMuted(e.isSoundDetected)});this.soundDetectorCleanup=()=>{e(),this.rnSpeechDetector?.stop(),this.rnSpeechDetector=void 0}}else{let t=await this.getStream({deviceId:e});this.soundDetectorCleanup=lN(t,e=>{this.state.setSpeakingWhileMuted(e.isSoundDetected)})}}async stopSpeakingWhileMutedDetection(){if(this.soundDetectorCleanup){this.state.setSpeakingWhileMuted(!1);try{await this.soundDetectorCleanup()}finally{this.soundDetectorCleanup=void 0}}}}class lU extends lj{constructor(){super(...arguments),this.audioEnabledSubject=new ae(!0),this.settingsSubject=new ae(void 0),this.audioEnabled$=this.audioEnabledSubject.asObservable().pipe(an()),this.settings$=this.settingsSubject.asObservable(),this.getDeviceIdFromStream=e=>{let[t]=e.getTracks();return t?.getSettings().deviceId}}get audioEnabled(){return this.getCurrentValue(this.audioEnabled$)}setAudioEnabled(e){this.setCurrentValue(this.audioEnabledSubject,e)}get settings(){return this.getCurrentValue(this.settings$)}setSettings(e){this.setCurrentValue(this.settingsSubject,e)}}class lM extends lR{constructor(e){super(e,new lU,j.SCREEN_SHARE)}enableScreenShareAudio(){this.state.setAudioEnabled(!0)}async disableScreenShareAudio(){this.state.setAudioEnabled(!1),this.call.publisher?.isPublishing(j.SCREEN_SHARE_AUDIO)&&await this.call.stopPublish(j.SCREEN_SHARE_AUDIO,!0)}getSettings(){return this.state.settings}setSettings(e){this.state.setSettings(e)}getDevices(){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=r7(e);return r3(e,i)}([])}getStream(e){return this.state.audioEnabled||(e.audio=!1),lT(e)}publishStream(e){return this.call.publishScreenShareStream(e,{screenShareSettings:this.state.settings})}async stopPublishStream(e){await this.call.stopPublish(j.SCREEN_SHARE,e),await this.call.stopPublish(j.SCREEN_SHARE_AUDIO,e)}async select(e){throw Error("This method is not supported in for Screen Share")}}class lF{constructor(){this.selectedDeviceSubject=new ae(""),this.volumeSubject=new ae(1),this.isDeviceSelectionSupported=lp(),this.getCurrentValue=o2,this.setCurrentValue=o3,this.selectedDevice$=this.selectedDeviceSubject.asObservable().pipe(an()),this.volume$=this.volumeSubject.asObservable().pipe(an())}get selectedDevice(){return this.getCurrentValue(this.selectedDevice$)}get volume(){return this.getCurrentValue(this.volume$)}setDevice(e){this.setCurrentValue(this.selectedDeviceSubject,e)}setVolume(e){this.setCurrentValue(this.volumeSubject,e)}}class l${constructor(){this.state=new lF,this.subscriptions=[],this.removeSubscriptions=()=>{this.subscriptions.forEach(e=>e.unsubscribe())},lC&&!oI()&&this.subscriptions.push(r9([lC,this.state.selectedDevice$]).subscribe(([e,t])=>{t&&(e.find(e=>e.deviceId===t&&"audiooutput"===e.kind)||this.select(""))}))}listDevices(){return lw()}select(e){if(oI())throw Error("This feature is not supported in React Native");this.state.setDevice(e)}setVolume(e){if(oI())throw Error("This feature is not supported in React Native");if(e&&(e<0||e>1))throw Error("Volume must be between 0 and 1");this.state.setVolume(e)}}class lB{constructor({type:e,id:t,streamClient:i,members:r,ownCapabilities:a,sortParticipantsBy:s,clientStore:o,ringing:l=!1,watching:u=!1}){var p;this.state=new ch,this.dynascaleManager=new la(this),this.permissionsContext=new ls,this.dispatcher=new oB,this.trackSubscriptionsSubject=new ae({type:L.MEDIUM,data:[]}),this.reconnectAttempts=0,this.maxReconnectAttempts=10,this.leaveCallHooks=new Set,this.streamClientEventHandlers=new Map,this.leave=async({reject:e=!1}={})=>{let t=this.state.callingState;if(t===U.LEFT)throw Error("Cannot leave call that has already been left.");if(t===U.JOINING&&await this.assertCallJoined(),this.ringing){let i=this.state.remoteParticipants.length>0;this.isCreatedByMe&&!i?await this.reject():e&&t===U.RINGING&&await this.reject()}this.statsReporter?.stop(),this.statsReporter=void 0,this.subscriber?.close(),this.subscriber=void 0,this.publisher?.close(),this.publisher=void 0,this.sfuClient?.close(),this.sfuClient=void 0,this.dispatcher.offAll(),this.state.setCallingState(U.LEFT),this.leaveCallHooks.forEach(e=>e()),this.clientStore.unregisterCall(this),this.camera.removeSubscriptions(),this.microphone.removeSubscriptions(),this.screenShare.removeSubscriptions(),this.speaker.removeSubscriptions();let i=[];this.camera.stopOnLeave&&i.push(this.camera.disable(!0)),this.microphone.stopOnLeave&&i.push(this.microphone.disable(!0)),this.screenShare.stopOnLeave&&i.push(this.screenShare.disable(!0)),await Promise.all(i)},this.get=async e=>{let t=await this.streamClient.get(this.streamClientBasePath,e);return e?.ring&&!this.ringing&&this.ringingSubject.next(!0),this.state.updateFromCallResponse(t.call),this.state.setMembers(t.members),this.state.setOwnCapabilities(t.own_capabilities),this.streamClient._hasConnectionID()&&(this.watching=!0,this.clientStore.registerCall(this)),this.applyDeviceConfig(),t},this.getOrCreate=async e=>{let t=await this.streamClient.post(this.streamClientBasePath,e);return e?.ring&&!this.ringing&&this.ringingSubject.next(!0),this.state.updateFromCallResponse(t.call),this.state.setMembers(t.members),this.state.setOwnCapabilities(t.own_capabilities),this.streamClient._hasConnectionID()&&(this.watching=!0,this.clientStore.registerCall(this)),this.applyDeviceConfig(),t},this.create=async e=>this.getOrCreate(e),this.ring=async()=>await this.get({ring:!0}),this.notify=async()=>await this.get({notify:!0}),this.accept=async()=>this.streamClient.post(`${this.streamClientBasePath}/accept`),this.reject=async()=>this.streamClient.post(`${this.streamClientBasePath}/reject`),this.join=async e=>{let t,i,r;let a=this.state.callingState;if([U.JOINED,U.JOINING].includes(a))throw this.logger("warn","Join method called twice, you should only call this once"),Error("Illegal State: Already joined.");if(a===U.LEFT)throw Error("Illegal State: Cannot join already left call. Create a new Call instance to join a call.");let s=a===U.MIGRATING,o=a===U.RECONNECTING;this.state.setCallingState(U.JOINING),this.logger("debug","Starting join flow"),e?.ring&&!this.ringing&&this.ringingSubject.next(!0),this.ringing&&!this.isCreatedByMe&&await this.accept();try{if(this.sfuClient?.isFastReconnecting)r=this.publisher?.connectionConfiguration,t=this.sfuClient.sfuServer,i=this.sfuClient.token;else{let a=await c4(this.streamClient,this.type,this.id,e);this.state.updateFromCallResponse(a.metadata),this.state.setMembers(a.members),this.state.setOwnCapabilities(a.ownCapabilities),r=a.connectionConfig,t=a.sfuServer,i=a.token}this.streamClient._hasConnectionID()&&(this.watching=!0,this.clientStore.registerCall(this))}catch(e){throw this.state.setCallingState(a),e}let l=this.sfuClient,u=this.sfuClient=new cD({dispatcher:this.dispatcher,sfuServer:t,token:i,sessionId:l?.sessionId}),p=async(i="full")=>{let r=this.state.callingState;if(r===U.MIGRATING||r===U.RECONNECTING)return;this.reconnectAttempts++,this.state.setCallingState("migrate"===i?U.MIGRATING:U.RECONNECTING),"migrate"===i?(this.logger("debug",`[Migration]: migrating call ${this.cid} away from ${t.edge_name}`),u.isMigratingAway=!0):this.logger("debug",`[Rejoin]: ${i} rejoin call ${this.cid} (${this.reconnectAttempts})...`);let a=this.state.localParticipant;if("fast"===i?u.close(cD.ERROR_CONNECTION_BROKEN,"js-client: attempting fast reconnect"):"full"===i&&(await cR(cO(this.reconnectAttempts)),this.subscriber?.close(),this.subscriber=void 0,this.publisher?.close({stopTracks:!1}),this.publisher=void 0,this.statsReporter?.stop(),this.statsReporter=void 0,u.close(cD.NORMAL_CLOSURE,"js-client: attempting full reconnect")),await this.join({...e,..."migrate"===i&&{migrating_from:t.edge_name}}),"migrate"===i&&u.close(cD.NORMAL_CLOSURE,"js-client: attempting migration"),this.logger("info",`[Rejoin]: Attempt ${this.reconnectAttempts} successful!`),a&&"full"===i){let e;let{audioStream:t,videoStream:i,screenShareStream:r,screenShareAudioStream:s}=a;(r||s)&&(e=new MediaStream,r?.getVideoTracks().forEach(t=>{e?.addTrack(t)}),s?.getAudioTracks().forEach(t=>{e?.addTrack(t)})),t&&await this.publishAudioStream(t),i&&await this.publishVideoStream(i,{preferredCodec:this.camera.preferredCodec}),e&&await this.publishScreenShareStream(e),this.logger("info",`[Rejoin]: State restored. Attempt: ${this.reconnectAttempts}`)}};u.signalReady.then(()=>{let e=this.dispatcher.on("goAway",e=>{if("goAway"!==e.eventPayload.oneofKind)return;let{reason:t}=e.eventPayload.goAway;this.logger("info",`[Migration]: Going away from SFU... Reason: ${N[t]}`),p("migrate").catch(e=>{this.logger("warn","[Migration]: Failed to migrate to another SFU.",e)})});u.signalWs.addEventListener("close",t=>{if(e(),t.code===cD.NORMAL_CLOSURE||t.code===cI.WS_POLICY_VIOLATION)return;let i=t.code===cI.WS_CLOSED_ABRUPTLY&&u.isMigratingAway,r=t.code===cI.WS_CLOSED_ABRUPTLY&&u.isFastReconnecting;if(!i&&!r&&t.code!==cD.ERROR_CONNECTION_BROKEN){if(this.reconnectAttempts<this.maxReconnectAttempts){u.isFastReconnecting=0===this.reconnectAttempts;let e=u.isFastReconnecting?"fast":"full";p(e).catch(t=>{this.logger("error",`[Rejoin]: ${e} rejoin failed for ${this.reconnectAttempts} times. Giving up.`,t),this.state.setCallingState(U.RECONNECTING_FAILED)})}else this.logger("error","[Rejoin]: Reconnect attempts exceeded. Giving up..."),this.state.setCallingState(U.RECONNECTING_FAILED)}})});let d=this.streamClient.on("connection.changed",async e=>{if("connection.changed"!==e.type||!e.online)return;d();let t=this.state.callingState;if(!(t===U.OFFLINE||t===U.RECONNECTING_FAILED))return;this.logger("info","[Rejoin]: Going online...");let i=!0;do{try{u.isFastReconnecting=i,await p(i?"fast":"full");return}catch(e){this.logger("error",`[Rejoin][Network]: Rejoin failed for attempt ${this.reconnectAttempts}`,e)}await cR(cO(this.reconnectAttempts)),i=!1}while(this.reconnectAttempts<this.maxReconnectAttempts);this.logger("error","[Rejoin][Network]: Rejoin failed. Giving up."),this.state.setCallingState(U.RECONNECTING_FAILED)}),f=this.streamClient.on("connection.changed",e=>{"connection.changed"===e.type&&(e.online||(f(),this.state.setCallingState(U.OFFLINE)))});this.leaveCallHooks.add(()=>{d(),f()}),this.subscriber||(this.subscriber=new cC({sfuClient:u,dispatcher:this.dispatcher,state:this.state,connectionConfig:r}));let m=this.state.settings?.audio,g=!!m?.opus_dtx_enabled,b=!!m?.redundant_coding_enabled;this.publisher||(this.publisher=new cS({sfuClient:u,dispatcher:this.dispatcher,state:this.state,connectionConfig:r,isDtxEnabled:g,isRedEnabled:b})),this.statsReporter||(this.statsReporter=c8({subscriber:this.subscriber,publisher:this.publisher,state:this.state}));try{u.signalReady.catch(e=>this.logger("error","Signal ready failed",e)).then(()=>oM("recvonly")).then(t=>{let i=o2(this.trackSubscriptionsSubject),r=s?{fromSfuId:e?.migrating_from||"",subscriptions:i.data||[],announcedTracks:this.publisher?.getCurrentTrackInfos()||[]}:void 0;return u.join({subscriberSdp:t||"",clientDetails:oG(),migration:r,fastReconnect:l?.isFastReconnecting??!1})});let{callState:t,reconnected:i}=await this.waitForJoinResponse();if(o&&this.logger("debug","[Rejoin] fast reconnected:",i),s)await this.subscriber.migrateTo(u,r),await this.publisher.migrateTo(u,r);else if(o){if(i)this.subscriber.setSfuClient(u),this.publisher.setSfuClient(u),await this.publisher.restartIce();else if(l?.isFastReconnecting)return await p("full").catch(e=>{this.logger("error","[Rejoin]: Rejoin failed forced full rejoin.",e)})}let a=t?.participants||[],d=t?.participantCount,f=t?.startedAt?aO.toDate(t.startedAt):new Date,m=t?.pins??[];this.state.setParticipants(()=>{let e=this.state.getParticipantLookupBySessionId();return a.map(t=>{let i=e[t.sessionId];return Object.assign(t,i,{isLocalParticipant:t.sessionId===u.sessionId,viewportVisibilityState:i?.viewportVisibilityState??{videoTrack:D.UNKNOWN,screenShareTrack:D.UNKNOWN}})})}),this.state.setParticipantCount(d?.total||0),this.state.setAnonymousParticipantCount(d?.anonymous||0),this.state.setStartedAt(f),this.state.setServerSidePins(m),this.reconnectAttempts=0,this.state.setCallingState(U.JOINED);try{await this.initCamera({setStatus:!0}),await this.initMic({setStatus:!0})}catch(e){this.logger("warn","Camera and/or mic init failed during join call",e)}let{remoteParticipants:g}=this.state;g.length>0&&this.updateSubscriptions(g,L.FAST),this.logger("info",`Joined call ${this.cid}`)}catch(e){if(this.reconnectAttempts<this.maxReconnectAttempts)this.logger("error",`[Rejoin]: Rejoin ${this.reconnectAttempts} failed.`,e),await p(),this.logger("info",`[Rejoin]: Rejoin ${this.reconnectAttempts} successful!`);else throw this.logger("error",`[Rejoin]: Rejoin failed for ${this.reconnectAttempts} times. Giving up.`),this.state.setCallingState(U.RECONNECTING_FAILED),Error("Join failed")}},this.waitForJoinResponse=(e=5e3)=>new Promise((t,i)=>{let r=this.on("joinResponse",e=>{"joinResponse"===e.eventPayload.oneofKind&&(clearTimeout(a),r(),t(e.eventPayload.joinResponse))}),a=setTimeout(()=>{r(),i(Error('Waiting for "joinResponse" has timed out'))},e)}),this.publishVideoStream=async(e,t={})=>{if(await this.assertCallJoined(),!this.publisher)throw this.logger("error","Trying to publish video before join is completed"),Error("Call not joined yet.");let[i]=e.getVideoTracks();if(!i){this.logger("error","There is no video track to publish in the stream.");return}await this.publisher.publishStream(e,i,j.VIDEO,t)},this.publishAudioStream=async e=>{if(await this.assertCallJoined(),!this.publisher)throw this.logger("error","Trying to publish audio before join is completed"),Error("Call not joined yet.");let[t]=e.getAudioTracks();if(!t){this.logger("error","There is no audio track in the stream to publish");return}await this.publisher.publishStream(e,t,j.AUDIO)},this.publishScreenShareStream=async(e,t={})=>{if(await this.assertCallJoined(),!this.publisher)throw this.logger("error","Trying to publish screen share before join is completed"),Error("Call not joined yet.");let[i]=e.getVideoTracks();if(!i){this.logger("error","There is no video track in the screen share stream to publish");return}await this.publisher.publishStream(e,i,j.SCREEN_SHARE,t);let[r]=e.getAudioTracks();r&&await this.publisher.publishStream(e,r,j.SCREEN_SHARE_AUDIO,t)},this.stopPublish=async(e,t=!0)=>{this.logger("info",`stopPublish ${j[e]}, stop tracks: ${t}`),await this.publisher?.unpublishStream(e,t)},this.updateSubscriptionsPartial=(e,t,i=L.SLOW)=>{"video"===e?(this.logger("warn",`updateSubscriptionsPartial: ${e} is deprecated. Please switch to 'videoTrack'`),e="videoTrack"):"screen"===e&&(this.logger("warn",`updateSubscriptionsPartial: ${e} is deprecated. Please switch to 'screenShareTrack'`),e="screenShareTrack");let r=this.state.updateParticipants(Object.entries(t).reduce((t,[i,r])=>{r.dimension?.height&&(r.dimension.height=Math.ceil(r.dimension.height)),r.dimension?.width&&(r.dimension.width=Math.ceil(r.dimension.width));let a="videoTrack"===e?"videoDimension":"screenShareTrack"===e?"screenShareDimension":void 0;return a&&(t[i]={[a]:r.dimension}),t},{}));r&&this.updateSubscriptions(r,i)},this.updateSubscriptions=(e,t=L.SLOW)=>{let i=[];for(let t of e)!t.isLocalParticipant&&(t.videoDimension&&t.publishedTracks.includes(j.VIDEO)&&i.push({userId:t.userId,sessionId:t.sessionId,trackType:j.VIDEO,dimension:t.videoDimension}),t.screenShareDimension&&t.publishedTracks.includes(j.SCREEN_SHARE)&&i.push({userId:t.userId,sessionId:t.sessionId,trackType:j.SCREEN_SHARE,dimension:t.screenShareDimension}),t.publishedTracks.includes(j.SCREEN_SHARE_AUDIO)&&i.push({userId:t.userId,sessionId:t.sessionId,trackType:j.SCREEN_SHARE_AUDIO}));this.trackSubscriptionsSubject.next({type:t,data:i})},this.startReportingStatsFor=e=>this.statsReporter?.startReportingStatsFor(e),this.stopReportingStatsFor=e=>this.statsReporter?.stopReportingStatsFor(e),this.resetReaction=e=>{this.state.updateParticipant(e,{reaction:void 0})},this.setSortParticipantsBy=e=>this.state.setSortParticipantsBy(e),this.updatePublishQuality=async e=>this.publisher?.updateVideoPublishQuality(e),this.assertCallJoined=()=>new Promise(e=>{var t;this.state.callingState$.pipe(aa(e=>e!==U.JOINED,!0),(t=e=>e===U.JOINED,rX(function(e,i){var r=0;e.subscribe(rQ(i,function(e){return t.call(void 0,e,r++)&&i.next(e)}))}))).subscribe(()=>e())}),this.sendReaction=async e=>this.streamClient.post(`${this.streamClientBasePath}/reaction`,e),this.blockUser=async e=>this.streamClient.post(`${this.streamClientBasePath}/block`,{user_id:e}),this.unblockUser=async e=>this.streamClient.post(`${this.streamClientBasePath}/unblock`,{user_id:e}),this.muteSelf=e=>{let t=this.currentUserId;if(t)return this.muteUser(t,e)},this.muteOthers=e=>{let t=o0(e);if(!t)return;let i=[];for(let e of this.state.remoteParticipants)e.publishedTracks.includes(t)&&i.push(e.userId);return this.muteUser(i,e)},this.muteUser=(e,t)=>this.streamClient.post(`${this.streamClientBasePath}/mute_users`,{user_ids:Array.isArray(e)?e:[e],[t]:!0}),this.muteAllUsers=e=>this.streamClient.post(`${this.streamClientBasePath}/mute_users`,{mute_all_users:!0,[e]:!0}),this.startRecording=async e=>this.streamClient.post(`${this.streamClientBasePath}/start_recording`,e||{}),this.stopRecording=async()=>this.streamClient.post(`${this.streamClientBasePath}/stop_recording`,{}),this.requestPermissions=async e=>{let{permissions:t}=e;if(!t.every(e=>this.permissionsContext.canRequest(e)))throw Error(`You are not allowed to request permissions: ${t.join(", ")}`);return this.streamClient.post(`${this.streamClientBasePath}/request_permission`,e)},this.grantPermissions=async(e,t)=>this.updateUserPermissions({user_id:e,grant_permissions:t}),this.revokePermissions=async(e,t)=>this.updateUserPermissions({user_id:e,revoke_permissions:t}),this.updateUserPermissions=async e=>this.streamClient.post(`${this.streamClientBasePath}/user_permissions`,e),this.goLive=async(e={},t)=>this.streamClient.post(`${this.streamClientBasePath}/go_live`,e,t),this.stopLive=async()=>this.streamClient.post(`${this.streamClientBasePath}/stop_live`,{}),this.startHLS=async()=>this.streamClient.post(`${this.streamClientBasePath}/start_broadcasting`,{}),this.stopHLS=async()=>this.streamClient.post(`${this.streamClientBasePath}/stop_broadcasting`,{}),this.update=async e=>{let t=await this.streamClient.patch(`${this.streamClientBasePath}`,e),{call:i,members:r,own_capabilities:a}=t;return this.state.updateFromCallResponse(i),this.state.setMembers(r),this.state.setOwnCapabilities(a),t},this.endCall=async()=>this.streamClient.post(`${this.streamClientBasePath}/mark_ended`),this.pin=e=>{this.state.updateParticipant(e,{pin:{isLocalPin:!0,pinnedAt:Date.now()}})},this.unpin=e=>{this.state.updateParticipant(e,{pin:void 0})},this.pinForEveryone=async e=>this.streamClient.post(`${this.streamClientBasePath}/pin`,e),this.unpinForEveryone=async e=>this.streamClient.post(`${this.streamClientBasePath}/unpin`,e),this.queryMembers=e=>this.streamClient.post("/call/members",{...e||{},id:this.id,type:this.type}),this.updateCallMembers=async e=>this.streamClient.post(`${this.streamClientBasePath}/members`,e),this.scheduleAutoDrop=()=>{clearTimeout(this.dropTimeout),this.leaveCallHooks.add(o4(this.state.settings$,e=>{if(!e||this.state.callingState!==U.RINGING)return;let t=e.ring.auto_cancel_timeout_ms;t<=0||(clearTimeout(this.dropTimeout),this.dropTimeout=setTimeout(()=>{this.leave().catch(e=>{this.logger("error","Failed to drop call",e)})},t))}))},this.queryRecordings=async e=>{let t=this.streamClientBasePath;return e&&(t=`${t}/${e}`),this.streamClient.get(`${t}/recordings`)},this.sendCustomEvent=async e=>this.streamClient.post(`${this.streamClientBasePath}/event`,{custom:e}),this.applyDeviceConfig=()=>{this.initCamera({setStatus:!1}),this.initMic({setStatus:!1})},this.trackElementVisibility=(e,t,i)=>this.dynascaleManager.trackElementVisibility(e,t,i),this.setViewport=e=>this.dynascaleManager.setViewport(e),this.bindVideoElement=(e,t,i)=>{let r=this.dynascaleManager.bindVideoElement(e,t,i);if(r)return this.leaveCallHooks.add(r),()=>{this.leaveCallHooks.delete(r),r()}},this.bindAudioElement=(e,t,i="audioTrack")=>{let r=this.dynascaleManager.bindAudioElement(e,t,i);if(r)return this.leaveCallHooks.add(r),()=>{this.leaveCallHooks.delete(r),r()}},this.bindCallThumbnailElement=(e,t={})=>{let i=()=>{e.src=t.fallbackImageSource||"https://getstream.io/random_svg/?name=x&id=x"},r=o4(this.state.thumbnails$,t=>{if(!t)return;e.addEventListener("error",i);let r=new URL(t.image_url);r.searchParams.set("w",String(e.clientWidth)),r.searchParams.set("h",String(e.clientHeight)),e.src=r.toString()});return()=>{r(),e.removeEventListener("error",i)}},this.type=e,this.id=t,this.cid=`${e}:${t}`,this.ringingSubject=new ae(l),this.watching=u,this.streamClient=i,this.clientStore=o,this.streamClientBasePath=`/call/${this.type}/${this.id}`,this.logger=oL(["Call"]);let d=ll.get(e),f=s||d.options.sortParticipantsBy;f&&this.state.setSortParticipantsBy(f),this.state.setMembers(r||[]),this.state.setOwnCapabilities(a||[]),this.state.setCallingState(l?U.RINGING:U.IDLE),this.on("all",e=>{this.state.updateFromEvent(e)}),this.leaveCallHooks.add(c2(this,this.state,this.dispatcher)),this.registerEffects(),this.leaveCallHooks.add(o4(this.trackSubscriptionsSubject.pipe((p=e=>(function(e,t,i){void 0===e&&(e=0),void 0===i&&(i=ap);var r=-1;return null!=t&&(r5(t)?i=t:r=t),new rj(function(t){var a,s=(a=e)instanceof Date&&!isNaN(a)?+e-i.now():e;s<0&&(s=0);var o=0;return i.schedule(function(){t.closed||(t.next(o++),0<=r?this.schedule(void 0,r):t.complete())},s)})})(e.type),rX(function(e,t){var i=!1,r=null,a=null,s=function(){if(null==a||a.unsubscribe(),a=null,i){i=!1;var e=r;r=null,t.next(e)}};e.subscribe(rQ(t,function(e){null==a||a.unsubscribe(),i=!0,r=e,a=rQ(t,s,rf),rK(p(e)).subscribe(a)},function(){s(),t.complete()},void 0,function(){r=a=null}))})),r4(e=>e.data)),e=>this.sfuClient?.updateSubscriptions(e))),this.camera=new lO(this),this.microphone=new lL(this),this.speaker=new l$,this.screenShare=new lM(this)}registerEffects(){this.leaveCallHooks.add(o4(this.state.settings$,e=>{e&&this.permissionsContext.setCallSettings(e)})),this.leaveCallHooks.add(o4(this.state.ownCapabilities$,e=>{if(this.permissionsContext.setPermissions(e),this.publisher)for(let[e,t]of Object.entries({[ak.SEND_AUDIO]:j.AUDIO,[ak.SEND_VIDEO]:j.VIDEO,[ak.SCREENSHARE]:j.SCREEN_SHARE}))!this.permissionsContext.hasPermission(e)&&(this.publisher.isPublishing(t)||this.publisher.isLive(t))&&this.stopPublish(t).catch(e=>{this.logger("error",`Error stopping publish ${t}`,e)}).then(()=>{t===j.VIDEO&&"enabled"===this.camera.state.status&&this.camera.disable().catch(e=>this.logger("error","Error disabling camera after permission revoked",e)),t===j.AUDIO&&"enabled"===this.microphone.state.status&&this.microphone.disable().catch(e=>this.logger("error","Error disabling microphone after permission revoked",e))})})),this.leaveCallHooks.add(o4(this.state.blockedUserIds$,async e=>{if(!e||0===e.length)return;let t=this.currentUserId;t&&e.includes(t)&&(this.logger("info","Leaving call because of being blocked"),await this.leave())})),this.leaveCallHooks.add(o4(this.state.callingState$,e=>{this.ringing&&(e===U.JOINED||e===U.JOINING||e===U.LEFT)&&(clearTimeout(this.dropTimeout),this.dropTimeout=void 0)})),this.leaveCallHooks.add(o4(this.ringingSubject,e=>{e&&(this.scheduleAutoDrop(),this.state.callingState===U.IDLE&&this.state.setCallingState(U.RINGING),this.leaveCallHooks.add(c3(this)))}))}on(e,t){if(o$(e))return this.dispatcher.on(e,t);{let i=e=>{e.call_cid&&e.call_cid===this.cid&&t(e)};return this.streamClientEventHandlers.set(t,i),this.streamClient.on(e,i)}}off(e,t){if(o$(e))return this.dispatcher.off(e,t);{let i=this.streamClientEventHandlers.get(t);if(i)return this.streamClient.off(e,i)}}get ringing(){return o2(this.ringingSubject)}get currentUserId(){return this.clientStore.connectedUser?.id}get isCreatedByMe(){return this.state.createdBy?.id===this.currentUserId}async initCamera(e){if(this.camera.enablePromise&&await this.camera.enablePromise,this.camera.disablePromise&&await this.camera.disablePromise,this.state.localParticipant?.videoStream||!this.permissionsContext.hasPermission("send-video"))return;if(!this.camera.state.direction&&!this.camera.state.selectedDevice){let e="front",t=this.state.settings?.video.camera_facing;t&&(e="front"===t?"front":"back"),this.camera.state.setDirection(e)}let t=this.state.settings?.video.target_resolution;t&&await this.camera.selectTargetResolution(t),e.setStatus&&("enabled"===this.camera.state.status&&this.camera.state.mediaStream&&!this.publisher?.isPublishing(j.VIDEO)&&await this.publishVideoStream(this.camera.state.mediaStream,{preferredCodec:this.camera.preferredCodec}),void 0===this.camera.state.status&&this.state.settings?.video.camera_default_on&&await this.camera.enable())}async initMic(e){this.microphone.enablePromise&&await this.microphone.enablePromise,this.microphone.disablePromise&&await this.microphone.disablePromise,!this.state.localParticipant?.audioStream&&this.permissionsContext.hasPermission("send-audio")&&e.setStatus&&("enabled"===this.microphone.state.status&&this.microphone.state.mediaStream&&!this.publisher?.isPublishing(j.AUDIO)&&await this.publishAudioStream(this.microphone.state.mediaStream),void 0===this.microphone.state.status&&this.state.settings?.audio.mic_default_on&&await this.microphone.enable())}}class lq{constructor(){this.connectionStartTimestamp=null,this.wsTotalFailures=0,this.wsConsecutiveFailures=0,this.instanceClientId=cN()}}let lV=async(e,t)=>{for(let i=0;i<3;i++){try{await nM.post(`https://chat-insights.getstream.io/insights/${e}`,t)}catch(e){await cR((i+1)*3e3);continue}break}};function lz(e){let{client:t}=e;return{ready_state:e.ws?.readyState,url:e._buildUrl(),api_key:t.key,start_ts:t.insightMetrics.connectionStartTimestamp,end_ts:new Date().getTime(),auth_type:t.getAuthType(),token:t.tokenManager.token,user_id:t.userID,user_details:t._user,device:"browser",client_id:e.connectionID,ws_details:e.ws,ws_consecutive_failures:t.insightMetrics.wsConsecutiveFailures,ws_total_failures:t.insightMetrics.wsTotalFailures,request_id:e.requestID,online:"undefined"!=typeof navigator?navigator?.onLine:null,user_agent:"undefined"!=typeof navigator?navigator?.userAgent:null,instance_client_id:t.insightMetrics.instanceClientId}}let lW=e=>void 0!==e.code,lH=e=>void 0!==e.error;class lG{constructor(e){this._log=(e,t={},i="info")=>{this.client.logger(i,"connection:"+e,{...t})},this.setClient=e=>{this.client=e},this._buildUrl=()=>{let e=new URLSearchParams;return e.set("api_key",this.client.key),e.set("stream-auth-type",this.client.getAuthType()),e.set("X-Stream-Client",this.client.getUserAgent()),`${this.client.wsBaseURL}/connect?${e.toString()}`},this.onlineStatusChanged=e=>{"offline"===e.type?(this._log("onlineStatusChanged() - Status changing to offline"),this._setHealth(!1,!0)):"online"!==e.type||(this._log(`onlineStatusChanged() - Status changing to online. isHealthy: ${this.isHealthy}`),this.isHealthy||this._reconnect({interval:10}))},this.onopen=e=>{if(this.wsID!==e)return;let t=this.client.user;if(!t){this.client.logger("error","User not set, can't connect to WS");return}let i=this.client._getToken();if(!i){this.client.logger("error","Token not set, can't connect authenticate");return}let r={token:i,user_details:{id:t.id,name:t.name,image:t.image,custom:t.custom}};this.authenticationSent=!0,this.ws?.send(JSON.stringify(r)),this._log("onopen() - onopen callback",{wsID:e})},this.onmessage=(e,t)=>{if(this.wsID!==e)return;this._log("onmessage() - onmessage callback",{event:t,wsID:e});let i="string"==typeof t.data?JSON.parse(t.data):null;if(!this.isResolved&&i&&"connection.ok"===i.type){if(this.isResolved=!0,i.error){this.rejectPromise?.(this._errorFromWSEvent(i,!1));return}this.resolvePromise?.(i),this._setHealth(!0)}if(this.lastEvent=new Date,i&&("health.check"===i.type||"connection.ok"===i.type)&&this.scheduleNextPing(),i&&i.error){let{code:e}=this._errorFromWSEvent(i,!0);this.isHealthy=!1,this.isConnecting=!1,this.consecutiveFailures+=1,e!==cI.TOKEN_EXPIRED||this.client.tokenManager.isStatic()||(clearTimeout(this.connectionCheckTimeoutRef),this._log("connect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0}))}this.client.handleEvent(t),this.scheduleConnectionCheck()},this.onclose=(e,t)=>{if(this.wsID===e){if(this._log("onclose() - onclose callback - "+t.code,{event:t,wsID:e}),t.code===cI.WS_CLOSED_SUCCESS){let e=Error(`WS connection reject with error ${t.reason}`);e.reason=t.reason,e.code=t.code,e.wasClean=t.wasClean,e.target=t.target,this.rejectPromise?.(e),this._log(`onclose() - WS connection reject with error ${t.reason}`,{event:t})}else this.consecutiveFailures+=1,this.totalFailures+=1,this._setHealth(!1),this.isConnecting=!1,this.rejectPromise?.(this._errorFromWSEvent(t)),this._log("onclose() - WS connection closed. Calling reconnect ...",{event:t}),this._reconnect()}},this.onerror=(e,t)=>{this.wsID===e&&(this.consecutiveFailures+=1,this.totalFailures+=1,this._setHealth(!1),this.isConnecting=!1,this.rejectPromise?.(this._errorFromWSEvent(t)),this._log("onerror() - WS connection resulted into error",{event:t}),this._reconnect())},this._setHealth=(e,t=!1)=>{if(e!==this.isHealthy){if(this.isHealthy=e,this.isHealthy||t){this.client.dispatchEvent({type:"connection.changed",online:this.isHealthy});return}setTimeout(()=>{this.isHealthy||this.client.dispatchEvent({type:"connection.changed",online:this.isHealthy})},5e3)}},this._errorFromWSEvent=(e,t=!0)=>{let i,r,a;lW(e)&&(i=e.code,r="unknown",a=e.reason),lH(e)&&(i=e.error.code,r=e.error.StatusCode,a=e.error.message),this._log(`_errorFromWSEvent() - WS failed with code ${i}`,{event:e},"warn");let s=Error(`WS failed with code ${i} and reason - ${a}`);return s.code=i,s.StatusCode=r,s.isWSFailure=t,s},this._setupConnectionPromise=()=>{this.isResolved=!1,this.connectionOpen=new Promise((e,t)=>{this.resolvePromise=e,this.rejectPromise=t})},this.scheduleNextPing=()=>{this.healthCheckTimeoutRef&&clearTimeout(this.healthCheckTimeoutRef),this.healthCheckTimeoutRef=setTimeout(()=>{let e=[{type:"health.check",client_id:this.client.clientID}];try{this.ws?.send(JSON.stringify(e))}catch(e){}},this.pingInterval)},this.scheduleConnectionCheck=()=>{this.connectionCheckTimeoutRef&&clearTimeout(this.connectionCheckTimeoutRef),this.connectionCheckTimeoutRef=setTimeout(()=>{let e=new Date;this.lastEvent&&e.getTime()-this.lastEvent.getTime()>this.connectionCheckTimeout&&(this._log("scheduleConnectionCheck - going to reconnect"),this._setHealth(!1),this._reconnect())},this.connectionCheckTimeout)},this.client=e,this.consecutiveFailures=0,this.totalFailures=0,this.isConnecting=!1,this.authenticationSent=!1,this.isDisconnected=!1,this.isResolved=!1,this.isHealthy=!1,this.wsID=1,this.lastEvent=null,this.pingInterval=25e3,this.connectionCheckTimeout=this.pingInterval+1e4,this.onlineStatusChanged}async connect(e=15e3){if(this.isConnecting)throw Error("You've called connect twice, can only attempt 1 connection at the time");this.isDisconnected=!1;try{let e=await this._connect();this.consecutiveFailures=0,this._log(`connect() - Established ws connection with healthcheck: ${e}`)}catch(e){if(this.isHealthy=!1,this.consecutiveFailures+=1,e.code!==cI.TOKEN_EXPIRED||this.client.tokenManager.isStatic()){if(!e.isWSFailure)throw Error(JSON.stringify({code:e.code,StatusCode:e.StatusCode,message:e.message,isWSFailure:e.isWSFailure}))}else this._log("connect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0})}return await this._waitForHealthy(e)}async _waitForHealthy(e=15e3){return Promise.race([(async()=>{for(let t=0;t<=e;t+=50)try{return await this.connectionOpen}catch(i){if(t===e)throw Error(JSON.stringify({code:i.code,StatusCode:i.StatusCode,message:i.message,isWSFailure:i.isWSFailure}));await cR(50)}})(),(async()=>{throw await cR(e),this.isConnecting=!1,Error(JSON.stringify({code:"",StatusCode:"",message:"initial WS connection could not be established",isWSFailure:!0}))})()])}disconnect(e){let t;this._log(`disconnect() - Closing the websocket connection for wsID ${this.wsID}`),this.wsID+=1,this.isConnecting=!1,this.isDisconnected=!0,this.healthCheckTimeoutRef&&clearInterval(this.healthCheckTimeoutRef),this.connectionCheckTimeoutRef&&clearInterval(this.connectionCheckTimeoutRef),this.onlineStatusChanged,this.isHealthy=!1,this.ws&&this.ws.removeAllListeners&&this.ws.removeAllListeners();let{ws:i}=this;return i&&i.close&&i.readyState===i.OPEN?(t=new Promise(t=>{let r=e=>{this._log(`disconnect() - resolving isClosedPromise ${e?"with":"without"} close frame`,{event:e}),t()};i.onclose=r,setTimeout(r,null!=e?e:1e3)}),this._log("disconnect() - Manually closed connection by calling client.disconnect()"),i.close(cI.WS_CLOSED_SUCCESS,"Manually closed connection by calling client.disconnect()")):(this._log("disconnect() - ws connection doesn't exist or it is already closed."),t=Promise.resolve()),delete this.ws,t}async _connect(){if(this.isConnecting||this.isDisconnected&&this.client.options.enableWSFallback)return;this.isConnecting=!0,this.requestID=cN(),this.client.insightMetrics.connectionStartTimestamp=new Date().getTime();let e=!1;try{this._log("_connect() - waiting for token"),await this.client.tokenManager.tokenReady(),e=!0}catch(e){}try{e||(this._log("_connect() - tokenProvider failed before, so going to retry"),await this.client.tokenManager.loadToken()),this._setupConnectionPromise();let t=this._buildUrl();this._log(`_connect() - Connecting to ${t}`,{wsURL:t,requestID:this.requestID}),this.ws=new(av())(t),this.ws.onopen=this.onopen.bind(this,this.wsID),this.ws.onclose=this.onclose.bind(this,this.wsID),this.ws.onerror=this.onerror.bind(this,this.wsID),this.ws.onmessage=this.onmessage.bind(this,this.wsID);let i=await this.connectionOpen;if(this.isConnecting=!1,i)return this.connectionID=i.connection_id,this.client.resolveConnectionId?.(this.connectionID),this.client.insightMetrics.wsConsecutiveFailures>0&&this.client.options.enableInsights&&(lV("ws_success_after_failure",lz(this)),this.client.insightMetrics.wsConsecutiveFailures=0),i}catch(e){if(this.isConnecting=!1,this._log("_connect() - Error - ",e),this.client.options.enableInsights){this.client.insightMetrics.wsConsecutiveFailures++,this.client.insightMetrics.wsTotalFailures++;let t={...function(e){let t={};if(!e)return t;try{Object.getOwnPropertyNames(e).forEach(i=>{t[i]=Object.getOwnPropertyDescriptor(e,i)})}catch(e){return{error:"failed to serialize the error"}}return t}(e),...lz(this)};lV?.("ws_fatal",t)}throw this.client.rejectConnectionId?.(),e}}async _reconnect(e={}){if(this._log("_reconnect() - Initiating the reconnect"),this.isConnecting||this.isHealthy){this._log("_reconnect() - Abort (1) since already connecting or healthy");return}let t=e.interval;if(t||(t=cO(this.consecutiveFailures)),await cR(t),this.isConnecting||this.isHealthy){this._log("_reconnect() - Abort (2) since already connecting or healthy");return}if(this.isDisconnected&&this.client.options.enableWSFallback){this._log("_reconnect() - Abort (3) since disconnect() is called");return}this._log("_reconnect() - Destroying current WS connection"),this._destroyCurrentWSConnection(),e.refreshToken&&await this.client.tokenManager.loadToken();try{await this._connect(),this._log("_reconnect() - Waiting for recoverCallBack"),this._log("_reconnect() - Finished recoverCallBack"),this.consecutiveFailures=0}catch(e){if(this.isHealthy=!1,this.consecutiveFailures+=1,e.code===cI.TOKEN_EXPIRED&&!this.client.tokenManager.isStatic())return this._log("_reconnect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0});e.isWSFailure&&(this._log("_reconnect() - WS failure, so going to try to reconnect"),this._reconnect())}this._log("_reconnect() - == END ==")}_destroyCurrentWSConnection(){this.wsID+=1;try{this?.ws?.removeAllListeners(),this?.ws?.close()}catch(e){}}}function lK(e){return"string"==typeof e}let lY=e=>(0,aw.JQ)(new Uint8Array(function(e,t){let i=[];if(lK(e)&&t&&lK(e)){for(let r=0,a=e.length;r<a;r++)if(e.charAt(r)){let a=t(e.charAt(r),r,e);i[r]=a}}else if(!lK(e)&&!(t&&lK(e))){for(let r=0,a=e.length;r<a;r++)if(r in e){let a=t(e[r],r,e);i[r]=a}}return i}(e,e=>e.charCodeAt(0)))),lJ=e=>{let t={},i=String.fromCharCode,r=e.length,a,s=0,o,l=0,u,p="";for(a=0;a<64;a++)t["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a)]=a;for(o=0;o<r;o++)for(s=(s<<6)+t[e.charAt(o)],l+=6;l>=8;)((u=s>>>(l-=8)&255)||o<r-2)&&(p+=i(u));return p};function lX(e,t,i={},r={}){if("string"!=typeof t)throw TypeError("userId should be a string");let a={user_id:t,...i};if(null==ax()||null==ax().sign)throw Error("Unable to find jwt crypto, if you are getting this error is probably because you are trying to generate tokens on browser or React Native (or other environment where crypto functions are not available). Please Note: token should only be generated server-side.");let s=Object.assign({algorithm:"HS256",noTimestamp:!0},r);return a.iat&&(s.noTimestamp=!1),ax().sign(a,e,s)}function lQ(e,t={}){let i=Object.assign({algorithm:"HS256",noTimestamp:!0},t);return ax().sign({server:!0},e,i)}class lZ{constructor(e){this.setTokenOrProvider=async(e,t,i)=>{this.validateToken(e,t,i),this.user=t,cj(e)&&(this.tokenProvider=e,this.type="provider"),"string"==typeof e&&(this.token=e,this.type="static"),!e&&this.user&&this.secret&&(this.token=lX(this.secret,t.id,{},{}),this.type="static"),await this.loadToken()},this.reset=()=>{this.token=void 0,this.user=void 0,this.loadTokenPromise=null},this.validateToken=(e,t,i)=>{if(!t||!i||e){if(!this.secret&&!e)throw Error("UserWithId token can not be empty");if(e&&"string"!=typeof e&&!cj(e))throw Error("user token should either be a string or a function");if("string"==typeof e){if(i&&""===e)return;let r=function(e){let t=e.split(".");return 3!==t.length?"":JSON.parse(lJ(t[1])).user_id}(e);if(null!=e&&(null==r||""===r||!i&&r!==t.id))throw Error("userToken does not have a user_id or is not matching with user.id")}}},this.tokenReady=()=>this.loadTokenPromise,this.loadToken=()=>(this.loadTokenPromise=new Promise(async(e,t)=>{if("static"===this.type)return e(this.token);if(this.tokenProvider&&"string"!=typeof this.tokenProvider){try{this.token=await this.tokenProvider()}catch(e){return t(Error(`Call to tokenProvider failed with message: ${e}`))}e(this.token)}}),this.loadTokenPromise),this.getToken=()=>{if(this.token||this.user&&!this.token)return this.token;if(this.secret)return lQ(this.secret);throw Error("Both secret and user tokens are not set. Either client.connectUser wasn't called or client.disconnect was called")},this.isStatic=()=>"static"===this.type,this.loadTokenPromise=null,e&&(this.secret=e),this.type="static",this.secret&&(this.token=lQ(this.secret))}}let l0={"-1":{name:"InternalSystemError",retryable:!0},2:{name:"AccessKeyError",retryable:!1},3:{name:"AuthenticationFailedError",retryable:!0},4:{name:"InputError",retryable:!1},6:{name:"DuplicateUsernameError",retryable:!1},9:{name:"RateLimitError",retryable:!0},16:{name:"DoesNotExistError",retryable:!1},17:{name:"NotAllowedError",retryable:!1},18:{name:"EventNotSupportedError",retryable:!1},19:{name:"ChannelFeatureNotSupportedError",retryable:!1},20:{name:"MessageTooLongError",retryable:!1},21:{name:"MultipleNestingLevelError",retryable:!1},22:{name:"PayloadTooBigError",retryable:!1},23:{name:"RequestTimeoutError",retryable:!0},24:{name:"MaxHeaderSizeExceededError",retryable:!1},40:{name:"AuthErrorTokenExpired",retryable:!1},41:{name:"AuthErrorTokenNotValidYet",retryable:!1},42:{name:"AuthErrorTokenUsedBeforeIssuedAt",retryable:!1},43:{name:"AuthErrorTokenSignatureInvalid",retryable:!1},44:{name:"CustomCommandEndpointMissingError",retryable:!1},45:{name:"CustomCommandEndpointCallError",retryable:!0},46:{name:"ConnectionIDNotFoundError",retryable:!1},60:{name:"CoolDownError",retryable:!0},69:{name:"ErrWrongRegion",retryable:!1},70:{name:"ErrQueryChannelPermissions",retryable:!1},71:{name:"ErrTooManyConnections",retryable:!0},99:{name:"AppSuspendedError",retryable:!1}};function l1(e){if(!e.code)return!1;let t=l0[`${e.code}`];return!!t&&t.retryable}!function(e){e.Closed="CLOSED",e.Connected="CONNECTED",e.Connecting="CONNECTING",e.Disconnected="DISCONNECTED",e.Init="INIT"}(M||(M={}));class l2{constructor(e){this._onlineStatusChanged=e=>{if(this._log(`_onlineStatusChanged() - ${e.type}`),"offline"===e.type){this._setState(M.Closed),this.cancelToken?.cancel("disconnect() is called"),this.cancelToken=void 0;return}"online"===e.type&&this.state===M.Closed&&this.connect(!0)},this._req=async(e,t,i)=>{this.cancelToken||e.close||(this.cancelToken=nM.CancelToken.source());try{let i=await this.client.doAxiosRequest("get",this.client.baseURL.replace(":3030",":8900")+"/longpoll",void 0,{config:{...t,cancelToken:this.cancelToken?.token},params:e,publicEndpoint:!0});return this.consecutiveFailures=0,i}catch(r){if(this.consecutiveFailures+=1,i&&l1(r))return this._log("_req() - Retryable error, retrying request"),await cR(cO(this.consecutiveFailures)),this._req(e,t,i);throw r}},this._poll=async()=>{for(;this.state===M.Connected;)try{let e=await this._req({},{timeout:3e4},!0);if(e.events?.length)for(let t=0;t<e.events.length;t++)this.client.dispatchEvent(e.events[t])}catch(e){if(nM.isCancel(e)){this._log("_poll() - axios canceled request");return}if(46===e.code){this._log("_poll() - ConnectionID error, connecting without ID..."),this._setState(M.Disconnected),this.connect(!0);return}if(void 0!==e.code&&!l1(e)){this._setState(M.Closed);return}await cR(cO(this.consecutiveFailures))}},this.connect=async(e=!1)=>{if(this.state===M.Connecting){this._log("connect() - connecting already in progress",{reconnect:e},"warn");return}if(this.state===M.Connected){this._log("connect() - already connected and polling",{reconnect:e},"warn");return}this._setState(M.Connecting),this.connectionID=void 0;try{let{event:t}=await this._req({json:this.client._buildWSPayload()},{timeout:8e3},e);return this._setState(M.Connected),this.connectionID=t.connection_id,this.client.resolveConnectionId?.(),this.client.dispatchEvent(t),this._poll(),t}catch(e){throw this._setState(M.Closed),this.client.rejectConnectionId?.(),e}},this.isHealthy=()=>!!this.connectionID&&this.state===M.Connected,this.disconnect=async(e=2e3)=>{this._onlineStatusChanged,this._setState(M.Disconnected),this.cancelToken?.cancel("disconnect() is called"),this.cancelToken=void 0;let t=this.connectionID;this.connectionID=void 0;try{await this._req({close:!0,connection_id:t},{timeout:e},!1),this._log("disconnect() - Closed connectionID")}catch(e){this._log("disconnect() - Failed",{err:e},"error")}},this.client=e,this.state=M.Init,this.consecutiveFailures=0,this._onlineStatusChanged}_log(e,t={},i="info"){this.client.logger(i,"WSConnectionFallback:"+e,{...t})}_setState(e){this._log(`_setState() - ${e}`),this.state===M.Connecting&&e===M.Connected&&this.client.dispatchEvent({type:"connection.changed",online:!0}),(e===M.Closed||e===M.Disconnected)&&this.client.dispatchEvent({type:"connection.changed",online:!1}),this.state=e}}let l3=oL(["location"]),l4="https://hint.stream-io-video.com/",l6=async(e=l4,t=2e3)=>{let i=new AbortController,r=setTimeout(()=>i.abort(),t);try{let e=(await fetch(l4,{method:"HEAD",signal:i.signal})).headers.get("x-amz-cf-pop")||"ERR";return l3("debug",`Location header: ${e}`),e.substring(0,3)}catch(e){return l3("warn",`Failed to get location hint from ${l4}`,e),"ERR"}finally{clearTimeout(r)}};class l5{constructor(e,t){this.nextRequestAbortController=null,this.devToken=e=>["eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9",lY(JSON.stringify({user_id:e})),"devtoken"].join("."),this.getAuthType=()=>this.anonymous?"anonymous":"jwt",this.setBaseURL=e=>{this.baseURL=e,this.wsBaseURL=this.baseURL.replace("http","ws").replace(":3030",":8800")},this.getLocationHint=async(e,t)=>{let i=await this.locationHint;return i&&"ERR"!==i?i:(this.locationHint=l6(e??this.options.locationHintUrl,t??this.options.locationHintTimeout),this.locationHint)},this._getConnectionID=()=>this.wsConnection?.connectionID||this.wsFallback?.connectionID,this._hasConnectionID=()=>!!this._getConnectionID(),this.connectUser=async(e,t)=>{if(!e.id)throw Error('The "id" field on the user is missing');if(this.userID===e.id&&this.setUserPromise)return this.logger("warn","Consecutive calls to connectUser is detected, ideally you should only call this function once in your app."),this.setUserPromise;if(this.userID)throw Error("Use client.disconnect() before trying to connect as a different user. connectUser was called twice.");(this._isUsingServerAuth()||this.node)&&!this.options.allowServerSideConnect&&this.logger("warn",'Please do not use connectUser server side. connectUser impacts MAU and concurrent connection usage and thus your bill. If you have a valid use-case, add "allowServerSideConnect: true" to the client options to disable this warning.'),this.userID=e.id,this.anonymous=!1;let i=this._setToken(e,t,this.anonymous);this._setUser(e);let r=this.openConnection();this.setUserPromise=Promise.all([i,r]).then(e=>e[1]);try{return await this.setUserPromise}catch(e){throw this.persistUserOnConnectionFailure?this.closeConnection():this.disconnectUser(),e}},this._setToken=(e,t,i)=>this.tokenManager.setTokenOrProvider(t,e,i),this._setUser=e=>{this.user=e,this.userID=e.id,this._user={...e}},this.closeConnection=async e=>(null!=this.cleaningIntervalRef&&(clearInterval(this.cleaningIntervalRef),this.cleaningIntervalRef=void 0),await Promise.all([this.wsConnection?.disconnect(e),this.wsFallback?.disconnect(e)]),Promise.resolve()),this.openConnection=async()=>{if(!this.userID)throw Error("UserWithId is not set on client, use client.connectUser or client.connectAnonymousUser instead");return this.wsConnection?.isConnecting&&this.wsPromise?(this.logger("info","client:openConnection() - connection already in progress"),this.wsPromise):(this.wsConnection?.isHealthy||this.wsFallback?.isHealthy())&&this._hasConnectionID()?(this.logger("info","client:openConnection() - openConnection called twice, healthy connection already exists"),Promise.resolve()):(this.connectionIdPromise=new Promise((e,t)=>{this.resolveConnectionId=e,this.rejectConnectionId=t}),this.clientID=`${this.userID}--${cN()}`,this.wsPromise=this.connect(),this.wsPromise)},this._normalizeDate=e=>{if(e instanceof Date&&(e=e.toISOString()),""===e)throw Error("Don't pass blank string for since, use null instead if resetting the token revoke");return e},this.disconnectUser=async e=>{this.logger("info","client:disconnect() - Disconnecting the client"),delete this.user,delete this._user,delete this.userID,this.anonymous=!1,await this.closeConnection(e),this.tokenManager.reset(),this.connectionIdPromise=void 0,this.rejectConnectionId=void 0,this.resolveConnectionId=void 0},this.connectGuestUser=async e=>{this.guestUserCreatePromise=this.doAxiosRequest("post","/guest",{user:{...e,role:"guest"}},{publicEndpoint:!0});let t=await this.guestUserCreatePromise;return this.guestUserCreatePromise.finally(()=>this.guestUserCreatePromise=void 0),this.connectUser(t.user,t.access_token)},this.connectAnonymousUser=async(e,t)=>{this.connectionIdPromise=new Promise((e,t)=>{this.resolveConnectionId=e,this.rejectConnectionId=t}),this.anonymous=!0,await this._setToken(e,t,this.anonymous),this._setUser(e),this.resolveConnectionId?.()},this.on=(e,t)=>{let i=t?e:"all",r=t||e;return i in this.listeners||(this.listeners[i]=[]),this.listeners[i].push(r),()=>{this.off(i,r)}},this.off=(e,t)=>{let i=t?e:"all",r=t||e;i in this.listeners||(this.listeners[i]=[]),this.logger("debug",`Removing listener for ${i} event`),this.listeners[i]=this.listeners[i].filter(e=>e!==r)},this._logApiRequest=(e,t,i,r)=>{this.logger("trace",`client: ${e} - Request - ${t}`,{payload:i,config:r})},this._logApiResponse=(e,t,i)=>{this.logger("trace",`client:${e} - Response - url: ${t} > status ${i.status}`,{response:i})},this._logApiError=(e,t,i)=>{this.logger("error",`client:${e} - Error - url: ${t}`,{url:t,error:i})},this.doAxiosRequest=async(e,t,i,r={})=>{r.publicEndpoint||await Promise.all([this.tokenManager.tokenReady(),this.guestUserCreatePromise,this.connectionIdPromise]);let a=this._enrichAxiosOptions(r);try{let r;switch(this._logApiRequest(e,t,i,a),e){case"get":r=await this.axiosInstance.get(t,a);break;case"delete":r=await this.axiosInstance.delete(t,a);break;case"post":r=await this.axiosInstance.post(t,i,a);break;case"put":r=await this.axiosInstance.put(t,i,a);break;case"patch":r=await this.axiosInstance.patch(t,i,a);break;case"options":r=await this.axiosInstance.options(t,a);break;default:throw Error("Invalid request type")}return this._logApiResponse(e,t,r),this.consecutiveFailures=0,this.handleResponse(r)}catch(s){if(s.client_request_id=a.headers?.["x-client-request-id"],this.consecutiveFailures+=1,s.response){if(this._logApiError(e,t,s.response),s.response.data.code===cI.TOKEN_EXPIRED&&!this.tokenManager.isStatic())return this.consecutiveFailures>1&&await cR(cO(this.consecutiveFailures)),await this.tokenManager.loadToken(),await this.doAxiosRequest(e,t,i,r);return this.handleResponse(s.response)}throw this._logApiError(e,t,s),s}},this.get=(e,t)=>this.doAxiosRequest("get",e,null,{params:t}),this.put=(e,t,i)=>this.doAxiosRequest("put",e,t,{params:i}),this.post=(e,t,i)=>this.doAxiosRequest("post",e,t,{params:i}),this.patch=(e,t,i)=>this.doAxiosRequest("patch",e,t,{params:i}),this.delete=(e,t)=>this.doAxiosRequest("delete",e,null,{params:t}),this.errorFromResponse=e=>{let t;return t=new a_(`Stream error HTTP code: ${e.status}`),e.data&&e.data.code&&((t=Error(`Stream error code ${e.data.code}: ${e.data.message}`)).code=e.data.code),t.response=e,t.status=e.status,t},this.handleResponse=e=>{let t=e.data;if(function(e){return!e.status||e.status<200||300<=e.status}(e))throw this.errorFromResponse(e);return t},this.dispatchEvent=e=>{e.received_at||(e.received_at=new Date),this.logger("debug",`Dispatching event: ${e.type}`,e),this._callClientListeners(e)},this.handleEvent=e=>{let t=JSON.parse(e.data);this.dispatchEvent(t)},this._callClientListeners=e=>{let t=[];for(let i of(this.listeners.all&&t.push(...this.listeners.all),this.listeners[e.type]&&t.push(...this.listeners[e.type]),t))i(e)},this.connect=async()=>{if(!this.userID||!this._user)throw Error("Call connectUser or connectAnonymousUser before starting the connection");if(!this.wsBaseURL)throw Error("Websocket base url not set");if(!this.clientID)throw Error("clientID is not set");!this.wsConnection&&(this.options.warmUp||this.options.enableInsights)&&this._sayHi(),this.options.wsConnection&&this.node?(this.options.wsConnection.setClient(this),this.wsConnection=this.options.wsConnection):this.wsConnection=new lG(this);try{if(this.wsFallback)return await this.wsFallback.connect();return this.logger("info","StreamClient.connect: this.wsConnection.connect()"),await this.wsConnection.connect(this.options.enableWSFallback?this.defaultWSTimeoutWithFallback:this.defaultWSTimeout)}catch(e){if(this.options.enableWSFallback&&function(e){if("boolean"==typeof e.isWSFailure)return e.isWSFailure;try{return JSON.parse(e.message).isWSFailure}catch(e){return!1}}(e)&&function(e){let t="undefined"!=typeof navigator?navigator:void 0;return t?"boolean"!=typeof t.onLine||t.onLine:(e("warn","isOnline failed to access window.navigator and assume browser is online"),!0)}(this.logger))return this.logger("warn","client:connect() - WS failed, fallback to longpoll"),this.dispatchEvent({type:"transport.changed",mode:"longpoll"}),this.wsConnection._destroyCurrentWSConnection(),this.wsConnection.disconnect().then(),this.wsFallback=new l2(this),await this.wsFallback.connect();throw e}},this._sayHi=()=>{let e=cN(),t={headers:nJ.from({"x-client-request-id":e})};this.doAxiosRequest("get",this.baseURL+"/hi",null,t).catch(t=>{this.options.enableInsights&&lV("http_hi_failed",{api_key:this.key,err:t,client_request_id:e})})},this.getUserAgent=()=>this.userAgent||`stream-video-javascript-client-${this.node?"node":"browser"}-0.5.9`,this.setUserAgent=e=>{this.userAgent=e},this._isUsingServerAuth=()=>!!this.secret,this._enrichAxiosOptions=(e={params:{},headers:{},config:{}})=>{let t=e.publicEndpoint&&!this.user?void 0:this._getToken(),i=null;return null!==this.nextRequestAbortController&&(i=this.nextRequestAbortController.signal,this.nextRequestAbortController=null),e.headers?.["x-client-request-id"]||(e.headers={...e.headers,"x-client-request-id":cN()}),{params:{user_id:this.userID,connection_id:this._getConnectionID(),api_key:this.key,...e.params},headers:{...t?{Authorization:t}:void 0,"stream-auth-type":e.publicEndpoint&&!this.user?"anonymous":this.getAuthType(),"X-Stream-Client":this.getUserAgent(),...e.headers},...i?{signal:i}:{},...e.config,...this.options.axiosRequestConfig}},this._getToken=()=>this.tokenManager?this.tokenManager.getToken():null,this._buildWSPayload=e=>JSON.stringify({user_id:this.userID,user_details:this._user,client_request_id:e}),this.createAbortControllerForNextRequest=()=>this.nextRequestAbortController=new AbortController,this.createToken=(e,t,i,r)=>{if(null==this.secret)throw Error("tokens can only be created server-side using the API Secret");let a={};return t&&(a.exp=t),i&&(a.iat=i),r&&(a.call_cids=r),lX(this.secret,e,a,{})},this.key=e,this.listeners={},this.secret=t?.secret;let i=t||{browser:!1};this.browser=i.browser||!1,this.node=!this.browser,this.browser&&(this.locationHint=l6(t?.locationHintUrl,t?.locationHintTimeout)),this.options={timeout:5e3,withCredentials:!1,warmUp:!1,...i},this.node&&!this.options.httpsAgent&&(this.options.httpsAgent=new(iY()).Agent({keepAlive:!0,keepAliveMsecs:3e3})),this.setBaseURL(this.options.baseURL||"https://video.stream-io-api.com/video"),"undefined"!=typeof process&&process.env.STREAM_LOCAL_TEST_RUN&&this.setBaseURL("http://localhost:3030/video"),"undefined"!=typeof process&&process.env.STREAM_LOCAL_TEST_HOST&&this.setBaseURL(`http://${process.env.STREAM_LOCAL_TEST_HOST}/video`),this.axiosInstance=nM.create({...this.options,baseURL:this.baseURL}),this.wsConnection=null,this.wsPromise=null,this.setUserPromise=null,this.anonymous=!1,this.persistUserOnConnectionFailure=this.options?.persistUserOnConnectionFailure,this.tokenManager=new lZ(this.secret),this.consecutiveFailures=0,this.insightMetrics=new lq,this.defaultWSTimeoutWithFallback=6e3,this.defaultWSTimeout=15e3,this.logger=cj(i.logger)?i.logger:()=>null}}class l8{constructor(e,t){this.logLevel="warn",this.eventHandlersToUnregister=[],this.disconnectUser=async e=>{if(!this.streamClient.user&&!this.connectionPromise)return;let t=()=>this.streamClient.disconnectUser(e);this.disconnectionPromise=this.connectionPromise?this.connectionPromise.then(()=>t()):t(),this.disconnectionPromise.finally(()=>this.disconnectionPromise=void 0),await this.disconnectionPromise,this.eventHandlersToUnregister.forEach(e=>e()),this.eventHandlersToUnregister=[],this.writeableStateStore.setConnectedUser(void 0)},this.on=(e,t)=>this.streamClient.on(e,t),this.off=(e,t)=>this.streamClient.off(e,t),this.call=(e,t)=>new lB({streamClient:this.streamClient,id:t,type:e,clientStore:this.writeableStateStore}),this.createGuestUser=async e=>this.streamClient.doAxiosRequest("post","/guest",e,{publicEndpoint:!0}),this.queryCalls=async(e={})=>{let t=await this.streamClient.post("/calls",e),i=t.calls.map(t=>{let i=new lB({streamClient:this.streamClient,id:t.call.id,type:t.call.type,members:t.members,ownCapabilities:t.own_capabilities,watching:e.watch,clientStore:this.writeableStateStore});return i.state.updateFromCallResponse(t.call),i.applyDeviceConfig(),e.watch&&this.writeableStateStore.registerCall(i),i});return{...t,calls:i}},this.edges=async()=>this.streamClient.get("/edges"),this.addDevice=async(e,t,i,r,a)=>await this.streamClient.post("/devices",{id:e,push_provider:t,voip_token:a,...null!=r?{user_id:r}:{},...null!=i?{push_provider_name:i}:{}}),this.getDevices=async e=>await this.streamClient.get("/devices",e?{user_id:e}:{}),this.removeDevice=async(e,t)=>await this.streamClient.delete("/devices",{id:e,...t?{user_id:t}:{}}),this.onRingingCall=async e=>{let t=this.readOnlyStateStore.calls.find(t=>t.cid===e&&t.ringing);if(!t){let[i,r]=e.split(":");t=new lB({streamClient:this.streamClient,type:i,id:r,clientStore:this.writeableStateStore,ringing:!0}),await t.get()}return t},this.connectAnonymousUser=async(e,t)=>{let i=()=>this.streamClient.connectAnonymousUser(e,t);return this.connectionPromise=this.disconnectionPromise?this.disconnectionPromise.then(()=>i()):i(),this.connectionPromise.finally(()=>this.connectionPromise=void 0),this.connectionPromise};let i=oN,r="warn";if("string"==typeof e?(r=t?.logLevel||r,i=t?.logger||i):(r=e.options?.logLevel||r,i=e.options?.logger||i),oA(i,r),this.logger=oL(["client"]),"string"==typeof e)this.streamClient=new l5(e,{persistUserOnConnectionFailure:!0,...t,logLevel:r,logger:this.logger});else{this.streamClient=new l5(e.apiKey,{persistUserOnConnectionFailure:!0,...e.options,logLevel:r,logger:this.logger});let t=oz();t&&this.streamClient.setUserAgent(this.streamClient.getUserAgent()+`-video-${O[t.type].toLowerCase()}-sdk-${t.major}.${t.minor}.${t.patch}`)}if(this.writeableStateStore=new cf,this.readOnlyStateStore=new cm(this.writeableStateStore),"string"!=typeof e){let t=e.user,i=e.token||e.tokenProvider;t&&this.connectUser(t,i)}}get state(){return this.readOnlyStateStore}async connectUser(e,t){if("anonymous"===e.type)return e.id="!anon",this.connectAnonymousUser(e,t);let i=()=>this.streamClient.connectUser(e,t);"guest"===e.type&&(i=async()=>this.streamClient.connectGuestUser(e)),this.connectionPromise=this.disconnectionPromise?this.disconnectionPromise.then(()=>i()):i(),this.connectionPromise?.finally(()=>this.connectionPromise=void 0);let r=await this.connectionPromise;return r?.me&&this.writeableStateStore.setConnectedUser(r.me),this.eventHandlersToUnregister.push(this.on("connection.changed",e=>{if(e.online){let e=this.writeableStateStore.calls.filter(e=>e.watching).map(e=>e.cid);this.logger("info",`Rewatching calls after connection changed ${e.join(", ")}`),e.length>0&&this.queryCalls({watch:!0,filter_conditions:{cid:{$in:e}},sort:[{field:"cid",direction:1}]}).catch(e=>{this.logger("error","Failed to re-watch calls",e)})}})),this.eventHandlersToUnregister.push(this.on("call.created",t=>{if("call.created"!==t.type)return;let{call:i,members:r}=t;if(e.id===i.created_by.id){this.logger("warn","Received `call.created` sent by the current user");return}this.logger("info",`New call created and registered: ${i.cid}`);let a=new lB({streamClient:this.streamClient,type:i.type,id:i.id,members:r,clientStore:this.writeableStateStore});a.state.updateFromCallResponse(i),this.writeableStateStore.registerCall(a)})),this.eventHandlersToUnregister.push(this.on("call.ring",async t=>{if("call.ring"!==t.type)return;let{call:i,members:r}=t;if(e.id===i.created_by.id){this.logger("debug","Received `call.ring` sent by the current user so ignoring the event");return}let a=this.writeableStateStore.findCall(i.type,i.id);await a?.leave();let s=new lB({streamClient:this.streamClient,type:i.type,id:i.id,members:r,clientStore:this.writeableStateStore,ringing:!0});s.state.updateFromCallResponse(i),await s.get(),this.writeableStateStore.registerCall(s)})),r}async addVoipDevice(e,t,i,r){return await this.addDevice(e,t,i,r,!0)}}let l7={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class l9{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||l7,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,i,r){return r&&!this.debug?null:("string"==typeof e[0]&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new l9(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new l9(this.logger,e)}}var ue=new l9;class ut{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]||(this.observers[e]=new Map);let i=this.observers[e].get(t)||0;this.observers[e].set(t,i+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,i=Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(e=>{let[t,r]=e;for(let e=0;e<r;e++)t(...i)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(t=>{let[r,a]=t;for(let t=0;t<a;t++)r.apply(r,[e,...i])})}}function ui(){let e,t;let i=new Promise((i,r)=>{e=i,t=r});return i.resolve=e,i.reject=t,i}function un(e){return null==e?"":""+e}let ur=/###/g;function ua(e,t,i){function r(e){return e&&e.indexOf("###")>-1?e.replace(ur,"."):e}function a(){return!e||"string"==typeof e}let s="string"!=typeof t?t:t.split("."),o=0;for(;o<s.length-1;){if(a())return{};let t=r(s[o]);!e[t]&&i&&(e[t]=new i),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++o}return a()?{}:{obj:e,k:r(s[o])}}function us(e,t,i){let{obj:r,k:a}=ua(e,t,Object);if(void 0!==r||1===t.length){r[a]=i;return}let s=t[t.length-1],o=t.slice(0,t.length-1),l=ua(e,o,Object);for(;void 0===l.obj&&o.length;)s=`${o[o.length-1]}.${s}`,(l=ua(e,o=o.slice(0,o.length-1),Object))&&l.obj&&void 0!==l.obj[`${l.k}.${s}`]&&(l.obj=void 0);l.obj[`${l.k}.${s}`]=i}function uo(e,t){let{obj:i,k:r}=ua(e,t);if(i)return i[r]}function uc(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var ul={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function uu(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,e=>ul[e]):e}class up{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){let t=this.regExpMap.get(e);if(void 0!==t)return t;let i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}let ud=[" ",",","?","!",";"],uh=new up(20);function uf(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t])return e[t];let r=t.split(i),a=e;for(let e=0;e<r.length;){let t;if(!a||"object"!=typeof a)return;let s="";for(let o=e;o<r.length;++o)if(o!==e&&(s+=i),s+=r[o],void 0!==(t=a[s])){if(["string","number","boolean"].indexOf(typeof t)>-1&&o<r.length-1)continue;e+=o-e+1;break}a=t}return a}function um(e){return e&&e.indexOf("_")>0?e.replace("_","-"):e}class ug extends ut{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){0>this.options.ns.indexOf(e)&&this.options.ns.push(e)}removeNamespaces(e){let t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,i){let r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=void 0!==a.keySeparator?a.keySeparator:this.options.keySeparator,o=void 0!==a.ignoreJSONStructure?a.ignoreJSONStructure:this.options.ignoreJSONStructure;e.indexOf(".")>-1?r=e.split("."):(r=[e,t],i&&(Array.isArray(i)?r.push(...i):"string"==typeof i&&s?r.push(...i.split(s)):r.push(i)));let l=uo(this.data,r);return(!l&&!t&&!i&&e.indexOf(".")>-1&&(e=r[0],t=r[1],i=r.slice(2).join(".")),l||!o||"string"!=typeof i)?l:uf(this.data&&this.data[e]&&this.data[e][t],i,s)}addResource(e,t,i,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},s=void 0!==a.keySeparator?a.keySeparator:this.options.keySeparator,o=[e,t];i&&(o=o.concat(s?i.split(s):i)),e.indexOf(".")>-1&&(o=e.split("."),r=t,t=o[1]),this.addNamespaces(t),us(this.data,o,r),a.silent||this.emit("added",e,t,i,r)}addResources(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(let r in i)("string"==typeof i[r]||"[object Array]"===Object.prototype.toString.apply(i[r]))&&this.addResource(e,t,r,i[r],{silent:!0});r.silent||this.emit("added",e,t,i)}addResourceBundle(e,t,i,r,a){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},o=[e,t];e.indexOf(".")>-1&&(o=e.split("."),r=i,i=t,t=o[1]),this.addNamespaces(t);let l=uo(this.data,o)||{};r?function e(t,i,r){for(let a in i)"__proto__"!==a&&"constructor"!==a&&(a in t?"string"==typeof t[a]||t[a]instanceof String||"string"==typeof i[a]||i[a]instanceof String?r&&(t[a]=i[a]):e(t[a],i[a],r):t[a]=i[a]);return t}(l,i,a):l={...l,...i},us(this.data,o,l),s.silent||this.emit("added",e,t,i)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return(t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI)?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(e=>t[e]&&Object.keys(t[e]).length>0)}toJSON(){return this.data}}var ub={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,i,r,a){return e.forEach(e=>{this.processors[e]&&(t=this.processors[e].process(t,i,r,a))}),t}};let uv={};class uy extends ut{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),function(e,t,i){e.forEach(e=>{t[e]&&(i[e]=t[e])})}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=ue.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;let i=this.resolve(e,t);return i&&void 0!==i.res}extractFromKey(e,t){let i=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===i&&(i=":");let r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,a=t.ns||this.options.defaultNS||[],s=i&&e.indexOf(i)>-1,o=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!function(e,t,i){t=t||"",i=i||"";let r=ud.filter(e=>0>t.indexOf(e)&&0>i.indexOf(e));if(0===r.length)return!0;let a=uh.getRegExp(`(${r.map(e=>"?"===e?"\\?":e).join("|")})`),s=!a.test(e);if(!s){let t=e.indexOf(i);t>0&&!a.test(e.substring(0,t))&&(s=!0)}return s}(e,i,r);if(s&&!o){let t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:a};let s=e.split(i);(i!==r||i===r&&this.options.ns.indexOf(s[0])>-1)&&(a=s.shift()),e=s.join(r)}return"string"==typeof a&&(a=[a]),{key:e,namespaces:a}}translate(e,t,i){if("object"!=typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof t&&(t={...t}),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);let r=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,a=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:s,namespaces:o}=this.extractFromKey(e[e.length-1],t),l=o[o.length-1],u=t.lng||this.language,p=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&"cimode"===u.toLowerCase()){if(p){let e=t.nsSeparator||this.options.nsSeparator;return r?{res:`${l}${e}${s}`,usedKey:s,exactUsedKey:s,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:`${l}${e}${s}`}return r?{res:s,usedKey:s,exactUsedKey:s,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:s}let d=this.resolve(e,t),f=d&&d.res,m=d&&d.usedKey||s,g=d&&d.exactUsedKey||s,b=Object.prototype.toString.apply(f),v=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject,x="string"!=typeof f&&"boolean"!=typeof f&&"number"!=typeof f;if(y&&f&&x&&0>["[object Number]","[object Function]","[object RegExp]"].indexOf(b)&&!("string"==typeof v&&"[object Array]"===b)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,f,{...t,ns:o}):`key '${s} (${this.language})' returned an object instead of string.`;return r?(d.res=e,d.usedParams=this.getUsedParamsDetails(t),d):e}if(a){let e="[object Array]"===b,i=e?[]:{},r=e?g:m;for(let e in f)if(Object.prototype.hasOwnProperty.call(f,e)){let s=`${r}${a}${e}`;i[e]=this.translate(s,{...t,joinArrays:!1,ns:o}),i[e]===s&&(i[e]=f[e])}f=i}}else if(y&&"string"==typeof v&&"[object Array]"===b)(f=f.join(v))&&(f=this.extendTranslation(f,e,t,i));else{let r=!1,o=!1,p=void 0!==t.count&&"string"!=typeof t.count,m=uy.hasDefaultValue(t),g=p?this.pluralResolver.getSuffix(u,t.count,t):"",b=t.ordinal&&p?this.pluralResolver.getSuffix(u,t.count,{ordinal:!1}):"",v=p&&!t.ordinal&&0===t.count&&this.pluralResolver.shouldUseIntlApi(),y=v&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${g}`]||t[`defaultValue${b}`]||t.defaultValue;!this.isValidLookup(f)&&m&&(r=!0,f=y),this.isValidLookup(f)||(o=!0,f=s);let x=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&o?void 0:f,w=m&&y!==f&&this.options.updateMissing;if(o||r||w){if(this.logger.log(w?"updateKey":"missingKey",u,l,s,w?y:f),a){let e=this.resolve(s,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[],i=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&i&&i[0])for(let t=0;t<i.length;t++)e.push(i[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);let r=(e,i,r)=>{let a=m&&r!==f?r:x;this.options.missingKeyHandler?this.options.missingKeyHandler(e,l,i,a,w,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,l,i,a,w,t),this.emit("missingKey",e,l,i,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&p?e.forEach(e=>{let i=this.pluralResolver.getSuffixes(e,t);v&&t[`defaultValue${this.options.pluralSeparator}zero`]&&0>i.indexOf(`${this.options.pluralSeparator}zero`)&&i.push(`${this.options.pluralSeparator}zero`),i.forEach(i=>{r([e],s+i,t[`defaultValue${i}`]||y)})}):r(e,s,y))}f=this.extendTranslation(f,e,t,d,i),o&&f===s&&this.options.appendNamespaceToMissingKey&&(f=`${l}:${s}`),(o||r)&&this.options.parseMissingKeyHandler&&(f="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${s}`:s,r?f:void 0):this.options.parseMissingKeyHandler(f))}return r?(d.res=f,d.usedParams=this.getUsedParamsDetails(t),d):f}extendTranslation(e,t,i,r,a){var s=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!i.skipInterpolation){let o;i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});let l="string"==typeof e&&(i&&i.interpolation&&void 0!==i.interpolation.skipOnVariables?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(l){let t=e.match(this.interpolator.nestingRegexp);o=t&&t.length}let u=i.replace&&"string"!=typeof i.replace?i.replace:i;if(this.options.interpolation.defaultVariables&&(u={...this.options.interpolation.defaultVariables,...u}),e=this.interpolator.interpolate(e,u,i.lng||this.language,i),l){let t=e.match(this.interpolator.nestingRegexp);o<(t&&t.length)&&(i.nest=!1)}!i.lng&&"v1"!==this.options.compatibilityAPI&&r&&r.res&&(i.lng=r.usedLng),!1!==i.nest&&(e=this.interpolator.nest(e,function(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];return a&&a[0]===r[0]&&!i.context?(s.logger.warn(`It seems you are nesting recursively key: ${r[0]} in key: ${t[0]}`),null):s.translate(...r,t)},i)),i.interpolation&&this.interpolator.reset()}let o=i.postProcess||this.options.postProcess,l="string"==typeof o?[o]:o;return null!=e&&l&&l.length&&!1!==i.applyPostProcessor&&(e=ub.handle(l,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e){let t,i,r,a,s,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach(e=>{if(this.isValidLookup(t))return;let l=this.extractFromKey(e,o),u=l.key;i=u;let p=l.namespaces;this.options.fallbackNS&&(p=p.concat(this.options.fallbackNS));let d=void 0!==o.count&&"string"!=typeof o.count,f=d&&!o.ordinal&&0===o.count&&this.pluralResolver.shouldUseIntlApi(),m=void 0!==o.context&&("string"==typeof o.context||"number"==typeof o.context)&&""!==o.context,g=o.lngs?o.lngs:this.languageUtils.toResolveHierarchy(o.lng||this.language,o.fallbackLng);p.forEach(e=>{this.isValidLookup(t)||(s=e,!uv[`${g[0]}-${e}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(s)&&(uv[`${g[0]}-${e}`]=!0,this.logger.warn(`key "${i}" for languages "${g.join(", ")}" won't get resolved as namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(i=>{let s;if(this.isValidLookup(t))return;a=i;let l=[u];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(l,u,i,e,o);else{let e;d&&(e=this.pluralResolver.getSuffix(i,o.count,o));let t=`${this.options.pluralSeparator}zero`,r=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(l.push(u+e),o.ordinal&&0===e.indexOf(r)&&l.push(u+e.replace(r,this.options.pluralSeparator)),f&&l.push(u+t)),m){let i=`${u}${this.options.contextSeparator}${o.context}`;l.push(i),d&&(l.push(i+e),o.ordinal&&0===e.indexOf(r)&&l.push(i+e.replace(r,this.options.pluralSeparator)),f&&l.push(i+t))}}for(;s=l.pop();)this.isValidLookup(t)||(r=s,t=this.getResource(i,e,s,o))}))})}),{res:t,usedKey:i,exactUsedKey:r,usedLng:a,usedNS:s}}isValidLookup(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}getResource(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,i,r):this.resourceStore.getResource(e,t,i,r)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.replace&&"string"!=typeof e.replace,i=t?e.replace:e;if(t&&void 0!==e.count&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!t)for(let e of(i={...i},["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"]))delete i[e];return i}static hasDefaultValue(e){let t="defaultValue";for(let i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t===i.substring(0,t.length)&&void 0!==e[i])return!0;return!1}}function ux(e){return e.charAt(0).toUpperCase()+e.slice(1)}class uw{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ue.create("languageUtils")}getScriptPartFromCode(e){if(!(e=um(e))||0>e.indexOf("-"))return null;let t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase())?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(!(e=um(e))||0>e.indexOf("-"))return e;let t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if("string"==typeof e&&e.indexOf("-")>-1){let t=["hans","hant","latn","cyrl","cans","mong","arab"],i=e.split("-");return this.options.lowerCaseLng?i=i.map(e=>e.toLowerCase()):2===i.length?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),t.indexOf(i[1].toLowerCase())>-1&&(i[1]=ux(i[1].toLowerCase()))):3===i.length&&(i[0]=i[0].toLowerCase(),2===i[1].length&&(i[1]=i[1].toUpperCase()),"sgn"!==i[0]&&2===i[2].length&&(i[2]=i[2].toUpperCase()),t.indexOf(i[1].toLowerCase())>-1&&(i[1]=ux(i[1].toLowerCase())),t.indexOf(i[2].toLowerCase())>-1&&(i[2]=ux(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){let t;return e?(e.forEach(e=>{if(t)return;let i=this.formatLanguageCode(e);(!this.options.supportedLngs||this.isSupportedCode(i))&&(t=i)}),!t&&this.options.supportedLngs&&e.forEach(e=>{if(t)return;let i=this.getLanguagePartFromCode(e);if(this.isSupportedCode(i))return t=i;t=this.options.supportedLngs.find(e=>{if(e===i||!(0>e.indexOf("-")&&0>i.indexOf("-"))&&0===e.indexOf(i))return e})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];let i=e[t];return i||(i=e[this.getScriptPartFromCode(t)]),i||(i=e[this.formatLanguageCode(t)]),i||(i=e[this.getLanguagePartFromCode(t)]),i||(i=e.default),i||[]}toResolveHierarchy(e,t){let i=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],a=e=>{e&&(this.isSupportedCode(e)?r.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return"string"==typeof e&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&a(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&a(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&a(this.getLanguagePartFromCode(e))):"string"==typeof e&&a(this.formatLanguageCode(e)),i.forEach(e=>{0>r.indexOf(e)&&a(this.formatLanguageCode(e))}),r}}let uk=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],u_={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},uS=["v1","v2","v3"],uT=["v4"],uC={zero:0,one:1,two:2,few:3,many:4,other:5};class uE{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=ue.create("pluralResolver"),(!this.options.compatibilityJSON||uT.includes(this.options.compatibilityJSON))&&("undefined"==typeof Intl||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=function(){let e={};return uk.forEach(t=>{t.lngs.forEach(i=>{e[i]={numbers:t.nr,plurals:u_[t.fc]}})}),e}()}addRule(e,t){this.rules[e]=t}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(um("dev"===e?"en":e),{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.getRule(e,t);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}getPluralFormsOfKey(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,i).map(e=>`${t}${e}`)}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.getRule(e,t);return i?this.shouldUseIntlApi()?i.resolvedOptions().pluralCategories.sort((e,t)=>uC[e]-uC[t]).map(e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`):i.numbers.map(i=>this.getSuffix(e,i,t)):[]}getSuffix(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(e,i);return r?this.shouldUseIntlApi()?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${r.select(t)}`:this.getSuffixRetroCompatible(r,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){let i=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),r=e.numbers[i];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===r?r="plural":1===r&&(r=""));let a=()=>this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString();return"v1"===this.options.compatibilityJSON?1===r?"":"number"==typeof r?`_plural_${r.toString()}`:a():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?a():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}shouldUseIntlApi(){return!uS.includes(this.options.compatibilityJSON)}}function uR(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",a=!(arguments.length>4)||void 0===arguments[4]||arguments[4],s=function(e,t,i){let r=uo(e,i);return void 0!==r?r:uo(t,i)}(e,t,i);return!s&&a&&"string"==typeof i&&void 0===(s=uf(e,i,r))&&(s=uf(t,i,r)),s}class uj{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=ue.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});let t=e.interpolation;this.escape=void 0!==t.escape?t.escape:uu,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?uc(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?uc(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?uc(t.nestingPrefix):t.nestingPrefixEscaped||uc("$t("),this.nestingSuffix=t.nestingSuffix?uc(t.nestingSuffix):t.nestingSuffixEscaped||uc(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=(e,t)=>e&&e.source===t?(e.lastIndex=0,e):RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,i,r){let a,s,o;let l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(e){return e.replace(/\$/g,"$$$$")}let p=e=>{if(0>e.indexOf(this.formatSeparator)){let a=uR(t,l,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(a,void 0,i,{...r,...t,interpolationkey:e}):a}let a=e.split(this.formatSeparator),s=a.shift().trim(),o=a.join(this.formatSeparator).trim();return this.format(uR(t,l,s,this.options.keySeparator,this.options.ignoreJSONStructure),o,i,{...r,...t,interpolationkey:s})};this.resetRegExp();let d=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,f=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>u(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?u(this.escape(e)):u(e)}].forEach(t=>{for(o=0;a=t.regex.exec(e);){let i=a[1].trim();if(void 0===(s=p(i))){if("function"==typeof d){let t=d(e,a,r);s="string"==typeof t?t:""}else if(r&&Object.prototype.hasOwnProperty.call(r,i))s="";else if(f){s=a[0];continue}else this.logger.warn(`missed to pass in variable ${i} for interpolating ${e}`),s=""}else"string"==typeof s||this.useRawValueToEscape||(s=un(s));let l=t.safeValue(s);if(e=e.replace(a[0],l),f?(t.regex.lastIndex+=s.length,t.regex.lastIndex-=a[0].length):t.regex.lastIndex=0,++o>=this.maxReplaces)break}}),e}nest(e,t){let i,r,a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function o(e,t){let i=this.nestingOptionsSeparator;if(0>e.indexOf(i))return e;let r=e.split(RegExp(`${i}[ ]*{`)),s=`{${r[1]}`;e=r[0];let o=(s=this.interpolate(s,a)).match(/'/g),l=s.match(/"/g);(o&&o.length%2==0&&!l||l.length%2!=0)&&(s=s.replace(/'/g,'"'));try{a=JSON.parse(s),t&&(a={...t,...a})}catch(t){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,t),`${e}${i}${s}`}return delete a.defaultValue,e}for(;i=this.nestingRegexp.exec(e);){let l=[];(a=(a={...s}).replace&&"string"!=typeof a.replace?a.replace:a).applyPostProcessor=!1,delete a.defaultValue;let u=!1;if(-1!==i[0].indexOf(this.formatSeparator)&&!/{.*}/.test(i[1])){let e=i[1].split(this.formatSeparator).map(e=>e.trim());i[1]=e.shift(),l=e,u=!0}if((r=t(o.call(this,i[1].trim(),a),a))&&i[0]===e&&"string"!=typeof r)return r;"string"!=typeof r&&(r=un(r)),r||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),r=""),u&&(r=l.reduce((e,t)=>this.format(e,t,s.lng,{...s,interpolationkey:i[1].trim()}),r.trim())),e=e.replace(i[0],r),this.regexp.lastIndex=0}return e}}function uI(e){let t={};return function(i,r,a){let s=r+JSON.stringify(a),o=t[s];return o||(o=e(um(r),a),t[s]=o),o(i)}}class uO{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=ue.create("formatter"),this.options=e,this.formats={number:uI((e,t)=>{let i=new Intl.NumberFormat(e,{...t});return e=>i.format(e)}),currency:uI((e,t)=>{let i=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>i.format(e)}),datetime:uI((e,t)=>{let i=new Intl.DateTimeFormat(e,{...t});return e=>i.format(e)}),relativetime:uI((e,t)=>{let i=new Intl.RelativeTimeFormat(e,{...t});return e=>i.format(e,t.range||"day")}),list:uI((e,t)=>{let i=new Intl.ListFormat(e,{...t});return e=>i.format(e)})},this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},i=t.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=uI(t)}format(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t.split(this.formatSeparator).reduce((e,t)=>{let{formatName:a,formatOptions:s}=function(e){let t=e.toLowerCase().trim(),i={};if(e.indexOf("(")>-1){let r=e.split("(");t=r[0].toLowerCase().trim();let a=r[1].substring(0,r[1].length-1);"currency"===t&&0>a.indexOf(":")?i.currency||(i.currency=a.trim()):"relativetime"===t&&0>a.indexOf(":")?i.range||(i.range=a.trim()):a.split(";").forEach(e=>{if(!e)return;let[t,...r]=e.split(":"),a=r.join(":").trim().replace(/^'+|'+$/g,"");i[t.trim()]||(i[t.trim()]=a),"false"===a&&(i[t.trim()]=!1),"true"===a&&(i[t.trim()]=!0),isNaN(a)||(i[t.trim()]=parseInt(a,10))})}return{formatName:t,formatOptions:i}}(t);if(this.formats[a]){let t=e;try{let o=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},l=o.locale||o.lng||r.locale||r.lng||i;t=this.formats[a](e,l,{...s,...r,...o})}catch(e){this.logger.warn(e)}return t}return this.logger.warn(`there was no format function for ${a}`),e},e)}}class uP extends ut{constructor(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=i,this.languageUtils=i.languageUtils,this.options=r,this.logger=ue.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(i,r.backend,r)}queueLoad(e,t,i,r){let a={},s={},o={},l={};return e.forEach(e=>{let r=!0;t.forEach(t=>{let o=`${e}|${t}`;!i.reload&&this.store.hasResourceBundle(e,t)?this.state[o]=2:this.state[o]<0||(1===this.state[o]?void 0===s[o]&&(s[o]=!0):(this.state[o]=1,r=!1,void 0===s[o]&&(s[o]=!0),void 0===a[o]&&(a[o]=!0),void 0===l[t]&&(l[t]=!0)))}),r||(o[e]=!0)}),(Object.keys(a).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(a),pending:Object.keys(s),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,t,i){let r=e.split("|"),a=r[0],s=r[1];t&&this.emit("failedLoading",a,s,t),i&&this.store.addResourceBundle(a,s,i),this.state[e]=t?-1:2;let o={};this.queue.forEach(i=>{(function(e,t,i,r){let{obj:a,k:s}=ua(e,t,Object);a[s]=a[s]||[],r&&(a[s]=a[s].concat(i)),r||a[s].push(i)})(i.loaded,[a],s),void 0!==i.pending[e]&&(delete i.pending[e],i.pendingCount--),t&&i.errors.push(t),0!==i.pendingCount||i.done||(Object.keys(i.loaded).forEach(e=>{o[e]||(o[e]={});let t=i.loaded[e];t.length&&t.forEach(t=>{void 0===o[e][t]&&(o[e][t]=!0)})}),i.done=!0,i.errors.length?i.callback(i.errors):i.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(e=>!e.done)}read(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:i,tried:r,wait:a,callback:s});return}this.readingCalls++;let o=(o,l)=>{if(this.readingCalls--,this.waitingReads.length>0){let e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}if(o&&l&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,i,r+1,2*a,s)},a);return}s(o,l)},l=this.backend[i].bind(this.backend);if(2===l.length){try{let i=l(e,t);i&&"function"==typeof i.then?i.then(e=>o(null,e)).catch(o):o(null,i)}catch(e){o(e)}return}return l(e,t,o)}prepareLoading(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);let a=this.queueLoad(e,t,i,r);if(!a.toLoad.length)return a.pending.length||r(),null;a.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,i){this.prepareLoading(e,t,{},i)}reload(e,t,i){this.prepareLoading(e,t,{reload:!0},i)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=e.split("|"),r=i[0],a=i[1];this.read(r,a,"read",void 0,void 0,(i,s)=>{i&&this.logger.warn(`${t}loading namespace ${a} for language ${r} failed`,i),!i&&s&&this.logger.log(`${t}loaded namespace ${a} for language ${r}`,s),this.loaded(e,i,s)})}saveMissing(e,t,i,r,a){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${i}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(null!=i&&""!==i){if(this.backend&&this.backend.create){let l={...s,isUpdate:a},u=this.backend.create.bind(this.backend);if(u.length<6)try{let a;(a=5===u.length?u(e,t,i,r,l):u(e,t,i,r))&&"function"==typeof a.then?a.then(e=>o(null,e)).catch(o):o(null,a)}catch(e){o(e)}else u(e,t,i,r,o,l)}e&&e[0]&&this.store.addResource(e[0],t,i,r)}}}function uN(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let t={};if("object"==typeof e[1]&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){let i=e[3]||e[2];Object.keys(i).forEach(e=>{t[e]=i[e]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function uA(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&0>e.supportedLngs.indexOf("cimode")&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function uD(){}class uL extends ut{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=uA(e),this.services={},this.logger=ue,this.modules={external:[]},function(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(t=>{"function"==typeof e[t]&&(e[t]=e[t].bind(e))})}(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(i=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:0>t.ns.indexOf("translation")&&(t.defaultNS=t.ns[0]));let r=uN();function a(e){return e?"function"==typeof e?new e:e:null}if(this.options={...r,...this.options,...uA(t)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...r.interpolation,...this.options.interpolation}),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){let t;this.modules.logger?ue.init(a(this.modules.logger),this.options):ue.init(null,this.options),this.modules.formatter?t=this.modules.formatter:"undefined"!=typeof Intl&&(t=uO);let i=new uw(this.options);this.store=new ug(this.options.resources,this.options);let s=this.services;s.logger=ue,s.resourceStore=this.store,s.languageUtils=i,s.pluralResolver=new uE(i,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),t&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(s.formatter=a(t),s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new uj(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new uP(a(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",function(t){for(var i=arguments.length,r=Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];e.emit(t,...r)}),this.modules.languageDetector&&(s.languageDetector=a(this.modules.languageDetector),s.languageDetector.init&&s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=a(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new uy(this.services,this.options),this.translator.on("*",function(t){for(var i=arguments.length,r=Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];e.emit(t,...r)}),this.modules.external.forEach(e=>{e.init&&e.init(this)})}if(this.format=this.options.interpolation.format,i||(i=uD),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(t=>{this[t]=function(){return e.store[t](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(t=>{this[t]=function(){return e.store[t](...arguments),e}});let s=ui(),o=()=>{let e=(e,t)=>{this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),s.resolve(t),i(e,t)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initImmediate?o():setTimeout(o,0),s}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:uD,i=t,r="string"==typeof e?e:this.language;if("function"==typeof e&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return i();let e=[],t=t=>{t&&"cimode"!==t&&this.services.languageUtils.toResolveHierarchy(t).forEach(t=>{"cimode"!==t&&0>e.indexOf(t)&&e.push(t)})};r?t(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e=>t(e)),this.options.preload&&this.options.preload.forEach(e=>t(e)),this.services.backendConnector.load(e,this.options.ns,e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),i(e)})}else i(null)}reloadResources(e,t,i){let r=ui();return e||(e=this.languages),t||(t=this.options.ns),i||(i=uD),this.services.backendConnector.reload(e,t,e=>{r.resolve(),i(e)}),r}use(e){if(!e)throw Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&ub.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let e=0;e<this.languages.length;e++){let t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}}changeLanguage(e,t){var i=this;this.isLanguageChangingTo=e;let r=ui();this.emit("languageChanging",e);let a=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},s=(e,s)=>{s?(a(s),this.translator.changeLanguage(s),this.isLanguageChangingTo=void 0,this.emit("languageChanged",s),this.logger.log("languageChanged",s)):this.isLanguageChangingTo=void 0,r.resolve(function(){return i.t(...arguments)}),t&&t(e,function(){return i.t(...arguments)})},o=t=>{e||t||!this.services.languageDetector||(t=[]);let i="string"==typeof t?t:this.services.languageUtils.getBestMatchFromCodes(t);i&&(this.language||a(i),this.translator.language||this.translator.changeLanguage(i),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(i)),this.loadResources(i,e=>{s(e,i)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e):o(this.services.languageDetector.detect()),r}getFixedT(e,t,i){var r=this;let a=function(e,t){let s,o;if("object"!=typeof t){for(var l=arguments.length,u=Array(l>2?l-2:0),p=2;p<l;p++)u[p-2]=arguments[p];s=r.options.overloadTranslationOptionHandler([e,t].concat(u))}else s={...t};s.lng=s.lng||a.lng,s.lngs=s.lngs||a.lngs,s.ns=s.ns||a.ns,s.keyPrefix=s.keyPrefix||i||a.keyPrefix;let d=r.options.keySeparator||".";return o=s.keyPrefix&&Array.isArray(e)?e.map(e=>`${s.keyPrefix}${d}${e}`):s.keyPrefix?`${s.keyPrefix}${d}${e}`:e,r.t(o,s)};return"string"==typeof e?a.lng=e:a.lngs=e,a.ns=t,a.keyPrefix=i,a}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let i=t.lng||this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,a=this.languages[this.languages.length-1];if("cimode"===i.toLowerCase())return!0;let s=(e,t)=>{let i=this.services.backendConnector.state[`${e}|${t}`];return -1===i||2===i};if(t.precheck){let e=t.precheck(this,s);if(void 0!==e)return e}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(i,e)&&(!r||s(a,e)))}loadNamespaces(e,t){let i=ui();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach(e=>{0>this.options.ns.indexOf(e)&&this.options.ns.push(e)}),this.loadResources(e=>{i.resolve(),t&&t(e)}),i):(t&&t(),Promise.resolve())}loadLanguages(e,t){let i=ui();"string"==typeof e&&(e=[e]);let r=this.options.preload||[],a=e.filter(e=>0>r.indexOf(e));return a.length?(this.options.preload=r.concat(a),this.loadResources(e=>{i.resolve(),t&&t(e)}),i):(t&&t(),Promise.resolve())}dir(e){return(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),e)?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf((this.services&&this.services.languageUtils||new uw(uN())).getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}static createInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new uL(e,t)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:uD,i=e.forkResourceStore;i&&delete e.forkResourceStore;let r={...this.options,...e,isClone:!0},a=new uL(r);return(void 0!==e.debug||void 0!==e.prefix)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(e=>{a[e]=this[e]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},i&&(a.store=new ug(this.store.data,r),a.services.resourceStore=a.store),a.translator=new uy(a.services,r),a.translator.on("*",function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];a.emit(e,...i)}),a.init(r,t),a.translator.options=r,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}let uU=uL.createInstance();uU.createInstance=uL.createInstance,uU.createInstance,uU.dir,uU.init,uU.loadResources,uU.reloadResources,uU.use,uU.changeLanguage,uU.getFixedT,uU.t,uU.exists,uU.setDefaultNamespace,uU.hasLoadedNamespace,uU.loadNamespaces,uU.loadLanguages;let uM=(0,ee.createContext)(void 0),uF=()=>(0,ee.useContext)(uM),u$="stream-video",uB={debug:!1,currentLanguage:"en"},uq=Object.entries({}).reduce((e,[t,i])=>(e[t]={[u$]:i},e),{}),uV=e=>e;class uz{constructor(e={}){this.t=uV,this.init=async()=>{try{this.t=await this.i18nInstance.init()}catch(e){console.error(`Failed to initialize translations: ${JSON.stringify(e)}`)}return this},this.changeLanguage=async(e,t)=>{this._checkIsInitialized()&&(await this.i18nInstance.changeLanguage(e||void 0),t?.(this.currentLanguage))},this.registerTranslationsForLanguage=({lng:e,translations:t})=>{this._checkIsInitialized()&&this.i18nInstance.addResourceBundle(e,u$,t,!0,!0)},this._checkIsInitialized=()=>(this.i18nInstance.isInitialized||console.warn("I18n instance is not initialized. Call yourStreamI18nInstance.init()."),this.i18nInstance.isInitialized);let{debug:t=uB.debug,currentLanguage:i=uB.currentLanguage,translationsOverrides:r}=e;this.i18nInstance=uU.createInstance({debug:t,defaultNS:u$,fallbackLng:!1,interpolation:{escapeValue:!1},keySeparator:!1,lng:i,nsSeparator:!1,parseMissingKeyHandler:e=>e,resources:uq}),r&&this.i18nInstance.on("initialized",()=>{Object.entries(r).forEach(([e,t])=>{this.registerTranslationsForLanguage({lng:e,translations:t})})})}get currentLanguage(){return this._checkIsInitialized(),this.i18nInstance.language}get isInitialized(){return this.i18nInstance.isInitialized}}let uW=(0,ee.createContext)({t:uV}),uH=({children:e,...t})=>{let{i18n:i,t:r}=uG(t);return(0,Z.jsx)(uW.Provider,{value:{t:r,i18n:i},children:e})},uG=({i18nInstance:e,language:t,translationsOverrides:i})=>{let[r]=(0,ee.useState)(()=>e||new uz({currentLanguage:t,translationsOverrides:i})),[a,s]=(0,ee.useState)(()=>uV);return(0,ee.useEffect)(()=>{let{isInitialized:e}=r;if(!e){r.init().then(e=>s(()=>e.i18nInstance.t));return}t&&r?.currentLanguage!==t&&r.changeLanguage(t).catch(e=>{console.log("Error while changing language",e)})},[r,e,t,i]),{i18n:r,t:a}},uK=()=>(0,ee.useContext)(uW),uY=(0,ee.createContext)(void 0),uJ=({children:e,client:t,i18nInstance:i,language:r,translationsOverrides:a})=>(0,Z.jsx)(uY.Provider,{value:t,children:(0,Z.jsx)(uH,{i18nInstance:i,language:r,translationsOverrides:a,children:e})}),uX=e=>{let[t,i]=(0,ee.useState)(()=>o6.getCurrentValue(e));return(0,ee.useEffect)(()=>{let t=e.subscribe(i);return()=>{t.unsubscribe()}},[e]),t},uQ=()=>{let e=uF();return e?e.state:(console.warn('You are using useCallState() outside a Call context. Please wrap your component in <StreamCall /> and provide a "call" instance.'),new ch)};var uZ=Object.freeze({__proto__:null,useAnonymousParticipantCount:()=>{let{anonymousParticipantCount$:e}=uQ();return uX(e)},useCallBlockedUserIds:()=>{let{blockedUserIds$:e}=uQ();return uX(e)},useCallCallingState:()=>{let{callingState$:e}=uQ();return uX(e)},useCallCreatedAt:()=>{let{createdAt$:e}=uQ();return uX(e)},useCallCreatedBy:()=>{let{createdBy$:e}=uQ();return uX(e)},useCallCustomData:()=>{let{custom$:e}=uQ();return uX(e)},useCallEgress:()=>{let{egress$:e}=uQ();return uX(e)},useCallEndedAt:()=>{let{endedAt$:e}=uQ();return uX(e)},useCallEndedBy:()=>{let{endedBy$:e}=uQ();return uX(e)},useCallIngress:()=>{let{ingress$:e}=uQ();return uX(e)},useCallMembers:()=>{let{members$:e}=uQ();return uX(e)},useCallSession:()=>{let{session$:e}=uQ();return uX(e)},useCallSettings:()=>{let{settings$:e}=uQ();return uX(e)},useCallStartedAt:()=>{let{startedAt$:e}=uQ();return uX(e)},useCallStartsAt:()=>{let{startsAt$:e}=uQ();return uX(e)},useCallState:uQ,useCallStatsReport:()=>{let{callStatsReport$:e}=uQ();return uX(e)},useCallThumbnail:()=>{let{thumbnails$:e}=uQ();return uX(e)},useCallUpdatedAt:()=>{let{updatedAt$:e}=uQ();return uX(e)},useCameraState:()=>{let{camera:e}=uF(),t=(0,ee.useMemo)(()=>e.listDevices(),[e]),{state:i}=e,r=uX(i.status$),a=uX(i.direction$),s=uX(i.mediaStream$),o=uX(i.selectedDevice$);return{camera:e,status:r,isEnabled:"enabled"===r,direction:a,mediaStream:s,devices:uX(t),hasBrowserPermission:uX(i.hasBrowserPermission$),selectedDevice:o,isMute:"enabled"!==r}},useDominantSpeaker:()=>{let{dominantSpeaker$:e}=uQ();return uX(e)},useHasOngoingScreenShare:()=>{let{hasOngoingScreenShare$:e}=uQ();return uX(e)},useIsCallHLSBroadcastingInProgress:()=>{let{egress$:e}=uQ(),t=uX(e);return!!t&&t.broadcasting},useIsCallLive:()=>{let{backstage$:e}=uQ();return!uX(e)},useIsCallRecordingInProgress:()=>{let{recording$:e}=uQ();return uX(e)},useIsCallTranscribingInProgress:()=>{let{transcribing$:e}=uQ();return uX(e)},useLocalParticipant:()=>{let{localParticipant$:e}=uQ();return uX(e)},useMicrophoneState:()=>{let{microphone:e}=uF(),t=(0,ee.useMemo)(()=>e.listDevices(),[e]),{state:i}=e,r=uX(i.status$),a=uX(i.mediaStream$),s=uX(i.selectedDevice$),o=uX(t);return{microphone:e,status:r,isEnabled:"enabled"===r,mediaStream:a,devices:o,selectedDevice:s,hasBrowserPermission:uX(i.hasBrowserPermission$),isSpeakingWhileMuted:uX(i.speakingWhileMuted$),isMute:"enabled"!==r}},useParticipantCount:()=>{let{participantCount$:e}=uQ();return uX(e)},useParticipants:({sortBy:e}={})=>{let{participants$:t}=uQ(),i=uX(t);return(0,ee.useMemo)(()=>e?[...i].sort(e):i,[i,e])},useRemoteParticipants:()=>{let{remoteParticipants$:e}=uQ();return uX(e)},useScreenShareState:()=>{let{screenShare:e}=uF(),t=uX(e.state.status$),i=uX(e.state.mediaStream$);return{screenShare:e,mediaStream:i,status:t,isMute:"enabled"!==t}},useSpeakerState:()=>{let{speaker:e}=uF(),t=uX((0,ee.useMemo)(()=>e.listDevices(),[e])),i=uX(e.state.selectedDevice$);return{speaker:e,devices:t,selectedDevice:i,isDeviceSelectionSupported:e.state.isDeviceSelectionSupported}}});let u0=()=>{let{ownCapabilities$:e}=uQ();return uX(e)},u1=()=>uZ,u2=({canRequestOnly:e,hasPermissionsOnly:t,requiredGrants:i,requireAll:r=!0,children:a})=>{let s=uF(),o=u0(),{useCallSettings:l}=u1(),u=l(),p=i[r?"every":"some"](e=>o?.includes(e));if(t)return p?(0,Z.jsx)(Z.Fragment,{children:a}):null;let d=i.some(e=>s?.permissionsContext.canRequest(e,u));return e?d?(0,Z.jsx)(Z.Fragment,{children:a}):null:p||d?(0,Z.jsx)(Z.Fragment,{children:a}):null},u3=function(){for(var e,t,i=0,r="",a=arguments.length;i<a;i++)(e=arguments[i])&&(t=function e(t){var i,r,a="";if("string"==typeof t||"number"==typeof t)a+=t;else if("object"==typeof t){if(Array.isArray(t)){var s=t.length;for(i=0;i<s;i++)t[i]&&(r=e(t[i]))&&(a&&(a+=" "),a+=r)}else for(r in t)t[r]&&(a&&(a+=" "),a+=r)}return a}(e))&&(r&&(r+=" "),r+=t);return r},u4=Math.min,u6=Math.max,u5=Math.round,u8=Math.floor,u7=e=>({x:e,y:e}),u9={left:"right",right:"left",bottom:"top",top:"bottom"},pe={start:"end",end:"start"};function pt(e,t){return"function"==typeof e?e(t):e}function pi(e){return e.split("-")[0]}function pn(e){return e.split("-")[1]}function pr(e){return"x"===e?"y":"x"}function pa(e){return"y"===e?"height":"width"}function ps(e){return["top","bottom"].includes(pi(e))?"y":"x"}function po(e){return e.replace(/start|end/g,e=>pe[e])}function pc(e){return e.replace(/left|right|bottom|top/g,e=>u9[e])}function pl(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function pu(e,t,i){let r,{reference:a,floating:s}=e,o=ps(t),l=pr(ps(t)),u=pa(l),p=pi(t),d="y"===o,f=a.x+a.width/2-s.width/2,m=a.y+a.height/2-s.height/2,g=a[u]/2-s[u]/2;switch(p){case"top":r={x:f,y:a.y-s.height};break;case"bottom":r={x:f,y:a.y+a.height};break;case"right":r={x:a.x+a.width,y:m};break;case"left":r={x:a.x-s.width,y:m};break;default:r={x:a.x,y:a.y}}switch(pn(t)){case"start":r[l]-=g*(i&&d?-1:1);break;case"end":r[l]+=g*(i&&d?-1:1)}return r}let pp=async(e,t,i)=>{let{placement:r="bottom",strategy:a="absolute",middleware:s=[],platform:o}=i,l=s.filter(Boolean),u=await (null==o.isRTL?void 0:o.isRTL(t)),p=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=pu(p,r,u),m=r,g={},b=0;for(let i=0;i<l.length;i++){let{name:s,fn:v}=l[i],{x:y,y:x,data:w,reset:k}=await v({x:d,y:f,initialPlacement:r,placement:m,strategy:a,middlewareData:g,rects:p,platform:o,elements:{reference:e,floating:t}});d=null!=y?y:d,f=null!=x?x:f,g={...g,[s]:{...g[s],...w}},k&&b<=50&&(b++,"object"==typeof k&&(k.placement&&(m=k.placement),k.rects&&(p=!0===k.rects?await o.getElementRects({reference:e,floating:t,strategy:a}):k.rects),{x:d,y:f}=pu(p,m,u)),i=-1)}return{x:d,y:f,placement:m,strategy:a,middlewareData:g}};async function pd(e,t){var i;void 0===t&&(t={});let{x:r,y:a,platform:s,rects:o,elements:l,strategy:u}=e,{boundary:p="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:g=0}=pt(t,e),b="number"!=typeof g?{top:0,right:0,bottom:0,left:0,...g}:{top:g,right:g,bottom:g,left:g},v=l[m?"floating"===f?"reference":"floating":f],y=pl(await s.getClippingRect({element:null==(i=await (null==s.isElement?void 0:s.isElement(v)))||i?v:v.contextElement||await (null==s.getDocumentElement?void 0:s.getDocumentElement(l.floating)),boundary:p,rootBoundary:d,strategy:u})),x="floating"===f?{...o.floating,x:r,y:a}:o.reference,w=await (null==s.getOffsetParent?void 0:s.getOffsetParent(l.floating)),k=await (null==s.isElement?void 0:s.isElement(w))&&await (null==s.getScale?void 0:s.getScale(w))||{x:1,y:1},_=pl(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:w,strategy:u}):x);return{top:(y.top-_.top+b.top)/k.y,bottom:(_.bottom-y.bottom+b.bottom)/k.y,left:(y.left-_.left+b.left)/k.x,right:(_.right-y.right+b.right)/k.x}}async function ph(e,t){let{placement:i,platform:r,elements:a}=e,s=await (null==r.isRTL?void 0:r.isRTL(a.floating)),o=pi(i),l=pn(i),u="y"===ps(i),p=["left","top"].includes(o)?-1:1,d=s&&u?-1:1,f=pt(t,e),{mainAxis:m,crossAxis:g,alignmentAxis:b}="number"==typeof f?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return l&&"number"==typeof b&&(g="end"===l?-1*b:b),u?{x:g*d,y:m*p}:{x:m*p,y:g*d}}function pf(e){return pb(e)?(e.nodeName||"").toLowerCase():"#document"}function pm(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function pg(e){var t;return null==(t=(pb(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function pb(e){return e instanceof Node||e instanceof pm(e).Node}function pv(e){return e instanceof Element||e instanceof pm(e).Element}function py(e){return e instanceof HTMLElement||e instanceof pm(e).HTMLElement}function px(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof pm(e).ShadowRoot)}function pw(e){let{overflow:t,overflowX:i,overflowY:r,display:a}=pT(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+i)&&!["inline","contents"].includes(a)}function pk(e){let t=p_(),i=pT(e);return"none"!==i.transform||"none"!==i.perspective||!!i.containerType&&"normal"!==i.containerType||!t&&!!i.backdropFilter&&"none"!==i.backdropFilter||!t&&!!i.filter&&"none"!==i.filter||["transform","perspective","filter"].some(e=>(i.willChange||"").includes(e))||["paint","layout","strict","content"].some(e=>(i.contain||"").includes(e))}function p_(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}function pS(e){return["html","body","#document"].includes(pf(e))}function pT(e){return pm(e).getComputedStyle(e)}function pC(e){return pv(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function pE(e){if("html"===pf(e))return e;let t=e.assignedSlot||e.parentNode||px(e)&&e.host||pg(e);return px(t)?t.host:t}function pR(e,t,i){var r;void 0===t&&(t=[]),void 0===i&&(i=!0);let a=function e(t){let i=pE(t);return pS(i)?t.ownerDocument?t.ownerDocument.body:t.body:py(i)&&pw(i)?i:e(i)}(e),s=a===(null==(r=e.ownerDocument)?void 0:r.body),o=pm(a);return s?t.concat(o,o.visualViewport||[],pw(a)?a:[],o.frameElement&&i?pR(o.frameElement):[]):t.concat(a,pR(a,[],i))}function pj(e){let t=pT(e),i=parseFloat(t.width)||0,r=parseFloat(t.height)||0,a=py(e),s=a?e.offsetWidth:i,o=a?e.offsetHeight:r,l=u5(i)!==s||u5(r)!==o;return l&&(i=s,r=o),{width:i,height:r,$:l}}function pI(e){return pv(e)?e:e.contextElement}function pO(e){let t=pI(e);if(!py(t))return u7(1);let i=t.getBoundingClientRect(),{width:r,height:a,$:s}=pj(t),o=(s?u5(i.width):i.width)/r,l=(s?u5(i.height):i.height)/a;return o&&Number.isFinite(o)||(o=1),l&&Number.isFinite(l)||(l=1),{x:o,y:l}}let pP=u7(0);function pN(e){let t=pm(e);return p_()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:pP}function pA(e,t,i,r){var a;void 0===t&&(t=!1),void 0===i&&(i=!1);let s=e.getBoundingClientRect(),o=pI(e),l=u7(1);t&&(r?pv(r)&&(l=pO(r)):l=pO(e));let u=(void 0===(a=i)&&(a=!1),r&&(!a||r===pm(o))&&a)?pN(o):u7(0),p=(s.left+u.x)/l.x,d=(s.top+u.y)/l.y,f=s.width/l.x,m=s.height/l.y;if(o){let e=pm(o),t=r&&pv(r)?pm(r):r,i=e,a=i.frameElement;for(;a&&r&&t!==i;){let e=pO(a),t=a.getBoundingClientRect(),r=pT(a),s=t.left+(a.clientLeft+parseFloat(r.paddingLeft))*e.x,o=t.top+(a.clientTop+parseFloat(r.paddingTop))*e.y;p*=e.x,d*=e.y,f*=e.x,m*=e.y,p+=s,d+=o,a=(i=pm(a)).frameElement}}return pl({width:f,height:m,x:p,y:d})}let pD=[":popover-open",":modal"];function pL(e){return pD.some(t=>{try{return e.matches(t)}catch(e){return!1}})}function pU(e){return pA(pg(e)).left+pC(e).scrollLeft}function pM(e,t,i){let r;if("viewport"===t)r=function(e,t){let i=pm(e),r=pg(e),a=i.visualViewport,s=r.clientWidth,o=r.clientHeight,l=0,u=0;if(a){s=a.width,o=a.height;let e=p_();(!e||e&&"fixed"===t)&&(l=a.offsetLeft,u=a.offsetTop)}return{width:s,height:o,x:l,y:u}}(e,i);else if("document"===t)r=function(e){let t=pg(e),i=pC(e),r=e.ownerDocument.body,a=u6(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=u6(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight),o=-i.scrollLeft+pU(e),l=-i.scrollTop;return"rtl"===pT(r).direction&&(o+=u6(t.clientWidth,r.clientWidth)-a),{width:a,height:s,x:o,y:l}}(pg(e));else if(pv(t))r=function(e,t){let i=pA(e,!0,"fixed"===t),r=i.top+e.clientTop,a=i.left+e.clientLeft,s=py(e)?pO(e):u7(1),o=e.clientWidth*s.x;return{width:o,height:e.clientHeight*s.y,x:a*s.x,y:r*s.y}}(t,i);else{let i=pN(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return pl(r)}function pF(e,t){return py(e)&&"fixed"!==pT(e).position?t?t(e):e.offsetParent:null}function p$(e,t){let i=pm(e);if(!py(e)||pL(e))return i;let r=pF(e,t);for(;r&&["table","td","th"].includes(pf(r))&&"static"===pT(r).position;)r=pF(r,t);return r&&("html"===pf(r)||"body"===pf(r)&&"static"===pT(r).position&&!pk(r))?i:r||function(e){let t=pE(e);for(;py(t)&&!pS(t);){if(pk(t))return t;t=pE(t)}return null}(e)||i}let pB=async function(e){let t=this.getOffsetParent||p$,i=this.getDimensions;return{reference:function(e,t,i){let r=py(t),a=pg(t),s="fixed"===i,o=pA(e,!0,s,t),l={scrollLeft:0,scrollTop:0},u=u7(0);if(r||!r&&!s){if(("body"!==pf(t)||pw(a))&&(l=pC(t)),r){let e=pA(t,!0,s,t);u.x=e.x+t.clientLeft,u.y=e.y+t.clientTop}else a&&(u.x=pU(a))}return{x:o.left+l.scrollLeft-u.x,y:o.top+l.scrollTop-u.y,width:o.width,height:o.height}}(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await i(e.floating)}}},pq={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:i,offsetParent:r,strategy:a}=e,s="fixed"===a,o=pg(r),l=!!t&&pL(t.floating);if(r===o||l&&s)return i;let u={scrollLeft:0,scrollTop:0},p=u7(1),d=u7(0),f=py(r);if((f||!f&&!s)&&(("body"!==pf(r)||pw(o))&&(u=pC(r)),py(r))){let e=pA(r);p=pO(r),d.x=e.x+r.clientLeft,d.y=e.y+r.clientTop}return{width:i.width*p.x,height:i.height*p.y,x:i.x*p.x-u.scrollLeft*p.x+d.x,y:i.y*p.y-u.scrollTop*p.y+d.y}},getDocumentElement:pg,getClippingRect:function(e){let{element:t,boundary:i,rootBoundary:r,strategy:a}=e,s=[..."clippingAncestors"===i?function(e,t){let i=t.get(e);if(i)return i;let r=pR(e,[],!1).filter(e=>pv(e)&&"body"!==pf(e)),a=null,s="fixed"===pT(e).position,o=s?pE(e):e;for(;pv(o)&&!pS(o);){let t=pT(o),i=pk(o);i||"fixed"!==t.position||(a=null),(s?!i&&!a:!i&&"static"===t.position&&!!a&&["absolute","fixed"].includes(a.position)||pw(o)&&!i&&function e(t,i){let r=pE(t);return!(r===i||!pv(r)||pS(r))&&("fixed"===pT(r).position||e(r,i))}(e,o))?r=r.filter(e=>e!==o):a=t,o=pE(o)}return t.set(e,r),r}(t,this._c):[].concat(i),r],o=s[0],l=s.reduce((e,i)=>{let r=pM(t,i,a);return e.top=u6(r.top,e.top),e.right=u4(r.right,e.right),e.bottom=u4(r.bottom,e.bottom),e.left=u6(r.left,e.left),e},pM(t,o,a));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:p$,getElementRects:pB,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){let{width:t,height:i}=pj(e);return{width:t,height:i}},getScale:pO,isElement:pv,isRTL:function(e){return"rtl"===pT(e).direction}},pV=(e,t,i)=>{let r=new Map,a={platform:pq,...i},s={...a.platform,_c:r};return pp(e,t,{...a,platform:s})};var pz=i(81202),pW="undefined"!=typeof document?ee.useLayoutEffect:ee.useEffect;function pH(e,t){let i,r,a;if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((i=e.length)!==t.length)return!1;for(r=i;0!=r--;)if(!pH(e[r],t[r]))return!1;return!0}if((i=(a=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(r=i;0!=r--;)if(!({}).hasOwnProperty.call(t,a[r]))return!1;for(r=i;0!=r--;){let i=a[r];if(("_owner"!==i||!e.$$typeof)&&!pH(e[i],t[i]))return!1}return!0}return e!=e&&t!=t}function pG(e,t){return Math.round(1*t)/1}function pK(e){let t=ee.useRef(e);return pW(()=>{t.current=e}),t}let pY=et["useInsertionEffect".toString()]||(e=>e());var pJ="undefined"!=typeof document?ee.useLayoutEffect:ee.useEffect;let pX=!1,pQ=0,pZ=()=>"floating-ui-"+pQ++,p0=et["useId".toString()]||function(){let[e,t]=ee.useState(()=>pX?pZ():void 0);return pJ(()=>{null==e&&t(pZ())},[]),ee.useEffect(()=>{pX||(pX=!0)},[]),e},p1=ee.createContext(null),p2=ee.createContext(null),p3=()=>{var e;return(null==(e=ee.useContext(p1))?void 0:e.id)||null},p4=()=>ee.useContext(p2),p6=e=>e&&(e.host||p6(e.parentNode)),p5=()=>({getShadowRoot:!0,displayCheck:"function"==typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"});var p8=i(7470),p7=i.n(p8);let p9=dg(),de=e=>dd(e,p9),dt=dg();de.write=e=>dd(e,dt);let di=dg();de.onStart=e=>dd(e,di);let dn=dg();de.onFrame=e=>dd(e,dn);let dr=dg();de.onFinish=e=>dd(e,dr);let da=[];de.setTimeout=(e,t)=>{let i=de.now()+t,r=()=>{let e=da.findIndex(e=>e.cancel==r);~e&&da.splice(e,1),du-=~e?1:0},a={time:i,handler:e,cancel:r};return da.splice(ds(i),0,a),du+=1,dh(),a};let ds=e=>~(~da.findIndex(t=>t.time>e)||~da.length);de.cancel=e=>{di.delete(e),dn.delete(e),p9.delete(e),dt.delete(e),dr.delete(e)},de.sync=e=>{dp=!0,de.batchedUpdates(e),dp=!1},de.throttle=e=>{let t;function i(){try{e(...t)}finally{t=null}}function r(...e){t=e,de.onStart(i)}return r.handler=e,r.cancel=()=>{di.delete(i),t=null},r};let dc=()=>{};de.use=e=>dc=e,de.now="undefined"!=typeof performance?()=>performance.now():Date.now,de.batchedUpdates=e=>e(),de.catch=console.error,de.frameLoop="always",de.advance=()=>{"demand"!==de.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):dm()};let dl=-1,du=0,dp=!1;function dd(e,t){dp?(t.delete(e),e(0)):(t.add(e),dh())}function dh(){dl<0&&(dl=0,"demand"!==de.frameLoop&&dc(df))}function df(){~dl&&(dc(df),de.batchedUpdates(dm))}function dm(){let e=dl,t=ds(dl=de.now());t&&(db(da.splice(0,t),e=>e.handler()),du-=t),di.flush(),p9.flush(e?Math.min(64,dl-e):16.667),dn.flush(),dt.flush(),dr.flush(),du||(dl=-1)}function dg(){let e=new Set,t=e;return{add(i){du+=t!=e||e.has(i)?0:1,e.add(i)},delete:i=>(du-=t==e&&e.has(i)?1:0,e.delete(i)),flush(i){t.size&&(e=new Set,du-=t.size,db(t,t=>t(i)&&e.add(t)),du+=e.size,t=e)}}}function db(e,t){e.forEach(e=>{try{t(e)}catch(e){de.catch(e)}})}function dv(){}let dy=(e,t,i)=>Object.defineProperty(e,t,{value:i,writable:!0,configurable:!0}),dx={arr:Array.isArray,obj:e=>!!e&&"Object"===e.constructor.name,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,und:e=>void 0===e};function dw(e,t){if(dx.arr(e)){if(!dx.arr(t)||e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}return e===t}let dk=(e,t)=>e.forEach(t);function d_(e,t,i){if(dx.arr(e)){for(let r=0;r<e.length;r++)t.call(i,e[r],`${r}`);return}for(let r in e)e.hasOwnProperty(r)&&t.call(i,e[r],r)}let dS=e=>dx.und(e)?[]:dx.arr(e)?e:[e];function dT(e,t){if(e.size){let i=Array.from(e);e.clear(),dk(i,t)}}let dC=(e,...t)=>dT(e,e=>e(...t)),dE=()=>!0,dR=null,dj=!1,dI=dv;var dO=Object.freeze({__proto__:null,get createStringInterpolator(){return u},get to(){return p},get colors(){return dR},get skipAnimation(){return dj},get willAdvance(){return dI},assign:e=>{e.to&&(p=e.to),e.now&&(de.now=e.now),void 0!==e.colors&&(dR=e.colors),null!=e.skipAnimation&&(dj=e.skipAnimation),e.createStringInterpolator&&(u=e.createStringInterpolator),e.requestAnimationFrame&&de.use(e.requestAnimationFrame),e.batchedUpdates&&(de.batchedUpdates=e.batchedUpdates),e.willAdvance&&(dI=e.willAdvance),e.frameLoop&&(de.frameLoop=e.frameLoop)}});let dP=new Set,dN=[],dA=[],dD=0,dL={get idle(){return!dP.size&&!dN.length},start(e){dD>e.priority?(dP.add(e),de.onStart(dU)):(dM(e),de(d$))},advance:d$,sort(e){if(dD)de.onFrame(()=>dL.sort(e));else{let t=dN.indexOf(e);~t&&(dN.splice(t,1),dF(e))}},clear(){dN=[],dP.clear()}};function dU(){dP.forEach(dM),dP.clear(),de(d$)}function dM(e){dN.includes(e)||dF(e)}function dF(e){dN.splice(function(e,t){let i=e.findIndex(t);return i<0?e.length:i}(dN,t=>t.priority>e.priority),0,e)}function d$(e){let t=dA;for(let i=0;i<dN.length;i++){let r=dN[i];dD=r.priority,r.idle||(dI(r),r.advance(e),r.idle||t.push(r))}return dD=0,(dA=dN).length=0,(dN=t).length>0}let dB="[-+]?\\d*\\.?\\d+",dq=dB+"%";function dV(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}let dz=RegExp("rgb"+dV(dB,dB,dB)),dW=RegExp("rgba"+dV(dB,dB,dB,dB)),dH=RegExp("hsl"+dV(dB,dq,dq)),dG=RegExp("hsla"+dV(dB,dq,dq,dB)),dK=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,dY=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,dJ=/^#([0-9a-fA-F]{6})$/,dX=/^#([0-9a-fA-F]{8})$/;function dQ(e,t,i){return(i<0&&(i+=1),i>1&&(i-=1),i<1/6)?e+(t-e)*6*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function dZ(e,t,i){let r=i<.5?i*(1+t):i+t-i*t,a=2*i-r;return Math.round(255*dQ(a,r,e+1/3))<<24|Math.round(255*dQ(a,r,e))<<16|Math.round(255*dQ(a,r,e-1/3))<<8}function d0(e){let t=parseInt(e,10);return t<0?0:t>255?255:t}function d1(e){return(parseFloat(e)%360+360)%360/360}function d2(e){let t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function d3(e){let t=parseFloat(e);return t<0?0:t>100?1:t/100}function d4(e){let t;let i="number"==typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=dJ.exec(e))?parseInt(t[1]+"ff",16)>>>0:dR&&void 0!==dR[e]?dR[e]:(t=dz.exec(e))?(d0(t[1])<<24|d0(t[2])<<16|d0(t[3])<<8|255)>>>0:(t=dW.exec(e))?(d0(t[1])<<24|d0(t[2])<<16|d0(t[3])<<8|d2(t[4]))>>>0:(t=dK.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=dX.exec(e))?parseInt(t[1],16)>>>0:(t=dY.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=dH.exec(e))?(255|dZ(d1(t[1]),d3(t[2]),d3(t[3])))>>>0:(t=dG.exec(e))?(dZ(d1(t[1]),d3(t[2]),d3(t[3]))|d2(t[4]))>>>0:null;if(null===i)return e;let r=(4278190080&(i=i||0))>>>24,a=(16711680&i)>>>16,s=(65280&i)>>>8,o=(255&i)/255;return`rgba(${r}, ${a}, ${s}, ${o})`}let d6=(e,t,i)=>{if(dx.fun(e))return e;if(dx.arr(e))return d6({range:e,output:t,extrapolate:i});if(dx.str(e.output[0]))return u(e);let r=e.output,a=e.range||[0,1],s=e.extrapolateLeft||e.extrapolate||"extend",o=e.extrapolateRight||e.extrapolate||"extend",l=e.easing||(e=>e);return t=>{let i=function(e,t){for(var i=1;i<t.length-1&&!(t[i]>=e);++i);return i-1}(t,a);return function(e,t,i,r,a,s,o,l,u){let p=u?u(e):e;if(p<t){if("identity"===o)return p;"clamp"===o&&(p=t)}if(p>i){if("identity"===l)return p;"clamp"===l&&(p=i)}return r===a?r:t===i?e<=t?r:a:(t===-1/0?p=-p:i===1/0?p-=t:p=(p-t)/(i-t),p=s(p),r===-1/0?p=-p:a===1/0?p+=r:p=p*(a-r)+r,p)}(t,a[i],a[i+1],r[i],r[i+1],l,s,o,e.map)}};function d5(){return(d5=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}let d8=Symbol.for("FluidValue.get"),d7=Symbol.for("FluidValue.observers"),d9=e=>!!(e&&e[d8]),he=e=>e&&e[d8]?e[d8]():e,ht=e=>e[d7]||null;function hi(e,t){let i=e[d7];i&&i.forEach(e=>{e.eventObserved?e.eventObserved(t):e(t)})}class hn{constructor(e){if(this[d8]=void 0,this[d7]=void 0,!e&&!(e=this.get))throw Error("Unknown getter");hr(this,e)}}let hr=(e,t)=>ho(e,d8,t);function ha(e,t){if(e[d8]){let i=e[d7];i||ho(e,d7,i=new Set),!i.has(t)&&(i.add(t),e.observerAdded&&e.observerAdded(i.size,t))}return t}function hs(e,t){let i=e[d7];if(i&&i.has(t)){let r=i.size-1;r?i.delete(t):e[d7]=null,e.observerRemoved&&e.observerRemoved(r,t)}}let ho=(e,t,i)=>Object.defineProperty(e,t,{value:i,writable:!0,configurable:!0}),hc=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,hl=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,hu=RegExp(`(${hc.source})(%|[a-z]+)`,"i"),hp=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,hd=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,hh=e=>{let[t,i]=hf(e);if(!t||dE())return e;let r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(i&&i.startsWith("--")){let e=window.getComputedStyle(document.documentElement).getPropertyValue(i);if(e)return e}else if(i&&hd.test(i))return hh(i);else if(i)return i;return e},hf=e=>{let t=hd.exec(e);if(!t)return[,];let[,i,r]=t;return[i,r]},hm=(e,t,i,r,a)=>`rgba(${Math.round(t)}, ${Math.round(i)}, ${Math.round(r)}, ${a})`,hg=e=>{d||(d=dR?RegExp(`(${Object.keys(dR).join("|")})(?!\\w)`,"g"):/^\b$/);let t=e.output.map(e=>he(e).replace(hd,hh).replace(hl,d4).replace(d,d4)),i=t.map(e=>e.match(hc).map(Number)),r=i[0].map((e,t)=>i.map(e=>{if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]})).map(t=>d6(d5({},e,{output:t})));return e=>{var i;let a=!hu.test(t[0])&&(null==(i=t.find(e=>hu.test(e)))?void 0:i.replace(hc,"")),s=0;return t[0].replace(hc,()=>`${r[s++](e)}${a||""}`).replace(hp,hm)}},hb="react-spring: ",hv=e=>{let t=!1;if("function"!=typeof e)throw TypeError(`${hb}once requires a function parameter`);return(...i)=>{t||(e(...i),t=!0)}},hy=hv(console.warn),hx=hv(console.warn);function hw(e){return dx.str(e)&&("#"==e[0]||/\d/.test(e)||!dE()&&hd.test(e)||e in(dR||{}))}let hk=ee.useEffect,h_=()=>{let e=(0,ee.useRef)(!1);return hk(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function hS(){let e=(0,ee.useState)()[1],t=h_();return()=>{t.current&&e(Math.random())}}let hT=e=>(0,ee.useEffect)(e,hC),hC=[];function hE(e){let t=(0,ee.useRef)();return(0,ee.useEffect)(()=>{t.current=e}),t.current}let hR=Symbol.for("Animated:node"),hj=e=>!!e&&e[hR]===e,hI=e=>e&&e[hR],hO=(e,t)=>dy(e,hR,t),hP=e=>e&&e[hR]&&e[hR].getPayload();class hN{constructor(){this.payload=void 0,hO(this,this)}getPayload(){return this.payload||[]}}class hA extends hN{constructor(e){super(),this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,this.durationProgress=0,this._value=e,dx.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new hA(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return dx.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}reset(){let{done:e}=this;this.done=!1,dx.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}class hD extends hA{constructor(e){super(0),this._string=null,this._toString=void 0,this._toString=d6({output:[e,e]})}static create(e){return new hD(e)}getValue(){let e=this._string;return null==e?this._string=this._toString(this._value):e}setValue(e){if(dx.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!super.setValue(e))return!1;this._string=null}return!0}reset(e){e&&(this._toString=d6({output:[this.getValue(),e]})),this._value=0,super.reset()}}let hL={dependencies:null};class hU extends hN{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){let t={};return d_(this.source,(i,r)=>{hj(i)?t[r]=i.getValue(e):d9(i)?t[r]=he(i):e||(t[r]=i)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&dk(this.payload,e=>e.reset())}_makePayload(e){if(e){let t=new Set;return d_(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){hL.dependencies&&d9(e)&&hL.dependencies.add(e);let t=hP(e);t&&dk(t,e=>this.add(e))}}class hM extends hU{constructor(e){super(e)}static create(e){return new hM(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){let t=this.getPayload();return e.length==t.length?t.map((t,i)=>t.setValue(e[i])).some(Boolean):(super.setValue(e.map(hF)),!0)}}function hF(e){return(hw(e)?hD:hA).create(e)}function h$(e){let t=hI(e);return t?t.constructor:dx.arr(e)?hM:hw(e)?hD:hA}function hB(){return(hB=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}let hq=(e,t)=>{let i=!dx.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,ee.forwardRef)((r,a)=>{let s=(0,ee.useRef)(null),o=i&&(0,ee.useCallback)(e=>{s.current=function(e,t){return e&&(dx.fun(e)?e(t):e.current=t),t}(a,e)},[a]),[l,u]=function(e,t){let i=new Set;return hL.dependencies=i,e.style&&(e=hB({},e,{style:t.createAnimatedStyle(e.style)})),e=new hU(e),hL.dependencies=null,[e,i]}(r,t),p=hS(),d=()=>{let e=s.current;(!i||e)&&!1===(!!e&&t.applyAnimatedValues(e,l.getValue(!0)))&&p()},f=new hV(d,u),m=(0,ee.useRef)();hk(()=>(m.current=f,dk(u,e=>ha(e,f)),()=>{m.current&&(dk(m.current.deps,e=>hs(e,m.current)),de.cancel(m.current.update))})),(0,ee.useEffect)(d,[]),hT(()=>()=>{let e=m.current;dk(e.deps,t=>hs(t,e))});let g=t.getComponentProps(l.getValue());return ee.createElement(e,hB({},g,{ref:o}))})};class hV{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){"change"==e.type&&de.write(this.update)}}let hz=Symbol.for("AnimatedComponent"),hW=e=>dx.str(e)?e:e&&dx.str(e.displayName)?e.displayName:dx.fun(e)&&e.name||null;function hH(){return(hH=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function hG(e,...t){return dx.fun(e)?e(...t):e}let hK=(e,t)=>!0===e||!!(t&&e&&(dx.fun(e)?e(t):dS(e).includes(t))),hY=(e,t)=>dx.obj(e)?t&&e[t]:e,hJ=(e,t)=>!0===e.default?e[t]:e.default?e.default[t]:void 0,hX=e=>e,hQ=(e,t=hX)=>{let i=hZ;e.default&&!0!==e.default&&(i=Object.keys(e=e.default));let r={};for(let a of i){let i=t(e[a],a);dx.und(i)||(r[a]=i)}return r},hZ=["config","onProps","onStart","onChange","onPause","onResume","onRest"],h0={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function h1(e){let t=function(e){let t={},i=0;if(d_(e,(e,r)=>{!h0[r]&&(t[r]=e,i++)}),i)return t}(e);if(t){let i={to:t};return d_(e,(e,r)=>r in t||(i[r]=e)),i}return hH({},e)}function h2(e){return e=he(e),dx.arr(e)?e.map(h2):hw(e)?dO.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function h3(e){for(let t in e)return!0;return!1}function h4(e){return dx.fun(e)||dx.arr(e)&&dx.obj(e[0])}function h6(e,t){var i;null==(i=e.ref)||i.delete(e),null==t||t.delete(e)}function h5(e,t){if(t&&e.ref!==t){var i;null==(i=e.ref)||i.delete(e),t.add(e),e.ref=t}}let h8={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},h7=hH({},h8.default,{mass:1,damping:1,easing:e=>e,clamp:!1});class h9{constructor(){this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,h7)}}function fe(e,t){if(dx.und(t.decay)){let i=!dx.und(t.tension)||!dx.und(t.friction);!i&&dx.und(t.frequency)&&dx.und(t.damping)&&dx.und(t.mass)||(e.duration=void 0,e.decay=void 0),i&&(e.frequency=void 0)}else e.duration=void 0}let ft=[];class fi{constructor(){this.changed=!1,this.values=ft,this.toValues=null,this.fromValues=ft,this.to=void 0,this.from=void 0,this.config=new h9,this.immediate=!1}}function fn(e,{key:t,props:i,defaultProps:r,state:a,actions:s}){return new Promise((o,l)=>{var u;let p,d;let f=hK(null!=(u=i.cancel)?u:null==r?void 0:r.cancel,t);if(f)b();else{dx.und(i.pause)||(a.paused=hK(i.pause,t));let e=null==r?void 0:r.pause;!0!==e&&(e=a.paused||hK(e,t)),p=hG(i.delay||0,t),e?(a.resumeQueue.add(g),s.pause()):(s.resume(),g())}function m(){a.resumeQueue.add(g),a.timeouts.delete(d),d.cancel(),p=d.time-de.now()}function g(){p>0&&!dO.skipAnimation?(a.delayed=!0,d=de.setTimeout(b,p),a.pauseQueue.add(m),a.timeouts.add(d)):b()}function b(){a.delayed&&(a.delayed=!1),a.pauseQueue.delete(m),a.timeouts.delete(d),e<=(a.cancelId||0)&&(f=!0);try{s.start(hH({},i,{callId:e,cancel:f}),o)}catch(e){l(e)}}})}let fr=(e,t)=>1==t.length?t[0]:t.some(e=>e.cancelled)?fo(e.get()):t.every(e=>e.noop)?fa(e.get()):fs(e.get(),t.every(e=>e.finished)),fa=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),fs=(e,t,i=!1)=>({value:e,finished:t,cancelled:i}),fo=e=>({value:e,cancelled:!0,finished:!1});function fc(e,t,i,r){let{callId:a,parentId:s,onRest:o}=t,{asyncTo:l,promise:u}=i;return s||e!==l||t.reset?i.promise=(async()=>{let p,d,f;i.asyncId=a,i.asyncTo=e;let m=hQ(t,(e,t)=>"onRest"===t?void 0:e),g=new Promise((e,t)=>(p=e,d=t)),b=e=>{let t=a<=(i.cancelId||0)&&fo(r)||a!==i.asyncId&&fs(r,!1);if(t)throw e.result=t,d(e),e},v=(e,t)=>{let s=new fu,o=new fp;return(async()=>{if(dO.skipAnimation)throw fl(i),o.result=fs(r,!1),d(o),o;b(s);let l=dx.obj(e)?hH({},e):hH({},t,{to:e});l.parentId=a,d_(m,(e,t)=>{dx.und(l[t])&&(l[t]=e)});let u=await r.start(l);return b(s),i.paused&&await new Promise(e=>{i.resumeQueue.add(e)}),u})()};if(dO.skipAnimation)return fl(i),fs(r,!1);try{let t;t=dx.arr(e)?(async e=>{for(let t of e)await v(t)})(e):Promise.resolve(e(v,r.stop.bind(r))),await Promise.all([t.then(p),g]),f=fs(r.get(),!0,!1)}catch(e){if(e instanceof fu)f=e.result;else if(e instanceof fp)f=e.result;else throw e}finally{a==i.asyncId&&(i.asyncId=s,i.asyncTo=s?l:void 0,i.promise=s?u:void 0)}return dx.fun(o)&&de.batchedUpdates(()=>{o(f,r,r.item)}),f})():u}function fl(e,t){dT(e.timeouts,e=>e.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}class fu extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise."),this.result=void 0}}class fp extends Error{constructor(){super("SkipAnimationSignal"),this.result=void 0}}let fd=e=>e instanceof ff,fh=1;class ff extends hn{constructor(...e){super(...e),this.id=fh++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){let e=hI(this);return e&&e.getValue()}to(...e){return dO.to(this,e)}interpolate(...e){return hy(`${hb}The "interpolate" function is deprecated in v9 (use "to" instead)`),dO.to(this,e)}toJSON(){return this.get()}observerAdded(e){1==e&&this._attach()}observerRemoved(e){0==e&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){hi(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||dL.sort(this),hi(this,{type:"priority",parent:this,priority:e})}}let fm=Symbol.for("SpringPhase"),fg=e=>(1&e[fm])>0,fb=e=>(2&e[fm])>0,fv=e=>(4&e[fm])>0,fy=(e,t)=>t?e[fm]|=3:e[fm]&=-3,fx=(e,t)=>t?e[fm]|=4:e[fm]&=-5;class fw extends ff{constructor(e,t){if(super(),this.key=void 0,this.animation=new fi,this.queue=void 0,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!dx.und(e)||!dx.und(t)){let i=dx.obj(e)?hH({},e):hH({},t,{from:e});dx.und(i.default)&&(i.default=!0),this.start(i)}}get idle(){return!(fb(this)||this._state.asyncTo)||fv(this)}get goal(){return he(this.animation.to)}get velocity(){let e=hI(this);return e instanceof hA?e.lastVelocity||0:e.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return fg(this)}get isAnimating(){return fb(this)}get isPaused(){return fv(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,i=!1,r=this.animation,{config:a,toValues:s}=r,o=hP(r.to);!o&&d9(r.to)&&(s=dS(he(r.to))),r.values.forEach((l,u)=>{if(l.done)return;let p=l.constructor==hD?1:o?o[u].lastPosition:s[u],d=r.immediate,f=p;if(!d){let t;if(f=l.lastPosition,a.tension<=0){l.done=!0;return}let i=l.elapsedTime+=e,s=r.fromValues[u],o=null!=l.v0?l.v0:l.v0=dx.arr(a.velocity)?a.velocity[u]:a.velocity;if(dx.und(a.duration)){if(a.decay){let e=!0===a.decay?.998:a.decay,r=Math.exp(-(1-e)*i);f=s+o/(1-e)*(1-r),d=.1>Math.abs(l.lastPosition-f),t=o*r}else{t=null==l.lastVelocity?o:l.lastVelocity;let i=a.precision||(s==p?.005:Math.min(1,.001*Math.abs(p-s))),r=a.restVelocity||i/10,u=a.clamp?0:a.bounce,m=!dx.und(u),g=s==p?l.v0>0:s<p,b=Math.ceil(e/1);for(let e=0;e<b&&!(!(Math.abs(t)>r)&&(d=Math.abs(p-f)<=i));++e){m&&(f==p||f>p==g)&&(t=-t*u,f=p);let e=(-(1e-6*a.tension)*(f-p)+-(.001*a.friction)*t)/a.mass;t+=1*e,f+=1*t}}}else{let r=1;a.duration>0&&(this._memoizedDuration!==a.duration&&(this._memoizedDuration=a.duration,l.durationProgress>0&&(l.elapsedTime=a.duration*l.durationProgress,i=l.elapsedTime+=e)),r=(r=(a.progress||0)+i/this._memoizedDuration)>1?1:r<0?0:r,l.durationProgress=r),t=((f=s+a.easing(r)*(p-s))-l.lastPosition)/e,d=1==r}l.lastVelocity=t,Number.isNaN(f)&&(console.warn("Got NaN while animating:",this),d=!0)}o&&!o[u].done&&(d=!1),d?l.done=!0:t=!1,l.setValue(f,a.round)&&(i=!0)});let l=hI(this),u=l.getValue();if(t){let e=he(r.to);(u!==e||i)&&!a.decay?(l.setValue(e),this._onChange(e)):i&&a.decay&&this._onChange(u),this._stop()}else i&&this._onChange(u)}set(e){return de.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(fb(this)){let{to:e,config:t}=this.animation;de.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let i;return dx.und(e)?(i=this.queue||[],this.queue=[]):i=[dx.obj(e)?e:hH({},t,{to:e})],Promise.all(i.map(e=>this._update(e))).then(e=>fr(this,e))}stop(e){let{to:t}=this.animation;return this._focus(this.get()),fl(this._state,e&&this._lastCallId),de.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}_prepareNode(e){let t=this.key||"",{to:i,from:r}=e;(null==(i=dx.obj(i)?i[t]:i)||h4(i))&&(i=void 0),null==(r=dx.obj(r)?r[t]:r)&&(r=void 0);let a={to:i,from:r};return fg(this)||(e.reverse&&([i,r]=[r,i]),r=he(r),dx.und(r)?hI(this)||this._set(i):this._set(r)),a}_update(e,t){let i=hH({},e),{key:r,defaultProps:a}=this;i.default&&Object.assign(a,hQ(i,(e,t)=>/^on/.test(t)?hY(e,r):e)),fE(this,i,"onProps"),fR(this,"onProps",i,this);let s=this._prepareNode(i);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");let o=this._state;return fn(++this._lastCallId,{key:r,props:i,defaultProps:a,state:o,actions:{pause:()=>{fv(this)||(fx(this,!0),dC(o.pauseQueue),fR(this,"onPause",fs(this,fk(this,this.animation.to)),this))},resume:()=>{fv(this)&&(fx(this,!1),fb(this)&&this._resume(),dC(o.resumeQueue),fR(this,"onResume",fs(this,fk(this,this.animation.to)),this))},start:this._merge.bind(this,s)}}).then(e=>{if(i.loop&&e.finished&&!(t&&e.noop)){let e=f_(i);if(e)return this._update(e,!0)}return e})}_merge(e,t,i){if(t.cancel)return this.stop(!0),i(fo(this));let r=!dx.und(e.to),a=!dx.und(e.from);if(r||a){if(!(t.callId>this._lastToId))return i(fo(this));this._lastToId=t.callId}let{key:s,defaultProps:o,animation:l}=this,{to:u,from:p}=l,{to:d=u,from:f=p}=e;a&&!r&&(!t.default||dx.und(d))&&(d=f),t.reverse&&([d,f]=[f,d]);let m=!dw(f,p);m&&(l.from=f),f=he(f);let g=!dw(d,u);g&&this._focus(d);let b=h4(t.to),{config:v}=l,{decay:y,velocity:x}=v;(r||a)&&(v.velocity=0),t.config&&!b&&function(e,t,i){for(let r in i&&(fe(i=hH({},i),t),t=hH({},i,t)),fe(e,t),Object.assign(e,t),h7)null==e[r]&&(e[r]=h7[r]);let{mass:r,frequency:a,damping:s}=e;dx.und(a)||(a<.01&&(a=.01),s<0&&(s=0),e.tension=Math.pow(2*Math.PI/a,2)*r,e.friction=4*Math.PI*s*r/a)}(v,hG(t.config,s),t.config!==o.config?hG(o.config,s):void 0);let w=hI(this);if(!w||dx.und(d))return i(fs(this,!0));let k=dx.und(t.reset)?a&&!t.default:!dx.und(f)&&hK(t.reset,s),_=k?f:this.get(),S=h2(d),T=dx.num(S)||dx.arr(S)||hw(S),C=!b&&(!T||hK(o.immediate||t.immediate,s));if(g){let e=h$(d);if(e!==w.constructor){if(C)w=this._set(S);else throw Error(`Cannot animate between ${w.constructor.name} and ${e.name}, as the "to" prop suggests`)}}let E=w.constructor,R=d9(d),j=!1;if(!R){let e=k||!fg(this)&&m;(g||e)&&(R=!(j=dw(h2(_),S))),(dw(l.immediate,C)||C)&&dw(v.decay,y)&&dw(v.velocity,x)||(R=!0)}if(j&&fb(this)&&(l.changed&&!k?R=!0:R||this._stop(u)),!b&&((R||d9(u))&&(l.values=w.getPayload(),l.toValues=d9(d)?null:E==hD?[1]:dS(S)),l.immediate==C||(l.immediate=C,C||k||this._set(u)),R)){let{onRest:e}=l;dk(fC,e=>fE(this,t,e));let r=fs(this,fk(this,u));dC(this._pendingCalls,r),this._pendingCalls.add(i),l.changed&&de.batchedUpdates(()=>{l.changed=!k,null==e||e(r,this),k?hG(o.onRest,r):null==l.onStart||l.onStart(r,this)})}k&&this._set(_),b?i(fc(t.to,t,this._state,this)):R?this._start():fb(this)&&!g?this._pendingCalls.add(i):i(fa(_))}_focus(e){let t=this.animation;e!==t.to&&(ht(this)&&this._detach(),t.to=e,ht(this)&&this._attach())}_attach(){let e=0,{to:t}=this.animation;d9(t)&&(ha(t,this),fd(t)&&(e=t.priority+1)),this.priority=e}_detach(){let{to:e}=this.animation;d9(e)&&hs(e,this)}_set(e,t=!0){let i=he(e);if(!dx.und(i)){let e=hI(this);if(!e||!dw(i,e.getValue())){let r=h$(i);e&&e.constructor==r?e.setValue(i):hO(this,r.create(i)),e&&de.batchedUpdates(()=>{this._onChange(i,t)})}}return hI(this)}_onStart(){let e=this.animation;e.changed||(e.changed=!0,fR(this,"onStart",fs(this,fk(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),hG(this.animation.onChange,e,this)),hG(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){let e=this.animation;hI(this).reset(he(e.to)),e.immediate||(e.fromValues=e.values.map(e=>e.lastPosition)),fb(this)||(fy(this,!0),fv(this)||this._resume())}_resume(){dO.skipAnimation?this.finish():dL.start(this)}_stop(e,t){if(fb(this)){fy(this,!1);let i=this.animation;dk(i.values,e=>{e.done=!0}),i.toValues&&(i.onChange=i.onPause=i.onResume=void 0),hi(this,{type:"idle",parent:this});let r=t?fo(this.get()):fs(this.get(),fk(this,null!=e?e:i.to));dC(this._pendingCalls,r),i.changed&&(i.changed=!1,fR(this,"onRest",r,this))}}}function fk(e,t){let i=h2(t);return dw(h2(e.get()),i)}function f_(e,t=e.loop,i=e.to){let r=hG(t);if(r){let a=!0!==r&&h1(r),s=(a||e).reverse,o=!a||a.reset;return fS(hH({},e,{loop:t,default:!1,pause:void 0,to:!s||h4(i)?i:void 0,from:o?e.from:void 0,reset:o},a))}}function fS(e){let{to:t,from:i}=e=h1(e),r=new Set;return dx.obj(t)&&fT(t,r),dx.obj(i)&&fT(i,r),e.keys=r.size?Array.from(r):null,e}function fT(e,t){d_(e,(e,i)=>null!=e&&t.add(i))}let fC=["onStart","onRest","onChange","onPause","onResume"];function fE(e,t,i){e.animation[i]=t[i]!==hJ(t,i)?hY(t[i],e.key):void 0}function fR(e,t,...i){var r,a,s,o;null==(r=(a=e.animation)[t])||r.call(a,...i),null==(s=(o=e.defaultProps)[t])||s.call(o,...i)}let fj=["onStart","onChange","onRest"],fI=1;class fO{constructor(e,t){this.id=fI++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start(hH({default:!0},e))}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){let e={};return this.each((t,i)=>e[i]=t.get()),e}set(e){for(let t in e){let i=e[t];dx.und(i)||this.springs[t].set(i)}}update(e){return e&&this.queue.push(fS(e)),this}start(e){let{queue:t}=this;return(e?t=dS(e).map(fS):this.queue=[],this._flush)?this._flush(this,t):(fM(this,t),fP(this,t))}stop(e,t){if(!!e!==e&&(t=e),t){let i=this.springs;dk(dS(t),t=>i[t].stop(!!e))}else fl(this._state,this._lastAsyncId),this.each(t=>t.stop(!!e));return this}pause(e){if(dx.und(e))this.start({pause:!0});else{let t=this.springs;dk(dS(e),e=>t[e].pause())}return this}resume(e){if(dx.und(e))this.start({pause:!1});else{let t=this.springs;dk(dS(e),e=>t[e].resume())}return this}each(e){d_(this.springs,e)}_onFrame(){let{onStart:e,onChange:t,onRest:i}=this._events,r=this._active.size>0,a=this._changed.size>0;(r&&!this._started||a&&!this._started)&&(this._started=!0,dT(e,([e,t])=>{t.value=this.get(),e(t,this,this._item)}));let s=!r&&this._started,o=a||s&&i.size?this.get():null;a&&t.size&&dT(t,([e,t])=>{t.value=o,e(t,this,this._item)}),s&&(this._started=!1,dT(i,([e,t])=>{t.value=o,e(t,this,this._item)}))}eventObserved(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}de.onFrame(this._onFrame)}}function fP(e,t){return Promise.all(t.map(t=>fN(e,t))).then(t=>fr(e,t))}async function fN(e,t,i){let{keys:r,to:a,from:s,loop:o,onRest:l,onResolve:u}=t,p=dx.obj(t.default)&&t.default;o&&(t.loop=!1),!1===a&&(t.to=null),!1===s&&(t.from=null);let d=dx.arr(a)||dx.fun(a)?a:void 0;d?(t.to=void 0,t.onRest=void 0,p&&(p.onRest=void 0)):dk(fj,i=>{let r=t[i];if(dx.fun(r)){let a=e._events[i];t[i]=({finished:e,cancelled:t})=>{let i=a.get(r);i?(e||(i.finished=!1),t&&(i.cancelled=!0)):a.set(r,{value:null,finished:e||!1,cancelled:t||!1})},p&&(p[i]=t[i])}});let f=e._state;!f.paused===t.pause?(f.paused=t.pause,dC(t.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(t.pause=!0);let m=(r||Object.keys(e.springs)).map(i=>e.springs[i].start(t)),g=!0===t.cancel||!0===hJ(t,"cancel");(d||g&&f.asyncId)&&m.push(fn(++e._lastAsyncId,{props:t,state:f,actions:{pause:dv,resume:dv,start(t,i){g?(fl(f,e._lastAsyncId),i(fo(e))):(t.onRest=l,i(fc(d,t,f,e)))}}})),f.paused&&await new Promise(e=>{f.resumeQueue.add(e)});let b=fr(e,await Promise.all(m));if(o&&b.finished&&!(i&&b.noop)){let i=f_(t,o,a);if(i)return fM(e,[i]),fN(e,i,!0)}return u&&de.batchedUpdates(()=>u(b,e,e.item)),b}function fA(e,t){let i=hH({},e.springs);return t&&dk(dS(t),e=>{dx.und(e.keys)&&(e=fS(e)),dx.obj(e.to)||(e=hH({},e,{to:void 0})),fU(i,e,e=>fL(e))}),fD(e,i),i}function fD(e,t){d_(t,(t,i)=>{e.springs[i]||(e.springs[i]=t,ha(t,e))})}function fL(e,t){let i=new fw;return i.key=e,t&&ha(i,t),i}function fU(e,t,i){t.keys&&dk(t.keys,r=>{(e[r]||(e[r]=i(r)))._prepareNode(t)})}function fM(e,t){dk(t,t=>{fU(e.springs,t,t=>fL(t,e))})}let fF=["children"],f$=e=>{let{children:t}=e,i=function(e,t){if(null==e)return{};var i,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)i=s[r],t.indexOf(i)>=0||(a[i]=e[i]);return a}(e,fF),r=(0,ee.useContext)(fB),a=i.pause||!!r.pause,s=i.immediate||!!r.immediate;i=function(e,t){let[i]=(0,ee.useState)(()=>({inputs:t,result:e()})),r=(0,ee.useRef)(),a=r.current,s=a;return s?t&&s.inputs&&function(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}(t,s.inputs)||(s={inputs:t,result:e()}):s=i,(0,ee.useEffect)(()=>{r.current=s,a==i&&(i.inputs=i.result=void 0)},[s]),s.result}(()=>({pause:a,immediate:s}),[a,s]);let{Provider:o}=fB;return ee.createElement(o,{value:i},t)},fB=function(e,t){return Object.assign(e,ee.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}(f$,{});f$.Provider=fB.Provider,f$.Consumer=fB.Consumer;let fq=()=>{let e=[],t=function(t){hx(`${hb}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`);let r=[];return dk(e,(e,a)=>{if(dx.und(t))r.push(e.start());else{let s=i(t,e,a);s&&r.push(e.start(s))}}),r};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){let i=e.indexOf(t);~i&&e.splice(i,1)},t.pause=function(){return dk(e,e=>e.pause(...arguments)),this},t.resume=function(){return dk(e,e=>e.resume(...arguments)),this},t.set=function(t){dk(e,e=>e.set(t))},t.start=function(t){let i=[];return dk(e,(e,r)=>{if(dx.und(t))i.push(e.start());else{let a=this._getProps(t,e,r);a&&i.push(e.start(a))}}),i},t.stop=function(){return dk(e,e=>e.stop(...arguments)),this},t.update=function(t){return dk(e,(e,i)=>e.update(this._getProps(t,e,i))),this};let i=function(e,t,i){return dx.fun(e)?e(i,t):e};return t._getProps=i,t};function fV(e,t){let i=dx.fun(e),[[r],a]=function(e,t,i){let r=dx.fun(t)&&t;r&&!i&&(i=[]);let a=(0,ee.useMemo)(()=>r||3==arguments.length?fq():void 0,[]),s=(0,ee.useRef)(0),o=hS(),l=(0,ee.useMemo)(()=>({ctrls:[],queue:[],flush(e,t){let i=fA(e,t);return!(s.current>0)||l.queue.length||Object.keys(i).some(t=>!e.springs[t])?new Promise(r=>{fD(e,i),l.queue.push(()=>{r(fP(e,t))}),o()}):fP(e,t)}}),[]),u=(0,ee.useRef)([...l.ctrls]),p=[],d=hE(e)||0;function f(e,i){for(let a=e;a<i;a++){let e=u.current[a]||(u.current[a]=new fO(null,l.flush)),i=r?r(a,e):t[a];i&&(p[a]=function(e){let t=fS(e);return dx.und(t.default)&&(t.default=hQ(t)),t}(i))}}(0,ee.useMemo)(()=>{dk(u.current.slice(e,d),e=>{h6(e,a),e.stop(!0)}),u.current.length=e,f(d,e)},[e]),(0,ee.useMemo)(()=>{f(0,Math.min(d,e))},i);let m=u.current.map((e,t)=>fA(e,p[t])),g=(0,ee.useContext)(f$),b=hE(g),v=g!==b&&h3(g);hk(()=>{s.current++,l.ctrls=u.current;let{queue:e}=l;e.length&&(l.queue=[],dk(e,e=>e())),dk(u.current,(e,t)=>{null==a||a.add(e),v&&e.start({default:g});let i=p[t];i&&(h5(e,i.ref),e.ref?e.queue.push(i):e.start(i))})}),hT(()=>()=>{dk(l.ctrls,e=>e.stop(!0))});let y=m.map(e=>hH({},e));return a?[y,a]:y}(1,i?e:[e],i?t||[]:t);return i||2==arguments.length?[r,a]:r}function fz(e,t,i){let r=dx.fun(t)&&t,{reset:a,sort:s,trail:o=0,expires:l=!0,exitBeforeEnter:u=!1,onDestroyed:p,ref:d,config:m}=r?r():t,g=(0,ee.useMemo)(()=>r||3==arguments.length?fq():void 0,[]),b=dS(e),v=[],y=(0,ee.useRef)(null),x=a?null:y.current;hk(()=>{y.current=v}),hT(()=>(dk(y.current,e=>{var t;null==(t=e.ctrl.ref)||t.add(e.ctrl);let i=E.get(e);i&&e.ctrl.start(i.payload)}),()=>{dk(y.current,e=>{e.expired&&clearTimeout(e.expirationId),h6(e.ctrl,g),e.ctrl.stop(!0)})}));let w=function(e,{key:t,keys:i=t},r){if(null===i){let t=new Set;return e.map(e=>{let i=r&&r.find(i=>i.item===e&&i.phase!==f.LEAVE&&!t.has(i));return i?(t.add(i),i.key):fW++})}return dx.und(i)?e:dx.fun(i)?e.map(i):dS(i)}(b,r?r():t,x),k=a&&y.current||[];hk(()=>dk(k,({ctrl:e,item:t,key:i})=>{h6(e,g),hG(p,t,i)}));let _=[];if(x&&dk(x,(e,t)=>{e.expired?(clearTimeout(e.expirationId),k.push(e)):~(t=_[t]=w.indexOf(e.key))&&(v[t]=e)}),dk(b,(e,t)=>{v[t]||(v[t]={key:w[t],item:e,phase:f.MOUNT,ctrl:new fO},v[t].ctrl.item=e)}),_.length){let e=-1,{leave:i}=r?r():t;dk(_,(t,r)=>{let a=x[r];~t?(e=v.indexOf(a),v[e]=hH({},a,{item:b[t]})):i&&v.splice(++e,0,a)})}dx.fun(s)&&v.sort((e,t)=>s(e.item,t.item));let S=-o,T=hS(),C=hQ(t),E=new Map,R=(0,ee.useRef)(new Map),j=(0,ee.useRef)(!1);dk(v,(e,i)=>{let a,s;let p=e.key,g=e.phase,b=r?r():t,v=hG(b.delay||0,p);if(g==f.MOUNT)a=b.enter,s=f.ENTER;else{let e=0>w.indexOf(p);if(g!=f.LEAVE){if(e)a=b.leave,s=f.LEAVE;else{if(!(a=b.update))return;s=f.UPDATE}}else{if(e)return;a=b.enter,s=f.ENTER}}if(a=hG(a,e.item,i),!(a=dx.obj(a)?h1(a):{to:a}).config){let t=m||C.config;a.config=hG(t,e.item,i,s)}S+=o;let k=hH({},C,{delay:v+S,ref:d,immediate:b.immediate,reset:!1},a);if(s==f.ENTER&&dx.und(k.from)){let a=r?r():t,s=dx.und(a.initial)||x?a.from:a.initial;k.from=hG(s,e.item,i)}let{onResolve:_}=k;k.onResolve=e=>{hG(_,e);let t=y.current,i=t.find(e=>e.key===p);if(i){if(e.cancelled&&i.phase!=f.UPDATE)return;if(i.ctrl.idle){let e=t.every(e=>e.ctrl.idle);if(i.phase==f.LEAVE){let t=hG(l,i.item);if(!1!==t){let r=!0===t?0:t;if(i.expired=!0,!e&&r>0){r<=2147483647&&(i.expirationId=setTimeout(T,r));return}}}e&&t.some(e=>e.expired)&&(R.current.delete(i),u&&(j.current=!0),T())}}};let I=fA(e.ctrl,k);s===f.LEAVE&&u?R.current.set(e,{phase:s,springs:I,payload:k}):E.set(e,{phase:s,springs:I,payload:k})});let I=(0,ee.useContext)(f$),O=hE(I),P=I!==O&&h3(I);hk(()=>{P&&dk(v,e=>{e.ctrl.start({default:I})})},[I]),dk(E,(e,t)=>{if(R.current.size){let e=v.findIndex(e=>e.key===t.key);v.splice(e,1)}}),hk(()=>{dk(R.current.size?R.current:E,({phase:e,payload:t},i)=>{let{ctrl:r}=i;i.phase=e,null==g||g.add(r),P&&e==f.ENTER&&r.start({default:I}),t&&(h5(r,t.ref),r.ref&&!j.current?r.update(t):(r.start(t),j.current&&(j.current=!1)))})},a?void 0:i);let N=e=>ee.createElement(ee.Fragment,null,v.map((t,i)=>{let{springs:r}=E.get(t)||t.ctrl,a=e(hH({},r),t.item,t,i);return a&&a.type?ee.createElement(a.type,hH({},a.props,{key:dx.str(t.key)||dx.num(t.key)?t.key:t.ctrl.id,ref:a.ref})):a}));return g?[N,g]:N}!function(e){e.MOUNT="mount",e.ENTER="enter",e.UPDATE="update",e.LEAVE="leave"}(f||(f={}));let fW=1;class fH extends ff{constructor(e,t){super(),this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=e,this.calc=d6(...t);let i=this._get();hO(this,h$(i).create(i))}advance(e){let t=this._get();dw(t,this.get())||(hI(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&fK(this._active)&&fY(this)}_get(){let e=dx.arr(this.source)?this.source.map(he):dS(he(this.source));return this.calc(...e)}_start(){this.idle&&!fK(this._active)&&(this.idle=!1,dk(hP(this),e=>{e.done=!1}),dO.skipAnimation?(de.batchedUpdates(()=>this.advance()),fY(this)):dL.start(this))}_attach(){let e=1;dk(dS(this.source),t=>{d9(t)&&ha(t,this),fd(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){dk(dS(this.source),e=>{d9(e)&&hs(e,this)}),this._active.clear(),fY(this)}eventObserved(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=dS(this.source).reduce((e,t)=>Math.max(e,(fd(t)?t.priority:0)+1),0))}}function fG(e){return!1!==e.idle}function fK(e){return!e.size||Array.from(e).every(fG)}function fY(e){e.idle||(e.idle=!0,dk(hP(e),e=>{e.done=!0}),hi(e,{type:"idle",parent:e}))}let fJ=(e,...t)=>new fH(e,t);function fX(e,t){if(null==e)return{};var i,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)i=s[r],t.indexOf(i)>=0||(a[i]=e[i]);return a}dO.assign({createStringInterpolator:hg,to:(e,t)=>new fH(e,t)}),dL.advance;let fQ=["style","children","scrollTop","scrollLeft"],fZ=/^--/,f0={},f1={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},f2=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),f3=["Webkit","Ms","Moz","O"];f1=Object.keys(f1).reduce((e,t)=>(f3.forEach(i=>e[f2(i,t)]=e[t]),e),f1);let f4=["x","y","z"],f6=/^(matrix|translate|scale|rotate|skew)/,f5=/^(translate)/,f8=/^(rotate|skew)/,f7=(e,t)=>dx.num(e)&&0!==e?e+t:e,f9=(e,t)=>dx.arr(e)?e.every(e=>f9(e,t)):dx.num(e)?e===t:parseFloat(e)===t;class me extends hU{constructor(e){let{x:t,y:i,z:r}=e,a=fX(e,f4),s=[],o=[];(t||i||r)&&(s.push([t||0,i||0,r||0]),o.push(e=>[`translate3d(${e.map(e=>f7(e,"px")).join(",")})`,f9(e,0)])),d_(a,(e,t)=>{if("transform"===t)s.push([e||""]),o.push(e=>[e,""===e]);else if(f6.test(t)){if(delete a[t],dx.und(e))return;let i=f5.test(t)?"px":f8.test(t)?"deg":"";s.push(dS(e)),o.push("rotate3d"===t?([e,t,r,a])=>[`rotate3d(${e},${t},${r},${f7(a,i)})`,f9(a,0)]:e=>[`${t}(${e.map(e=>f7(e,i)).join(",")})`,f9(e,t.startsWith("scale")?1:0)])}}),s.length&&(a.transform=new mt(s,o)),super(a)}}class mt extends hn{constructor(e,t){super(),this._value=null,this.inputs=e,this.transforms=t}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return dk(this.inputs,(i,r)=>{let a=he(i[0]),[s,o]=this.transforms[r](dx.arr(a)?a:i.map(he));e+=" "+s,t=t&&o}),t?"none":e}observerAdded(e){1==e&&dk(this.inputs,e=>dk(e,e=>d9(e)&&ha(e,this)))}observerRemoved(e){0==e&&dk(this.inputs,e=>dk(e,e=>d9(e)&&hs(e,this)))}eventObserved(e){"change"==e.type&&(this._value=null),hi(this,e)}}let mi=["scrollTop","scrollLeft"];dO.assign({batchedUpdates:pz.unstable_batchedUpdates,createStringInterpolator:hg,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}});let mn=((e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:i=e=>new hU(e),getComponentProps:r=e=>e}={})=>{let a={applyAnimatedValues:t,createAnimatedStyle:i,getComponentProps:r},s=e=>{let t=hW(e)||"Anonymous";return(e=dx.str(e)?s[e]||(s[e]=hq(e,a)):e[hz]||(e[hz]=hq(e,a))).displayName=`Animated(${t})`,e};return d_(e,(t,i)=>{dx.arr(e)&&(i=hW(t)),s[i]=s(t)}),{animated:s}})(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;let i="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,{style:r,children:a,scrollTop:s,scrollLeft:o}=t,l=fX(t,fQ),u=Object.values(l),p=Object.keys(l).map(t=>i||e.hasAttribute(t)?t:f0[t]||(f0[t]=t.replace(/([A-Z])/g,e=>"-"+e.toLowerCase())));for(let t in void 0!==a&&(e.textContent=a),r)if(r.hasOwnProperty(t)){var d;let i=null==(d=r[t])||"boolean"==typeof d||""===d?"":"number"!=typeof d||0===d||fZ.test(t)||f1.hasOwnProperty(t)&&f1[t]?(""+d).trim():d+"px";fZ.test(t)?e.style.setProperty(t,i):e.style[t]=i}p.forEach((t,i)=>{e.setAttribute(t,u[i])}),void 0!==s&&(e.scrollTop=s),void 0!==o&&(e.scrollLeft=o)},createAnimatedStyle:e=>new me(e),getComponentProps:e=>fX(e,mi)}).animated;function mr(){return(mr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var ma={pointerEvents:"none",position:"absolute",zIndex:10,top:0,left:0},ms=function(e,t){return"translate("+e+"px, "+t+"px)"},mo=(0,ee.memo)(function(e){var t,i=e.position,r=e.anchor,a=e.children,s=xE(),o=xl(),l=o.animate,u=o.config,p=xk(),d=p[0],f=p[1],m=(0,ee.useRef)(!1),g=void 0,b=!1,v=f.width>0&&f.height>0,y=Math.round(i[0]),x=Math.round(i[1]);v&&("top"===r?(y-=f.width/2,x-=f.height+14):"right"===r?(y+=14,x-=f.height/2):"bottom"===r?(y-=f.width/2,x+=14):"left"===r?(y-=f.width+14,x-=f.height/2):"center"===r&&(y-=f.width/2,x-=f.height/2),g={transform:ms(y,x)},m.current||(b=!0),m.current=[y,x]);var w=fV({to:g,config:u,immediate:!l||b}),k=mr({},ma,s.tooltip,{transform:null!=(t=w.transform)?t:ms(y,x)});return(0,Z.jsx)(mn.div,{ref:d,style:k,children:a})});mo.displayName="TooltipWrapper";var mc=(0,ee.memo)(function(e){var t=e.size,i=void 0===t?12:t,r=e.color,a=e.style;return(0,Z.jsx)("span",{style:mr({display:"block",width:i,height:i,background:r},void 0===a?{}:a)})}),ml=(0,ee.memo)(function(e){var t,i=e.id,r=e.value,a=e.format,s=e.enableChip,o=e.color,l=e.renderContent,u=xE(),p=x_(a);if("function"==typeof l)t=l();else{var d=r;void 0!==p&&void 0!==d&&(d=p(d)),t=(0,Z.jsxs)("div",{style:u.tooltip.basic,children:[void 0!==s&&s&&(0,Z.jsx)(mc,{color:o,style:u.tooltip.chip}),void 0!==d?(0,Z.jsxs)("span",{children:[i,": ",(0,Z.jsx)("strong",{children:""+d})]}):i]})}return(0,Z.jsx)("div",{style:u.tooltip.container,children:t})}),mu={width:"100%",borderCollapse:"collapse"},mp=(0,ee.memo)(function(e){var t,i=e.title,r=e.rows,a=void 0===r?[]:r,s=e.renderContent,o=xE();return a.length?(t="function"==typeof s?s():(0,Z.jsxs)("div",{children:[i&&i,(0,Z.jsx)("table",{style:mr({},mu,o.tooltip.table),children:(0,Z.jsx)("tbody",{children:a.map(function(e,t){return(0,Z.jsx)("tr",{children:e.map(function(e,t){return(0,Z.jsx)("td",{style:o.tooltip.tableCell,children:e},t)})},t)})})})]}),(0,Z.jsx)("div",{style:o.tooltip.container,children:t})):null});mp.displayName="TableTooltip";var md=(0,ee.memo)(function(e){var t=e.x0,i=e.x1,r=e.y0,a=e.y1,s=xE(),o=xl(),l=o.animate,u=o.config,p=(0,ee.useMemo)(function(){return mr({},s.crosshair.line,{pointerEvents:"none"})},[s.crosshair.line]),d=fV({x1:t,x2:i,y1:r,y2:a,config:u,immediate:!l});return(0,Z.jsx)(mn.line,mr({},d,{fill:"none",style:p}))});md.displayName="CrosshairLine";var mh=(0,ee.memo)(function(e){var t,i,r=e.width,a=e.height,s=e.type,o=e.x,l=e.y;return"cross"===s?(t={x0:o,x1:o,y0:0,y1:a},i={x0:0,x1:r,y0:l,y1:l}):"top-left"===s?(t={x0:o,x1:o,y0:0,y1:l},i={x0:0,x1:o,y0:l,y1:l}):"top"===s?t={x0:o,x1:o,y0:0,y1:l}:"top-right"===s?(t={x0:o,x1:o,y0:0,y1:l},i={x0:o,x1:r,y0:l,y1:l}):"right"===s?i={x0:o,x1:r,y0:l,y1:l}:"bottom-right"===s?(t={x0:o,x1:o,y0:l,y1:a},i={x0:o,x1:r,y0:l,y1:l}):"bottom"===s?t={x0:o,x1:o,y0:l,y1:a}:"bottom-left"===s?(t={x0:o,x1:o,y0:l,y1:a},i={x0:0,x1:o,y0:l,y1:l}):"left"===s?i={x0:0,x1:o,y0:l,y1:l}:"x"===s?t={x0:o,x1:o,y0:0,y1:a}:"y"===s&&(i={x0:0,x1:r,y0:l,y1:l}),(0,Z.jsxs)(Z.Fragment,{children:[t&&(0,Z.jsx)(md,{x0:t.x0,x1:t.x1,y0:t.y0,y1:t.y1}),i&&(0,Z.jsx)(md,{x0:i.x0,x1:i.x1,y0:i.y0,y1:i.y1})]})});mh.displayName="Crosshair";var mf=(0,ee.createContext)({showTooltipAt:function(){},showTooltipFromEvent:function(){},hideTooltip:function(){}}),mm={isVisible:!1,position:[null,null],content:null,anchor:null},mg=(0,ee.createContext)(mm),mb=function(e){var t=(0,ee.useState)(mm),i=t[0],r=t[1],a=(0,ee.useCallback)(function(e,t,i){void 0===i&&(i="top"),r({isVisible:!0,position:[t[0],t[1]],anchor:i,content:e})},[r]),s=(0,ee.useCallback)(function(t,i,a){void 0===a&&(a="top");var s=e.current.getBoundingClientRect(),o=e.current.offsetWidth,l=o===s.width?1:o/s.width,u=(i.clientX-s.left)*l,p=(i.clientY-s.top)*l;"left"!==a&&"right"!==a||(a=u<s.width/2?"right":"left"),r({isVisible:!0,position:[u,p],anchor:a,content:t})},[e,r]),o=(0,ee.useCallback)(function(){r(mm)},[r]);return{actions:(0,ee.useMemo)(function(){return{showTooltipAt:a,showTooltipFromEvent:s,hideTooltip:o}},[a,s,o]),state:i}},mv=function(){var e=(0,ee.useContext)(mf);if(void 0===e)throw Error("useTooltip must be used within a TooltipProvider");return e},my=function(){var e=(0,ee.useContext)(mg);if(void 0===e)throw Error("useTooltipState must be used within a TooltipProvider");return e},mx=function(){var e=my();return e.isVisible?(0,Z.jsx)(mo,{position:e.position,anchor:e.anchor,children:e.content}):null},mw=function(e){var t=e.container,i=e.children,r=mb(t),a=r.actions,s=r.state;return(0,Z.jsx)(mf.Provider,{value:a,children:(0,Z.jsx)(mg.Provider,{value:s,children:i})})},mk=i(2203),m_=i.n(mk),mS=i(41365),mT=i.n(mS),mC=i(50847),mE=i.n(mC);function mR(e,t){return e=+e,t=+t,function(i){return e*(1-i)+t*i}}var mj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mI=RegExp(mj.source,"g");function mO(e,t){var i,r,a,s,o,l=mj.lastIndex=mI.lastIndex=0,u=-1,p=[],d=[];for(e+="",t+="";(a=mj.exec(e))&&(s=mI.exec(t));)(o=s.index)>l&&(o=t.slice(l,o),p[u]?p[u]+=o:p[++u]=o),(a=a[0])===(s=s[0])?p[u]?p[u]+=s:p[++u]=s:(p[++u]=null,d.push({i:u,x:mR(a,s)})),l=mI.lastIndex;return l<t.length&&(o=t.slice(l),p[u]?p[u]+=o:p[++u]=o),p.length<2?d[0]?(i=d[0].x,function(e){return i(e)+""}):(r=t,function(){return r}):(t=d.length,function(e){for(var i,r=0;r<t;++r)p[(i=d[r]).i]=i.x(e);return p.join("")})}var mP=i(62055),mN=i.n(mP),mA=i(10182),mD=i.n(mA);function mL(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}i(71166);let mU=Symbol("implicit");function mM(){var e=new Map,t=[],i=[],r=mU;function a(a){var s=a+"",o=e.get(s);if(!o){if(r!==mU)return r;e.set(s,o=t.push(a))}return i[(o-1)%i.length]}return a.domain=function(i){if(!arguments.length)return t.slice();for(let r of(t=[],e=new Map,i)){let i=r+"";e.has(i)||e.set(i,t.push(r))}return a},a.range=function(e){return arguments.length?(i=Array.from(e),a):i.slice()},a.unknown=function(e){return arguments.length?(r=e,a):r},a.copy=function(){return mM(t,i).unknown(r)},mL.apply(a,arguments),a}function mF(e){for(var t=e.length/6|0,i=Array(t),r=0;r<t;)i[r]="#"+e.slice(6*r,6*++r);return i}function m$(e,t,i){e.prototype=t.prototype=i,i.constructor=e}function mB(e,t){var i=Object.create(e.prototype);for(var r in t)i[r]=t[r];return i}function mq(){}var mV="\\s*([+-]?\\d+)\\s*",mz="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",mW="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mH=/^#([0-9a-f]{3,8})$/,mG=RegExp("^rgb\\("+[mV,mV,mV]+"\\)$"),mK=RegExp("^rgb\\("+[mW,mW,mW]+"\\)$"),mY=RegExp("^rgba\\("+[mV,mV,mV,mz]+"\\)$"),mJ=RegExp("^rgba\\("+[mW,mW,mW,mz]+"\\)$"),mX=RegExp("^hsl\\("+[mz,mW,mW]+"\\)$"),mQ=RegExp("^hsla\\("+[mz,mW,mW,mz]+"\\)$"),mZ={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function m0(){return this.rgb().formatHex()}function m1(){return this.rgb().formatRgb()}function m2(e){var t,i;return e=(e+"").trim().toLowerCase(),(t=mH.exec(e))?(i=t[1].length,t=parseInt(t[1],16),6===i?m3(t):3===i?new m8(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===i?m4(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===i?m4(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=mG.exec(e))?new m8(t[1],t[2],t[3],1):(t=mK.exec(e))?new m8(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=mY.exec(e))?m4(t[1],t[2],t[3],t[4]):(t=mJ.exec(e))?m4(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=mX.exec(e))?gt(t[1],t[2]/100,t[3]/100,1):(t=mQ.exec(e))?gt(t[1],t[2]/100,t[3]/100,t[4]):mZ.hasOwnProperty(e)?m3(mZ[e]):"transparent"===e?new m8(NaN,NaN,NaN,0):null}function m3(e){return new m8(e>>16&255,e>>8&255,255&e,1)}function m4(e,t,i,r){return r<=0&&(e=t=i=NaN),new m8(e,t,i,r)}function m6(e){return(e instanceof mq||(e=m2(e)),e)?new m8((e=e.rgb()).r,e.g,e.b,e.opacity):new m8}function m5(e,t,i,r){return 1==arguments.length?m6(e):new m8(e,t,i,null==r?1:r)}function m8(e,t,i,r){this.r=+e,this.g=+t,this.b=+i,this.opacity=+r}function m7(){return"#"+ge(this.r)+ge(this.g)+ge(this.b)}function m9(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function ge(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function gt(e,t,i,r){return r<=0?e=t=i=NaN:i<=0||i>=1?e=t=NaN:t<=0&&(e=NaN),new gn(e,t,i,r)}function gi(e){if(e instanceof gn)return new gn(e.h,e.s,e.l,e.opacity);if(e instanceof mq||(e=m2(e)),!e)return new gn;if(e instanceof gn)return e;var t=(e=e.rgb()).r/255,i=e.g/255,r=e.b/255,a=Math.min(t,i,r),s=Math.max(t,i,r),o=NaN,l=s-a,u=(s+a)/2;return l?(o=t===s?(i-r)/l+(i<r)*6:i===s?(r-t)/l+2:(t-i)/l+4,l/=u<.5?s+a:2-s-a,o*=60):l=u>0&&u<1?0:o,new gn(o,l,u,e.opacity)}function gn(e,t,i,r){this.h=+e,this.s=+t,this.l=+i,this.opacity=+r}function gr(e,t,i){return(e<60?t+(i-t)*e/60:e<180?i:e<240?t+(i-t)*(240-e)/60:t)*255}function ga(e,t,i,r,a){var s=e*e,o=s*e;return((1-3*e+3*s-o)*t+(4-6*s+3*o)*i+(1+3*e+3*s-3*o)*r+o*a)/6}m$(mq,m2,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:m0,formatHex:m0,formatHsl:function(){return gi(this).formatHsl()},formatRgb:m1,toString:m1}),m$(m8,m5,mB(mq,{brighter:function(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new m8(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new m8(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:m7,formatHex:m7,formatRgb:m9,toString:m9})),m$(gn,function(e,t,i,r){return 1==arguments.length?gi(e):new gn(e,t,i,null==r?1:r)},mB(mq,{brighter:function(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new gn(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new gn(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,i=this.l,r=i+(i<.5?i:1-i)*t,a=2*i-r;return new m8(gr(e>=240?e-240:e+120,a,r),gr(e,a,r),gr(e<120?e+240:e-120,a,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));let gs=e=>()=>e;function go(e,t){return function(i){return e+i*t}}function gc(e,t){var i=t-e;return i?go(e,i):gs(isNaN(e)?t:e)}let gl=function e(t){var i,r=1==(i=+(i=t))?gc:function(e,t){var r,a,s;return t-e?(r=e,a=t,r=Math.pow(r,s=i),a=Math.pow(a,s)-r,s=1/s,function(e){return Math.pow(r+e*a,s)}):gs(isNaN(e)?t:e)};function a(e,t){var i=r((e=m5(e)).r,(t=m5(t)).r),a=r(e.g,t.g),s=r(e.b,t.b),o=gc(e.opacity,t.opacity);return function(t){return e.r=i(t),e.g=a(t),e.b=s(t),e.opacity=o(t),e+""}}return a.gamma=e,a}(1);function gu(e){return function(t){var i,r,a=t.length,s=Array(a),o=Array(a),l=Array(a);for(i=0;i<a;++i)r=m5(t[i]),s[i]=r.r||0,o[i]=r.g||0,l[i]=r.b||0;return s=e(s),o=e(o),l=e(l),r.opacity=1,function(e){return r.r=s(e),r.g=o(e),r.b=l(e),r+""}}}var gp=gu(function(e){var t=e.length-1;return function(i){var r=i<=0?i=0:i>=1?(i=1,t-1):Math.floor(i*t),a=e[r],s=e[r+1],o=r>0?e[r-1]:2*a-s,l=r<t-1?e[r+2]:2*s-a;return ga((i-r/t)*t,o,a,s,l)}});gu(function(e){var t=e.length;return function(i){var r=Math.floor(((i%=1)<0?++i:i)*t),a=e[(r+t-1)%t],s=e[r%t],o=e[(r+1)%t],l=e[(r+2)%t];return ga((i-r/t)*t,a,s,o,l)}});let gd=e=>gp(e[e.length-1]);var gh=[,,,].concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(mF);let gf=gd(gh);var gm=[,,,].concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(mF);let gg=gd(gm);var gb=[,,,].concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(mF);let gv=gd(gb);var gy=[,,,].concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(mF);let gx=gd(gy);var gw=[,,,].concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(mF);let gk=gd(gw);var g_=[,,,].concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(mF);let gS=gd(g_);var gT=[,,,].concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(mF);let gC=gd(gT);var gE=[,,,].concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(mF);let gR=gd(gE);var gj=[,,,].concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(mF);let gI=gd(gj);var gO=[,,,].concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(mF);let gP=gd(gO);var gN=[,,,].concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(mF);let gA=gd(gN);var gD=[,,,].concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(mF);let gL=gd(gD);var gU=[,,,].concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(mF);let gM=gd(gU);var gF=[,,,].concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(mF);let g$=gd(gF);var gB=[,,,].concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(mF);let gq=gd(gB);var gV=[,,,].concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(mF);let gz=gd(gV);var gW=[,,,].concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(mF);let gH=gd(gW);var gG=[,,,].concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(mF);let gK=gd(gG);var gY=[,,,].concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(mF);let gJ=gd(gY);var gX=[,,,].concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(mF);let gQ=gd(gX);var gZ=[,,,].concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(mF);let g0=gd(gZ);var g1=[,,,].concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(mF);let g2=gd(g1);var g3=[,,,].concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(mF);let g4=gd(g3);var g6=[,,,].concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(mF);let g5=gd(g6);var g8=[,,,].concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(mF);let g7=gd(g8);var g9=[,,,].concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(mF);let be=gd(g9);var bt=[,,,].concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(mF);let bi=gd(bt),bn=mF("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),br=mF("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),ba=mF("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),bs=mF("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),bo=mF("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),bc=mF("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),bl=mF("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),bu=mF("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),bp=mF("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function bd(e){var t=e.length;return function(i){return e[Math.max(0,Math.min(t-1,Math.floor(i*t)))]}}let bh=bd(mF("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var bf=bd(mF("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),bm=bd(mF("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),bg=bd(mF("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));let bb=Math.PI/180,bv=180/Math.PI;var by=-1.78277*.29227-.1347134789;function bx(e,t,i,r){return 1==arguments.length?function(e){if(e instanceof bw)return new bw(e.h,e.s,e.l,e.opacity);e instanceof m8||(e=m6(e));var t=e.r/255,i=e.g/255,r=e.b/255,a=(by*r+-1.7884503806*t-3.5172982438*i)/(by+-1.7884503806-3.5172982438),s=r-a,o=-((1.97294*(i-a)- -.29227*s)/.90649),l=Math.sqrt(o*o+s*s)/(1.97294*a*(1-a)),u=l?Math.atan2(o,s)*bv-120:NaN;return new bw(u<0?u+360:u,l,a,e.opacity)}(e):new bw(e,t,i,null==r?1:r)}function bw(e,t,i,r){this.h=+e,this.s=+t,this.l=+i,this.opacity=+r}function bk(e){return function t(i){function r(t,r){var a=e((t=bx(t)).h,(r=bx(r)).h),s=gc(t.s,r.s),o=gc(t.l,r.l),l=gc(t.opacity,r.opacity);return function(e){return t.h=a(e),t.s=s(e),t.l=o(Math.pow(e,i)),t.opacity=l(e),t+""}}return i=+i,r.gamma=t,r}(1)}m$(bw,bx,mB(mq,{brighter:function(e){return e=null==e?1.4285714285714286:Math.pow(1.4285714285714286,e),new bw(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new bw(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*bb,t=+this.l,i=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),a=Math.sin(e);return new m8(255*(t+i*(-.14861*r+1.78277*a)),255*(t+i*(-.29227*r+-.90649*a)),255*(t+1.97294*r*i),this.opacity)}})),bk(function(e,t){var i=t-e;return i?go(e,i>180||i<-180?i-360*Math.round(i/360):i):gs(isNaN(e)?t:e)});var b_=bk(gc),bS=b_(bx(-100,.75,.35),bx(80,1.5,.8)),bT=b_(bx(260,.75,.35),bx(80,1.5,.8)),bC=bx();let bE=b_(bx(300,.5,0),bx(-240,.5,1));var bR=m5(),bj=Math.PI/3,bI=2*Math.PI/3,bO=i(51282),bP=i.n(bO),bN=i(96472),bA=i.n(bN);function bD(e,t,i){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+i)/6)}function bL(e){this._context=e}function bU(){}function bM(e){this._context=e}function bF(e){this._context=e}function b$(e,t){this._basis=new bL(e),this._beta=t}bL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:bD(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:bD(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},bM.prototype={areaStart:bU,areaEnd:bU,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:bD(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},bF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var i=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(i,r):this._context.moveTo(i,r);break;case 3:this._point=4;default:bD(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},b$.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,i=e.length-1;if(i>0)for(var r,a=e[0],s=t[0],o=e[i]-a,l=t[i]-s,u=-1;++u<=i;)r=u/i,this._basis.point(this._beta*e[u]+(1-this._beta)*(a+r*o),this._beta*t[u]+(1-this._beta)*(s+r*l));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};let bB=function e(t){function i(e){return 1===t?new bL(e):new b$(e,t)}return i.beta=function(t){return e(+t)},i}(.85);function bq(e,t,i){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-i),e._x2,e._y2)}function bV(e,t){this._context=e,this._k=(1-t)/6}bV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:bq(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:bq(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};let bz=function e(t){function i(e){return new bV(e,t)}return i.tension=function(t){return e(+t)},i}(0);function bW(e,t){this._context=e,this._k=(1-t)/6}bW.prototype={areaStart:bU,areaEnd:bU,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:bq(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};let bH=function e(t){function i(e){return new bW(e,t)}return i.tension=function(t){return e(+t)},i}(0);function bG(e,t){this._context=e,this._k=(1-t)/6}bG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:bq(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};let bK=function e(t){function i(e){return new bG(e,t)}return i.tension=function(t){return e(+t)},i}(0);function bY(e,t,i){var r=e._x1,a=e._y1,s=e._x2,o=e._y2;if(e._l01_a>1e-12){var l=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*l-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,a=(a*l-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>1e-12){var p=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,d=3*e._l23_a*(e._l23_a+e._l12_a);s=(s*p+e._x1*e._l23_2a-t*e._l12_2a)/d,o=(o*p+e._y1*e._l23_2a-i*e._l12_2a)/d}e._context.bezierCurveTo(r,a,s,o,e._x2,e._y2)}function bJ(e,t){this._context=e,this._alpha=t}bJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var i=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:bY(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};let bX=function e(t){function i(e){return t?new bJ(e,t):new bV(e,0)}return i.alpha=function(t){return e(+t)},i}(.5);function bQ(e,t){this._context=e,this._alpha=t}bQ.prototype={areaStart:bU,areaEnd:bU,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var i=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:bY(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};let bZ=function e(t){function i(e){return t?new bQ(e,t):new bW(e,0)}return i.alpha=function(t){return e(+t)},i}(.5);function b0(e,t){this._context=e,this._alpha=t}b0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var i=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:bY(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};let b1=function e(t){function i(e){return t?new b0(e,t):new bG(e,0)}return i.alpha=function(t){return e(+t)},i}(.5);function b2(e){this._context=e}function b3(e){return new b2(e)}function b4(e){this._context=e}function b6(e,t,i){var r=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(r||a<0&&-0),o=(i-e._y1)/(a||r<0&&-0);return((s<0?-1:1)+(o<0?-1:1))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs((s*a+o*r)/(r+a)))||0}function b5(e,t){var i=e._x1-e._x0;return i?(3*(e._y1-e._y0)/i-t)/2:t}function b8(e,t,i){var r=e._x0,a=e._y0,s=e._x1,o=e._y1,l=(s-r)/3;e._context.bezierCurveTo(r+l,a+l*t,s-l,o-l*i,s,o)}function b7(e){this._context=e}function b9(e){this._context=new ve(e)}function ve(e){this._context=e}function vt(e){this._context=e}function vi(e){var t,i,r=e.length-1,a=Array(r),s=Array(r),o=Array(r);for(a[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)i=a[t]/s[t-1],s[t]-=i,o[t]-=i*o[t-1];for(a[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/s[t];for(t=0,s[r-1]=(e[r]+a[r-1])/2;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function vn(e,t){this._context=e,this._t=t}b2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},b4.prototype={areaStart:bU,areaEnd:bU,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function vr(e){for(var t,i=0,r=-1,a=e.length;++r<a;)(t=+e[r][1])&&(i+=t);return i}function va(e,t){if((a=e.length)>1)for(var i,r,a,s=1,o=e[t[0]],l=o.length;s<a;++s)for(r=o,o=e[t[s]],i=0;i<l;++i)o[i][1]+=o[i][0]=isNaN(r[i][1])?r[i][0]:r[i][1]}function vs(e,t){if((i=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var i,r=e.slice(0,i);return[r.length>1?r[0]+r.slice(2):r,+e.slice(i+1)]}function vo(e){return(e=vs(Math.abs(e)))?e[1]:NaN}b7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:b8(this,this._t0,b5(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var i=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,b8(this,b5(this,i=b6(this,e,t)),i);break;default:b8(this,this._t0,i=b6(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=i}}},(b9.prototype=Object.create(b7.prototype)).point=function(e,t){b7.prototype.point.call(this,t,e)},ve.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,i,r,a,s){this._context.bezierCurveTo(t,e,r,i,s,a)}},vt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,i=e.length;if(i){if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===i)this._context.lineTo(e[1],t[1]);else for(var r=vi(e),a=vi(t),s=0,o=1;o<i;++s,++o)this._context.bezierCurveTo(r[0][s],a[0][s],r[1][s],a[1][s],e[o],t[o])}(this._line||0!==this._line&&1===i)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},vn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var i=this._x*(1-this._t)+e*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,t)}}this._x=e,this._y=t}};var vc=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vl(e){var t;if(!(t=vc.exec(e)))throw Error("invalid format: "+e);return new vu({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function vu(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function vp(e,t){var i=vs(e,t);if(!i)return e+"";var r=i[0],a=i[1];return a<0?"0."+Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+Array(a-r.length+2).join("0")}vl.prototype=vu.prototype,vu.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};let vd={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return vp(100*e,t)},r:vp,s:function(e,t){var i=vs(e,t);if(!i)return e+"";var r=i[0],a=i[1],s=a-(F=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,o=r.length;return s===o?r:s>o?r+Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+Array(1-s).join("0")+vs(e,Math.max(0,t+s-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function vh(e){return e}var vf=Array.prototype.map,vm=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];B=($=function(e){var t,i,r,a=void 0===e.grouping||void 0===e.thousands?vh:(t=vf.call(e.grouping,Number),i=e.thousands+"",function(e,r){for(var a=e.length,s=[],o=0,l=t[0],u=0;a>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),s.push(e.substring(a-=l,a+l)),!((u+=l+1)>r));)l=t[o=(o+1)%t.length];return s.reverse().join(i)}),s=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",l=void 0===e.decimal?".":e.decimal+"",u=void 0===e.numerals?vh:(r=vf.call(e.numerals,String),function(e){return e.replace(/[0-9]/g,function(e){return r[+e]})}),p=void 0===e.percent?"%":e.percent+"",d=void 0===e.minus?"-":e.minus+"",f=void 0===e.nan?"NaN":e.nan+"";function m(e){var t=(e=vl(e)).fill,i=e.align,r=e.sign,m=e.symbol,g=e.zero,b=e.width,v=e.comma,y=e.precision,x=e.trim,w=e.type;"n"===w?(v=!0,w="g"):vd[w]||(void 0===y&&(y=12),x=!0,w="g"),(g||"0"===t&&"="===i)&&(g=!0,t="0",i="=");var k="$"===m?s:"#"===m&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",_="$"===m?o:/[%p]/.test(w)?p:"",S=vd[w],T=/[defgprs%]/.test(w);function C(e){var s,o,p,m=k,C=_;if("c"===w)C=S(e)+C,e="";else{var E=(e=+e)<0||1/e<0;if(e=isNaN(e)?f:S(Math.abs(e),y),x&&(e=function(e){e:for(var t,i=e.length,r=1,a=-1;r<i;++r)switch(e[r]){case".":a=t=r;break;case"0":0===a&&(a=r),t=r;break;default:if(!+e[r])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),E&&0==+e&&"+"!==r&&(E=!1),m=(E?"("===r?r:d:"-"===r||"("===r?"":r)+m,C=("s"===w?vm[8+F/3]:"")+C+(E&&"("===r?")":""),T){for(s=-1,o=e.length;++s<o;)if(48>(p=e.charCodeAt(s))||p>57){C=(46===p?l+e.slice(s+1):e.slice(s))+C,e=e.slice(0,s);break}}}v&&!g&&(e=a(e,1/0));var R=m.length+e.length+C.length,j=R<b?Array(b-R+1).join(t):"";switch(v&&g&&(e=a(j+e,j.length?b-C.length:1/0),j=""),i){case"<":e=m+e+C+j;break;case"=":e=m+j+e+C;break;case"^":e=j.slice(0,R=j.length>>1)+m+e+C+j.slice(R);break;default:e=j+m+e+C}return u(e)}return y=void 0===y?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),C.toString=function(){return e+""},C}return{format:m,formatPrefix:function(e,t){var i=m(((e=vl(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(vo(t)/3))),a=Math.pow(10,-r),s=vm[8+r/3];return function(e){return i(a*e)+s}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"})).format,q=$.formatPrefix;var vg=new Date,vb=new Date;function vv(e,t,i,r){function a(t){return e(t=0==arguments.length?new Date:new Date(+t)),t}return a.floor=function(t){return e(t=new Date(+t)),t},a.ceil=function(i){return e(i=new Date(i-1)),t(i,1),e(i),i},a.round=function(e){var t=a(e),i=a.ceil(e);return e-t<i-e?t:i},a.offset=function(e,i){return t(e=new Date(+e),null==i?1:Math.floor(i)),e},a.range=function(i,r,s){var o,l=[];if(i=a.ceil(i),s=null==s?1:Math.floor(s),!(i<r)||!(s>0))return l;do l.push(o=new Date(+i)),t(i,s),e(i);while(o<i&&i<r);return l},a.filter=function(i){return vv(function(t){if(t>=t)for(;e(t),!i(t);)t.setTime(t-1)},function(e,r){if(e>=e){if(r<0)for(;++r<=0;)for(;t(e,-1),!i(e););else for(;--r>=0;)for(;t(e,1),!i(e););}})},i&&(a.count=function(t,r){return vg.setTime(+t),vb.setTime(+r),e(vg),e(vb),Math.floor(i(vg,vb))},a.every=function(e){return isFinite(e=Math.floor(e))&&e>0?e>1?a.filter(r?function(t){return r(t)%e==0}:function(t){return a.count(0,t)%e==0}):a:null}),a}function vy(e){return vv(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/6048e5})}var vx=vy(0),vw=vy(1),vk=vy(2),v_=vy(3),vS=vy(4),vT=vy(5),vC=vy(6);vx.range,vw.range,vk.range,v_.range,vS.range,vT.range,vC.range;var vE=vv(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5},function(e){return e.getUTCDate()-1});function vR(e){return vv(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/6048e5})}vE.range;var vj=vR(0),vI=vR(1),vO=vR(2),vP=vR(3),vN=vR(4),vA=vR(5),vD=vR(6);vj.range,vI.range,vO.range,vP.range,vN.range,vA.range,vD.range;var vL=vv(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5},function(e){return e.getDate()-1});vL.range;var vU=vv(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});vU.every=function(e){return isFinite(e=Math.floor(e))&&e>0?vv(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,i){t.setFullYear(t.getFullYear()+i*e)}):null},vU.range;var vM=vv(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});function vF(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function v$(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function vB(e,t,i){return{y:e,m:t,d:i,H:0,M:0,S:0,L:0}}vM.every=function(e){return isFinite(e=Math.floor(e))&&e>0?vv(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,i){t.setUTCFullYear(t.getUTCFullYear()+i*e)}):null},vM.range;var vq={"-":"",_:" ",0:"0"},vV=/^\s*\d+/,vz=/^%/,vW=/[\\^$*+?|[\]().{}]/g;function vH(e,t,i){var r=e<0?"-":"",a=(r?-e:e)+"",s=a.length;return r+(s<i?Array(i-s+1).join(t)+a:a)}function vG(e){return e.replace(vW,"\\$&")}function vK(e){return RegExp("^(?:"+e.map(vG).join("|")+")","i")}function vY(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function vJ(e,t,i){var r=vV.exec(t.slice(i,i+1));return r?(e.w=+r[0],i+r[0].length):-1}function vX(e,t,i){var r=vV.exec(t.slice(i,i+1));return r?(e.u=+r[0],i+r[0].length):-1}function vQ(e,t,i){var r=vV.exec(t.slice(i,i+2));return r?(e.U=+r[0],i+r[0].length):-1}function vZ(e,t,i){var r=vV.exec(t.slice(i,i+2));return r?(e.V=+r[0],i+r[0].length):-1}function v0(e,t,i){var r=vV.exec(t.slice(i,i+2));return r?(e.W=+r[0],i+r[0].length):-1}function v1(e,t,i){var r=vV.exec(t.slice(i,i+4));return r?(e.y=+r[0],i+r[0].length):-1}function v2(e,t,i){var r=vV.exec(t.slice(i,i+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),i+r[0].length):-1}function v3(e,t,i){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(i,i+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),i+r[0].length):-1}function v4(e,t,i){var r=vV.exec(t.slice(i,i+1));return r?(e.q=3*r[0]-3,i+r[0].length):-1}function v6(e,t,i){var r=vV.exec(t.slice(i,i+2));return r?(e.m=r[0]-1,i+r[0].length):-1}function v5(e,t,i){var r=vV.exec(t.slice(i,i+2));return r?(e.d=+r[0],i+r[0].length):-1}function v8(e,t,i){var r=vV.exec(t.slice(i,i+3));return r?(e.m=0,e.d=+r[0],i+r[0].length):-1}function v7(e,t,i){var r=vV.exec(t.slice(i,i+2));return r?(e.H=+r[0],i+r[0].length):-1}function v9(e,t,i){var r=vV.exec(t.slice(i,i+2));return r?(e.M=+r[0],i+r[0].length):-1}function ye(e,t,i){var r=vV.exec(t.slice(i,i+2));return r?(e.S=+r[0],i+r[0].length):-1}function yt(e,t,i){var r=vV.exec(t.slice(i,i+3));return r?(e.L=+r[0],i+r[0].length):-1}function yi(e,t,i){var r=vV.exec(t.slice(i,i+6));return r?(e.L=Math.floor(r[0]/1e3),i+r[0].length):-1}function yn(e,t,i){var r=vz.exec(t.slice(i,i+1));return r?i+r[0].length:-1}function yr(e,t,i){var r=vV.exec(t.slice(i));return r?(e.Q=+r[0],i+r[0].length):-1}function ya(e,t,i){var r=vV.exec(t.slice(i));return r?(e.s=+r[0],i+r[0].length):-1}function ys(e,t){return vH(e.getDate(),t,2)}function yo(e,t){return vH(e.getHours(),t,2)}function yc(e,t){return vH(e.getHours()%12||12,t,2)}function yl(e,t){return vH(1+vL.count(vU(e),e),t,3)}function yu(e,t){return vH(e.getMilliseconds(),t,3)}function yp(e,t){return yu(e,t)+"000"}function yd(e,t){return vH(e.getMonth()+1,t,2)}function yh(e,t){return vH(e.getMinutes(),t,2)}function yf(e,t){return vH(e.getSeconds(),t,2)}function ym(e){var t=e.getDay();return 0===t?7:t}function yg(e,t){return vH(vj.count(vU(e)-1,e),t,2)}function yb(e){var t=e.getDay();return t>=4||0===t?vN(e):vN.ceil(e)}function yv(e,t){return e=yb(e),vH(vN.count(vU(e),e)+(4===vU(e).getDay()),t,2)}function yy(e){return e.getDay()}function yx(e,t){return vH(vI.count(vU(e)-1,e),t,2)}function yw(e,t){return vH(e.getFullYear()%100,t,2)}function yk(e,t){return vH((e=yb(e)).getFullYear()%100,t,2)}function y_(e,t){return vH(e.getFullYear()%1e4,t,4)}function yS(e,t){var i=e.getDay();return vH((e=i>=4||0===i?vN(e):vN.ceil(e)).getFullYear()%1e4,t,4)}function yT(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+vH(t/60|0,"0",2)+vH(t%60,"0",2)}function yC(e,t){return vH(e.getUTCDate(),t,2)}function yE(e,t){return vH(e.getUTCHours(),t,2)}function yR(e,t){return vH(e.getUTCHours()%12||12,t,2)}function yj(e,t){return vH(1+vE.count(vM(e),e),t,3)}function yI(e,t){return vH(e.getUTCMilliseconds(),t,3)}function yO(e,t){return yI(e,t)+"000"}function yP(e,t){return vH(e.getUTCMonth()+1,t,2)}function yN(e,t){return vH(e.getUTCMinutes(),t,2)}function yA(e,t){return vH(e.getUTCSeconds(),t,2)}function yD(e){var t=e.getUTCDay();return 0===t?7:t}function yL(e,t){return vH(vx.count(vM(e)-1,e),t,2)}function yU(e){var t=e.getUTCDay();return t>=4||0===t?vS(e):vS.ceil(e)}function yM(e,t){return e=yU(e),vH(vS.count(vM(e),e)+(4===vM(e).getUTCDay()),t,2)}function yF(e){return e.getUTCDay()}function y$(e,t){return vH(vw.count(vM(e)-1,e),t,2)}function yB(e,t){return vH(e.getUTCFullYear()%100,t,2)}function yq(e,t){return vH((e=yU(e)).getUTCFullYear()%100,t,2)}function yV(e,t){return vH(e.getUTCFullYear()%1e4,t,4)}function yz(e,t){var i=e.getUTCDay();return vH((e=i>=4||0===i?vS(e):vS.ceil(e)).getUTCFullYear()%1e4,t,4)}function yW(){return"+0000"}function yH(){return"%"}function yG(e){return+e}function yK(e){return Math.floor(+e/1e3)}z=(V=function(e){var t=e.dateTime,i=e.date,r=e.time,a=e.periods,s=e.days,o=e.shortDays,l=e.months,u=e.shortMonths,p=vK(a),d=vY(a),f=vK(s),m=vY(s),g=vK(o),b=vY(o),v=vK(l),y=vY(l),x=vK(u),w=vY(u),k={a:function(e){return o[e.getDay()]},A:function(e){return s[e.getDay()]},b:function(e){return u[e.getMonth()]},B:function(e){return l[e.getMonth()]},c:null,d:ys,e:ys,f:yp,g:yk,G:yS,H:yo,I:yc,j:yl,L:yu,m:yd,M:yh,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:yG,s:yK,S:yf,u:ym,U:yg,V:yv,w:yy,W:yx,x:null,X:null,y:yw,Y:y_,Z:yT,"%":yH},_={a:function(e){return o[e.getUTCDay()]},A:function(e){return s[e.getUTCDay()]},b:function(e){return u[e.getUTCMonth()]},B:function(e){return l[e.getUTCMonth()]},c:null,d:yC,e:yC,f:yO,g:yq,G:yz,H:yE,I:yR,j:yj,L:yI,m:yP,M:yN,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:yG,s:yK,S:yA,u:yD,U:yL,V:yM,w:yF,W:y$,x:null,X:null,y:yB,Y:yV,Z:yW,"%":yH},S={a:function(e,t,i){var r=g.exec(t.slice(i));return r?(e.w=b.get(r[0].toLowerCase()),i+r[0].length):-1},A:function(e,t,i){var r=f.exec(t.slice(i));return r?(e.w=m.get(r[0].toLowerCase()),i+r[0].length):-1},b:function(e,t,i){var r=x.exec(t.slice(i));return r?(e.m=w.get(r[0].toLowerCase()),i+r[0].length):-1},B:function(e,t,i){var r=v.exec(t.slice(i));return r?(e.m=y.get(r[0].toLowerCase()),i+r[0].length):-1},c:function(e,i,r){return E(e,t,i,r)},d:v5,e:v5,f:yi,g:v2,G:v1,H:v7,I:v7,j:v8,L:yt,m:v6,M:v9,p:function(e,t,i){var r=p.exec(t.slice(i));return r?(e.p=d.get(r[0].toLowerCase()),i+r[0].length):-1},q:v4,Q:yr,s:ya,S:ye,u:vX,U:vQ,V:vZ,w:vJ,W:v0,x:function(e,t,r){return E(e,i,t,r)},X:function(e,t,i){return E(e,r,t,i)},y:v2,Y:v1,Z:v3,"%":yn};function T(e,t){return function(i){var r,a,s,o=[],l=-1,u=0,p=e.length;for(i instanceof Date||(i=new Date(+i));++l<p;)37===e.charCodeAt(l)&&(o.push(e.slice(u,l)),null!=(a=vq[r=e.charAt(++l)])?r=e.charAt(++l):a="e"===r?" ":"0",(s=t[r])&&(r=s(i,a)),o.push(r),u=l+1);return o.push(e.slice(u,l)),o.join("")}}function C(e,t){return function(i){var r,a,s=vB(1900,void 0,1);if(E(s,e,i+="",0)!=i.length)return null;if("Q"in s)return new Date(s.Q);if("s"in s)return new Date(1e3*s.s+("L"in s?s.L:0));if(!t||"Z"in s||(s.Z=0),"p"in s&&(s.H=s.H%12+12*s.p),void 0===s.m&&(s.m="q"in s?s.q:0),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(r=(a=(r=v$(vB(s.y,0,1))).getUTCDay())>4||0===a?vw.ceil(r):vw(r),r=vE.offset(r,(s.V-1)*7),s.y=r.getUTCFullYear(),s.m=r.getUTCMonth(),s.d=r.getUTCDate()+(s.w+6)%7):(r=(a=(r=vF(vB(s.y,0,1))).getDay())>4||0===a?vI.ceil(r):vI(r),r=vL.offset(r,(s.V-1)*7),s.y=r.getFullYear(),s.m=r.getMonth(),s.d=r.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),a="Z"in s?v$(vB(s.y,0,1)).getUTCDay():vF(vB(s.y,0,1)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(a+5)%7:s.w+7*s.U-(a+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,v$(s)):vF(s)}}function E(e,t,i,r){for(var a,s,o=0,l=t.length,u=i.length;o<l;){if(r>=u)return -1;if(37===(a=t.charCodeAt(o++))){if(!(s=S[(a=t.charAt(o++))in vq?t.charAt(o++):a])||(r=s(e,i,r))<0)return -1}else if(a!=i.charCodeAt(r++))return -1}return r}return k.x=T(i,k),k.X=T(r,k),k.c=T(t,k),_.x=T(i,_),_.X=T(r,_),_.c=T(t,_),{format:function(e){var t=T(e+="",k);return t.toString=function(){return e},t},parse:function(e){var t=C(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=T(e+="",_);return t.toString=function(){return e},t},utcParse:function(e){var t=C(e+="",!0);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})).format,W=V.parse,H=V.utcFormat,G=V.utcParse,Object.prototype.hasOwnProperty;var yY=i(1149),yJ=i.n(yY),yX=i(24319),yQ=i.n(yX),yZ=i(81741),y0=i.n(yZ);function y1(){return(y1=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function y2(e,t){return(y2=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y3(e,t){if(null==e)return{};var i,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)i=s[r],t.indexOf(i)>=0||(a[i]=e[i]);return a}var y4={fill:p7().string,fontSize:p7().number,fontFamily:p7().string},y6=p7().shape({domain:p7().shape({line:p7().shape({stroke:p7().string.isRequired,strokeWidth:p7().number.isRequired,strokeDasharray:p7().string}).isRequired}).isRequired,ticks:p7().shape({line:p7().shape({stroke:p7().string.isRequired,strokeWidth:p7().number.isRequired,strokeDasharray:p7().string}).isRequired,text:p7().shape(y1({},y4)).isRequired}).isRequired,legend:p7().shape({text:p7().shape(y1({},y4)).isRequired}).isRequired}),y5=p7().shape({line:p7().shape({stroke:p7().string.isRequired,strokeWidth:p7().number.isRequired,strokeDasharray:p7().string}).isRequired}),y8=p7().shape({hidden:p7().shape({symbol:p7().shape({fill:p7().string.isRequired,opacity:p7().number}).isRequired,text:p7().shape(y1({},y4,{opacity:p7().number})).isRequired}).isRequired,text:p7().shape(y1({},y4)).isRequired}),y7=p7().shape({text:p7().shape(y1({},y4)).isRequired}),y9=p7().shape({text:p7().shape(y1({},y4)).isRequired}),xe=p7().shape({text:p7().shape(y1({},y4)).isRequired}),xt=p7().shape({line:p7().shape({stroke:p7().string.isRequired,strokeWidth:p7().number.isRequired,strokeDasharray:p7().string}).isRequired}),xi=p7().shape({text:p7().shape(y1({},y4,{outlineWidth:p7().number.isRequired,outlineColor:p7().string.isRequired})).isRequired,link:p7().shape({stroke:p7().string.isRequired,strokeWidth:p7().number.isRequired,outlineWidth:p7().number.isRequired,outlineColor:p7().string.isRequired}).isRequired,outline:p7().shape({stroke:p7().string.isRequired,strokeWidth:p7().number.isRequired,outlineWidth:p7().number.isRequired,outlineColor:p7().string.isRequired}).isRequired,symbol:p7().shape({fill:p7().string.isRequired,outlineWidth:p7().number.isRequired,outlineColor:p7().string.isRequired}).isRequired}),xn=(p7().shape({background:p7().string.isRequired,fontFamily:p7().string.isRequired,fontSize:p7().number.isRequired,textColor:p7().string.isRequired,axis:y6.isRequired,grid:y5.isRequired,legends:y8.isRequired,labels:y7.isRequired,dots:y9.isRequired,markers:xe,crosshair:xt.isRequired,annotations:xi.isRequired}),{background:"transparent",fontFamily:"sans-serif",fontSize:11,textColor:"#333333",axis:{domain:{line:{stroke:"transparent",strokeWidth:1}},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{}},legend:{text:{fontSize:12}}},grid:{line:{stroke:"#dddddd",strokeWidth:1}},legends:{hidden:{symbol:{fill:"#333333",opacity:.6},text:{fill:"#333333",opacity:.6}},text:{},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{fontSize:10}},title:{text:{}}},labels:{text:{}},markers:{lineColor:"#000000",lineStrokeWidth:1,text:{}},dots:{text:{}},tooltip:{container:{background:"white",color:"inherit",fontSize:"inherit",borderRadius:"2px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.25)",padding:"5px 9px"},basic:{whiteSpace:"pre",display:"flex",alignItems:"center"},chip:{marginRight:7},table:{},tableCell:{padding:"3px 5px"},tableCellValue:{fontWeight:"bold"}},crosshair:{line:{stroke:"#000000",strokeWidth:1,strokeOpacity:.75,strokeDasharray:"6 6"}},annotations:{text:{fontSize:13,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},link:{stroke:"#000000",strokeWidth:1,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},outline:{fill:"none",stroke:"#000000",strokeWidth:2,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},symbol:{fill:"#000000",outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1}}}),xr=["axis.ticks.text","axis.legend.text","legends.title.text","legends.text","legends.ticks.text","legends.title.text","labels.text","dots.text","markers.text","annotations.text"],xa=function(e,t){var i=m_()({},e,t);return xr.forEach(function(e){void 0===mT()(i,e+".fontFamily")&&mE()(i,e+".fontFamily",i.fontFamily),void 0===mT()(i,e+".fontSize")&&mE()(i,e+".fontSize",i.fontSize),void 0===mT()(i,e+".fill")&&mE()(i,e+".fill",i.textColor)}),i},xs=(0,ee.createContext)(),xo=function(e){var t=e.children,i=e.animate,r=e.stiffness,a=e.damping,s=e.config,o=(0,ee.useMemo)(function(){return{animate:i,springConfig:{stiffness:r,damping:a},config:mN()(s)?h8[s]:s}},[i,r,a,s]);return(0,Z.jsx)(xs.Provider,{value:o,children:t})},xc={animate:p7().bool,motionStiffness:p7().number,motionDamping:p7().number,motionConfig:p7().oneOfType([p7().oneOf(Object.keys(h8)),p7().shape({mass:p7().number,tension:p7().number,friction:p7().number,clamp:p7().bool,precision:p7().number,velocity:p7().number,duration:p7().number,easing:p7().func})])};xo.propTypes={children:p7().node.isRequired,animate:xc.animate,stiffness:xc.motionStiffness,damping:xc.motionDamping,config:xc.motionConfig},xo.defaultProps={animate:!0,stiffness:90,damping:15,config:"default"};var xl=function(){return(0,ee.useContext)(xs)},xu=function(e){var t,i=xl(),r=i.animate,a=i.config,s=(t=(0,ee.useRef)(),(0,ee.useEffect)(function(){t.current=e},[e]),t.current),o=(0,ee.useMemo)(function(){return mO(s,e)},[s,e]);return fJ(fV({from:{value:0},to:{value:1},reset:!0,config:a,immediate:!r}).value,o)},xp=Object.keys({nivo:["#d76445","#f47560","#e8c1a0","#97e3d5","#61cdbb","#00b0a7"],BrBG:mD()(gh),PRGn:mD()(gm),PiYG:mD()(gb),PuOr:mD()(gy),RdBu:mD()(gw),RdGy:mD()(g_),RdYlBu:mD()(gT),RdYlGn:mD()(gE),spectral:mD()(gj),blues:mD()(gO),greens:mD()(gN),greys:mD()(gD),oranges:mD()(gU),purples:mD()(gF),reds:mD()(gB),BuGn:mD()(gV),BuPu:mD()(gW),GnBu:mD()(gG),OrRd:mD()(gY),PuBuGn:mD()(gX),PuBu:mD()(gZ),PuRd:mD()(g1),RdPu:mD()(g3),YlGnBu:mD()(g6),YlGn:mD()(g8),YlOrBr:mD()(g9),YlOrRd:mD()(bt)}),xd=(mD()(gh),mD()(gm),mD()(gb),mD()(gy),mD()(gw),mD()(g_),mD()(gT),mD()(gE),mD()(gj),mD()(gO),mD()(gN),mD()(gD),mD()(gU),mD()(gF),mD()(gB),mD()(gV),mD()(gW),mD()(gG),mD()(gY),mD()(gX),mD()(gZ),mD()(g1),mD()(g3),mD()(g6),mD()(g8),mD()(g9),mD()(bt),p7().oneOfType([p7().oneOf(xp),p7().func,p7().arrayOf(p7().string)]),{basis:function(e){return new bL(e)},basisClosed:function(e){return new bM(e)},basisOpen:function(e){return new bF(e)},bundle:bB,cardinal:bz,cardinalClosed:bH,cardinalOpen:bK,catmullRom:bX,catmullRomClosed:bZ,catmullRomOpen:b1,linear:b3,linearClosed:function(e){return new b4(e)},monotoneX:function(e){return new b7(e)},monotoneY:function(e){return new b9(e)},natural:function(e){return new vt(e)},step:function(e){return new vn(e,.5)},stepAfter:function(e){return new vn(e,1)},stepBefore:function(e){return new vn(e,0)}}),xh=Object.keys(xd),xf=(p7().oneOf(xh),xh.filter(function(e){return e.endsWith("Closed")}),bA()(xh,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed"),bA()(xh,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed")),xm=p7().oneOf(xf),xg=function(e){if(!xd[e])throw TypeError("'"+e+"', is not a valid curve interpolator identifier.");return xd[e]},xb={defs:p7().arrayOf(p7().shape({id:p7().string.isRequired})).isRequired,fill:p7().arrayOf(p7().shape({id:p7().string.isRequired,match:p7().oneOfType([p7().oneOf(["*"]),p7().object,p7().func]).isRequired})).isRequired},xv=Object.keys((p7().oneOf(["ascending","descending","insideOut","none","reverse"]),{expand:function(e,t){if((r=e.length)>0){for(var i,r,a,s=0,o=e[0].length;s<o;++s){for(a=i=0;i<r;++i)a+=e[i][s][1]||0;if(a)for(i=0;i<r;++i)e[i][s][1]/=a}va(e,t)}},diverging:function(e,t){if((l=e.length)>0)for(var i,r,a,s,o,l,u=0,p=e[t[0]].length;u<p;++u)for(s=o=0,i=0;i<l;++i)(a=(r=e[t[i]][u])[1]-r[0])>0?(r[0]=s,r[1]=s+=a):a<0?(r[1]=o,r[0]=o+=a):(r[0]=0,r[1]=a)},none:va,silhouette:function(e,t){if((i=e.length)>0){for(var i,r=0,a=e[t[0]],s=a.length;r<s;++r){for(var o=0,l=0;o<i;++o)l+=e[o][r][1]||0;a[r][1]+=a[r][0]=-l/2}va(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(r=(i=e[t[0]]).length)>0){for(var i,r,a,s=0,o=1;o<r;++o){for(var l=0,u=0,p=0;l<a;++l){for(var d=e[t[l]],f=d[o][1]||0,m=(f-(d[o-1][1]||0))/2,g=0;g<l;++g){var b=e[t[g]];m+=(b[o][1]||0)-(b[o-1][1]||0)}u+=f,p+=m*f}i[o-1][1]+=i[o-1][0]=s,u&&(s-=p/u)}i[o-1][1]+=i[o-1][0]=s,va(e,t)}}})),xy=(p7().oneOf(xv),p7().shape({top:p7().number,right:p7().number,bottom:p7().number,left:p7().number}).isRequired,p7().oneOf(["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"])),xx=(mM(bp),{top:0,right:0,bottom:0,left:0}),xw=function(e,t,i){return void 0===i&&(i={}),(0,ee.useMemo)(function(){var r=y1({},xx,i);return{margin:r,innerWidth:e-r.left-r.right,innerHeight:t-r.top-r.bottom,outerWidth:e,outerHeight:t}},[e,t,i.top,i.right,i.bottom,i.left])},xk=function(){var e=(0,ee.useRef)(null),t=(0,ee.useState)({left:0,top:0,width:0,height:0}),i=t[0],r=(t[1],(0,ee.useState)(function(){return null})[0]);return(0,ee.useEffect)(function(){return e.current&&null!==r&&r.observe(e.current),function(){null!==r&&r.disconnect()}},[]),[e,i]},x_=function(e){return(0,ee.useMemo)(function(){return"function"==typeof e?e:"string"==typeof e?0===e.indexOf("time:")?z(e.slice("5")):B(e):function(e){return""+e}},[e])},xS=(0,ee.createContext)(),xT={},xC=function(e){var t,i=e.theme,r=e.children,a=(t=void 0===i?xT:i,(0,ee.useMemo)(function(){return xa(xn,t)},[t]));return(0,Z.jsx)(xS.Provider,{value:a,children:r})};xC.propTypes={children:p7().node.isRequired,theme:p7().object};var xE=function(){return(0,ee.useContext)(xS)},xR=function(e){var t=e.children,i=e.condition,r=e.wrapper;return i?(0,ee.cloneElement)(r,{},t):t};xR.propTypes={children:p7().node.isRequired,condition:p7().bool.isRequired,wrapper:p7().element.isRequired};var xj={position:"relative"},xI=function(e){var t=e.children,i=e.theme,r=e.renderWrapper,a=e.isInteractive,s=e.animate,o=e.motionStiffness,l=e.motionDamping,u=e.motionConfig,p=(0,ee.useRef)(null);return(0,Z.jsx)(xC,{theme:i,children:(0,Z.jsx)(xo,{animate:s,stiffness:o,damping:l,config:u,children:(0,Z.jsx)(mw,{container:p,children:(0,Z.jsxs)(xR,{condition:void 0===r||r,wrapper:(0,Z.jsx)("div",{style:xj,ref:p}),children:[t,(void 0===a||a)&&(0,Z.jsx)(mx,{})]})})})})};xI.propTypes={children:p7().element.isRequired,isInteractive:p7().bool,renderWrapper:p7().bool,theme:p7().object,animate:p7().bool,motionStiffness:p7().number,motionDamping:p7().number,motionConfig:p7().string},p7().func.isRequired,p7().bool,p7().bool,p7().object.isRequired,p7().bool.isRequired,p7().number,p7().number,p7().string,p7().func.isRequired;var xO=["id","colors"],xP=function(e){var t=e.id,i=e.colors,r=y3(e,xO);return(0,Z.jsx)("linearGradient",y1({id:t,x1:0,x2:0,y1:0,y2:1},r,{children:i.map(function(e){var t=e.offset,i=e.color,r=e.opacity;return(0,Z.jsx)("stop",{offset:t+"%",stopColor:i,stopOpacity:void 0!==r?r:1},t)})}))};xP.propTypes={id:p7().string.isRequired,colors:p7().arrayOf(p7().shape({offset:p7().number.isRequired,color:p7().string.isRequired,opacity:p7().number})).isRequired,gradientTransform:p7().string};var xN={linearGradient:xP},xA=(0,ee.memo)(function(e){var t=e.id,i=e.background,r=e.color,a=e.size,s=e.padding,o=e.stagger,l=a+s,u=a/2,p=s/2;return!0===o&&(l=2*a+2*s),(0,Z.jsxs)("pattern",{id:t,width:l,height:l,patternUnits:"userSpaceOnUse",children:[(0,Z.jsx)("rect",{width:l,height:l,fill:i}),(0,Z.jsx)("circle",{cx:p+u,cy:p+u,r:u,fill:r}),o&&(0,Z.jsx)("circle",{cx:1.5*s+a+u,cy:1.5*s+a+u,r:u,fill:r})]})});xA.displayName="PatternDots",xA.propTypes={id:p7().string.isRequired,color:p7().string.isRequired,background:p7().string.isRequired,size:p7().number.isRequired,padding:p7().number.isRequired,stagger:p7().bool.isRequired},xA.defaultProps={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1};var xD=function(e){return e*Math.PI/180},xL={svg:{align:{left:"start",center:"middle",right:"end",start:"start",middle:"middle",end:"end"},baseline:{top:"text-before-edge",center:"central",bottom:"alphabetic"}},canvas:{align:{left:"left",center:"center",right:"right",start:"left",middle:"center",end:"right"},baseline:{top:"top",center:"middle",bottom:"bottom"}}},xU=(0,ee.memo)(function(e){var t=e.id,i=e.spacing,r=e.rotation,a=e.background,s=e.color,o=e.lineWidth,l=Math.round(r)%360,u=Math.abs(i);l>180?l-=360:l>90?l-=180:l<-180?l+=360:l<-90&&(l+=180);var p,d=u,f=u;return 0===l?p="\n                M 0 0 L "+d+" 0\n                M 0 "+f+" L "+d+" "+f+"\n            ":90===l?p="\n                M 0 0 L 0 "+f+"\n                M "+d+" 0 L "+d+" "+f+"\n            ":(d=Math.abs(u/Math.sin(xD(l))),f=u/Math.sin(xD(90-l)),p=l>0?"\n                    M 0 "+-f+" L "+2*d+" "+f+"\n                    M "+-d+" "+-f+" L "+d+" "+f+"\n                    M "+-d+" 0 L "+d+" "+2*f+"\n                ":"\n                    M "+-d+" "+f+" L "+d+" "+-f+"\n                    M "+-d+" "+2*f+" L "+2*d+" "+-f+"\n                    M 0 "+2*f+" L "+2*d+" 0\n                "),(0,Z.jsxs)("pattern",{id:t,width:d,height:f,patternUnits:"userSpaceOnUse",children:[(0,Z.jsx)("rect",{width:d,height:f,fill:a,stroke:"rgba(255, 0, 0, 0.1)",strokeWidth:0}),(0,Z.jsx)("path",{d:p,strokeWidth:o,stroke:s,strokeLinecap:"square"})]})});xU.displayName="PatternLines",xU.propTypes={id:p7().string.isRequired,spacing:p7().number.isRequired,rotation:p7().number.isRequired,background:p7().string.isRequired,color:p7().string.isRequired,lineWidth:p7().number.isRequired},xU.defaultProps={spacing:5,rotation:0,color:"#000000",background:"#ffffff",lineWidth:2};var xM=(0,ee.memo)(function(e){var t=e.id,i=e.background,r=e.color,a=e.size,s=e.padding,o=e.stagger,l=a+s,u=s/2;return!0===o&&(l=2*a+2*s),(0,Z.jsxs)("pattern",{id:t,width:l,height:l,patternUnits:"userSpaceOnUse",children:[(0,Z.jsx)("rect",{width:l,height:l,fill:i}),(0,Z.jsx)("rect",{x:u,y:u,width:a,height:a,fill:r}),o&&(0,Z.jsx)("rect",{x:1.5*s+a,y:1.5*s+a,width:a,height:a,fill:r})]})});xM.displayName="PatternSquares",xM.propTypes={id:p7().string.isRequired,color:p7().string.isRequired,background:p7().string.isRequired,size:p7().number.isRequired,padding:p7().number.isRequired,stagger:p7().bool.isRequired},xM.defaultProps={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1};var xF={patternDots:xA,patternLines:xU,patternSquares:xM},x$=["type"],xB=y1({},xN,xF),xq=function(e){var t=e.defs;return!t||t.length<1?null:(0,Z.jsx)("defs",{"aria-hidden":!0,children:t.map(function(e){var t=e.type,i=y3(e,x$);return xB[t]?(0,ee.createElement)(xB[t],y1({key:i.id},i)):null})})};xq.propTypes={defs:p7().arrayOf(p7().shape({type:p7().oneOf(Object.keys(xB)).isRequired,id:p7().string.isRequired}))};var xV=(0,ee.memo)(xq),xz=function(e){var t=e.width,i=e.height,r=e.margin,a=e.defs,s=e.children,o=e.role,l=e.ariaLabel,u=e.ariaLabelledBy,p=e.ariaDescribedBy,d=e.isFocusable,f=xE();return(0,Z.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:i,role:o,"aria-label":l,"aria-labelledby":u,"aria-describedby":p,focusable:d,tabIndex:d?0:void 0,children:[(0,Z.jsx)(xV,{defs:a}),(0,Z.jsx)("rect",{width:t,height:i,fill:f.background}),(0,Z.jsx)("g",{transform:"translate("+r.left+","+r.top+")",children:s})]})};xz.propTypes={width:p7().number.isRequired,height:p7().number.isRequired,margin:p7().shape({top:p7().number.isRequired,left:p7().number.isRequired}).isRequired,defs:p7().array,children:p7().oneOfType([p7().arrayOf(p7().node),p7().node]).isRequired,role:p7().string,isFocusable:p7().bool,ariaLabel:p7().string,ariaLabelledBy:p7().string,ariaDescribedBy:p7().string};var xW=function(e){var t=e.size,i=e.color,r=e.borderWidth,a=e.borderColor;return(0,Z.jsx)("circle",{r:t/2,fill:i,stroke:a,strokeWidth:r,style:{pointerEvents:"none"}})};xW.propTypes={size:p7().number.isRequired,color:p7().string.isRequired,borderWidth:p7().number.isRequired,borderColor:p7().string.isRequired};var xH=(0,ee.memo)(xW),xG=function(e){var t=e.x,i=e.y,r=e.symbol,a=void 0===r?xH:r,s=e.size,o=e.datum,l=e.color,u=e.borderWidth,p=e.borderColor,d=e.label,f=e.labelTextAnchor,m=e.labelYOffset,g=xE(),b=xl(),v=b.animate,y=fV({transform:"translate("+t+", "+i+")",config:b.config,immediate:!v});return(0,Z.jsxs)(mn.g,{transform:y.transform,style:{pointerEvents:"none"},children:[(0,ee.createElement)(a,{size:s,color:l,datum:o,borderWidth:u,borderColor:p}),d&&(0,Z.jsx)("text",{textAnchor:void 0===f?"middle":f,y:void 0===m?-12:m,style:g.dots.text,children:d})]})};xG.propTypes={x:p7().number.isRequired,y:p7().number.isRequired,datum:p7().object.isRequired,size:p7().number.isRequired,color:p7().string.isRequired,borderWidth:p7().number.isRequired,borderColor:p7().string.isRequired,symbol:p7().oneOfType([p7().func,p7().object]),label:p7().oneOfType([p7().string,p7().number]),labelTextAnchor:p7().oneOf(["start","middle","end"]),labelYOffset:p7().number};var xK=(0,ee.memo)(xG),xY=function(e){var t=e.width,i=e.height,r=e.axis,a=e.scale,s=e.value,o=e.lineStyle,l=e.textStyle,u=e.legend,p=e.legendPosition,d=e.legendOffsetX,f=e.legendOffsetY,m=e.legendOrientation,g=xE(),b=0,v=0,y=0,x=0;"y"===r?(y=a(s),v=t):(b=a(s),x=i);var w=null;if(u){var k=function(e){var t=e.axis,i=e.width,r=e.height,a=e.position,s=e.offsetX,o=e.offsetY,l=e.orientation,u=0,p=0,d="start";if("x"===t)switch(a){case"top-left":u=-s,p=o,d="end";break;case"top":p=-o,d="horizontal"===l?"middle":"start";break;case"top-right":u=s,p=o,d="horizontal"===l?"start":"end";break;case"right":u=s,p=r/2,d="horizontal"===l?"start":"middle";break;case"bottom-right":u=s,p=r-o,d="start";break;case"bottom":p=r+o,d="horizontal"===l?"middle":"end";break;case"bottom-left":p=r-o,u=-s,d="horizontal"===l?"end":"start";break;case"left":u=-s,p=r/2,d="horizontal"===l?"end":"middle"}else switch(a){case"top-left":u=s,p=-o,d="start";break;case"top":u=i/2,p=-o,d="horizontal"===l?"middle":"start";break;case"top-right":u=i-s,p=-o,d="horizontal"===l?"end":"start";break;case"right":u=i+s,d="horizontal"===l?"start":"middle";break;case"bottom-right":u=i-s,p=o,d="end";break;case"bottom":u=i/2,p=o,d="horizontal"===l?"middle":"end";break;case"bottom-left":u=s,p=o,d="horizontal"===l?"start":"end";break;case"left":u=-s,d="horizontal"===l?"end":"middle"}return{x:u,y:p,rotation:"vertical"===l?-90:0,textAnchor:d}}({axis:r,width:t,height:i,position:p,offsetX:d,offsetY:f,orientation:m});w=(0,Z.jsx)("text",{transform:"translate("+k.x+", "+k.y+") rotate("+k.rotation+")",textAnchor:k.textAnchor,dominantBaseline:"central",style:l,children:u})}return(0,Z.jsxs)("g",{transform:"translate("+b+", "+y+")",children:[(0,Z.jsx)("line",{x1:0,x2:v,y1:0,y2:x,stroke:g.markers.lineColor,strokeWidth:g.markers.lineStrokeWidth,style:o}),w]})};xY.propTypes={width:p7().number.isRequired,height:p7().number.isRequired,axis:p7().oneOf(["x","y"]).isRequired,scale:p7().func.isRequired,value:p7().oneOfType([p7().number,p7().string,p7().instanceOf(Date)]).isRequired,lineStyle:p7().object,textStyle:p7().object,legend:p7().string,legendPosition:p7().oneOf(["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"]),legendOffsetX:p7().number.isRequired,legendOffsetY:p7().number.isRequired,legendOrientation:p7().oneOf(["horizontal","vertical"]).isRequired},xY.defaultProps={legendPosition:"top-right",legendOffsetX:14,legendOffsetY:14,legendOrientation:"horizontal"};var xJ=(0,ee.memo)(xY),xX=function(e){var t=e.markers,i=e.width,r=e.height,a=e.xScale,s=e.yScale;return t&&0!==t.length?t.map(function(e,t){return(0,Z.jsx)(xJ,y1({},e,{width:i,height:r,scale:"y"===e.axis?s:a}),t)}):null};xX.propTypes={width:p7().number.isRequired,height:p7().number.isRequired,xScale:p7().func.isRequired,yScale:p7().func.isRequired,markers:p7().arrayOf(p7().shape({axis:p7().oneOf(["x","y"]).isRequired,value:p7().oneOfType([p7().number,p7().string,p7().instanceOf(Date)]).isRequired,lineStyle:p7().object,textStyle:p7().object}))};var xQ=(0,ee.memo)(xX),xZ=["theme","renderWrapper","animate","motionStiffness","motionDamping","motionConfig"],x0=function(e){return function(t){function i(){return t.apply(this,arguments)||this}return i.prototype=Object.create(t.prototype),i.prototype.constructor=i,y2(i,t),i.prototype.render=function(){var t=this.props,i=t.theme,r=t.renderWrapper,a=t.animate,s=t.motionStiffness,o=t.motionDamping,l=t.motionConfig,u=y3(t,xZ);return(0,Z.jsx)(xI,{theme:i,renderWrapper:r,isInteractive:u.isInteractive,animate:a,motionStiffness:s,motionDamping:o,motionConfig:l,children:(0,Z.jsx)(e,y1({},u))})},i}(ee.Component)},x1=function(e,t){var i,r=bP()(e)?e:function(t){return mT()(t,e)};return t&&(i=bP()(t)?t:B(t)),i?function(e){return i(r(e))}:r},x2=function(e,t){var i=t.clientX,r=t.clientY,a=e.getBoundingClientRect(),s=e.getBBox(),o=s.width===a.width?1:s.width/a.width;return[(i-a.left)*o,(r-a.top)*o]},x3=Object.keys(xN),x4=Object.keys(xF),x6=function(e,t,i){if("*"===e)return!0;if(bP()(e))return e(t);if(yQ()(e)){var r=i?mT()(t,i):t;return yJ()(y0()(r,Object.keys(e)),e)}return!1},x5=function(e,t,i,r){var a=void 0===r?{}:r,s=a.dataKey,o=a.colorKey,l=void 0===o?"color":o,u=a.targetKey,p=void 0===u?"fill":u,d=[],f={};return e.length&&t.length&&(d=[].concat(e),t.forEach(function(t){for(var r=0;r<i.length&&"break"!==function(r){var a=i[r],o=a.id;if(x6(a.match,t,s)){var u=e.find(function(e){return e.id===o});if(u){if(x4.includes(u.type)){if("inherit"===u.background||"inherit"===u.color){var m=mT()(t,l),g=u.background,b=u.color,v=o;"inherit"===u.background&&(v=v+".bg."+m,g=m),"inherit"===u.color&&(v=v+".fg."+m,b=m),mE()(t,p,"url(#"+v+")"),f[v]||(d.push(y1({},u,{id:v,background:g,color:b})),f[v]=1)}else mE()(t,p,"url(#"+o+")")}else if(x3.includes(u.type)){if(u.colors.map(function(e){return e.color}).includes("inherit")){var y=mT()(t,l),x=o,w=y1({},u,{colors:u.colors.map(function(e,t){return"inherit"!==e.color?e:(x=x+"."+t+"."+y,y1({},e,{color:"inherit"===e.color?y:e.color}))})});w.id=x,mE()(t,p,"url(#"+x+")"),f[x]||(d.push(w),f[x]=1)}else mE()(t,p,"url(#"+o+")")}}return"break"}}(r);r++);})),d};function x8(){return(x8=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function x7(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=Array(t);i<t;i++)r[i]=e[i];return r}var x9={nivo:["#e8c1a0","#f47560","#f1e15b","#e8a838","#61cdbb","#97e3d5"],category10:bn,accent:br,dark2:ba,paired:bs,pastel1:bo,pastel2:bc,set1:bl,set2:bu,set3:bp},we=Object.keys(x9),wt={brown_blueGreen:gh,purpleRed_green:gm,pink_yellowGreen:gb,purple_orange:gy,red_blue:gw,red_grey:g_,red_yellow_blue:gT,red_yellow_green:gE,spectral:gj},wi=Object.keys(wt),wn={blues:gO,greens:gN,greys:gD,oranges:gU,purples:gF,reds:gB,blue_green:gV,blue_purple:gW,green_blue:gG,orange_red:gY,purple_blue_green:gX,purple_blue:gZ,purple_red:g1,red_purple:g3,yellow_green_blue:g6,yellow_green:g8,yellow_orange_brown:g9,yellow_orange_red:bt},wr=Object.keys(wn),wa=x8({},x9,wt,wn),ws=Object.keys(wa),wo=x8({},{brown_blueGreen:gf,purpleRed_green:gg,pink_yellowGreen:gv,purple_orange:gx,red_blue:gk,red_grey:gS,red_yellow_blue:gC,red_yellow_green:gR,spectral:gI},{blues:gP,greens:gA,greys:gL,oranges:gM,purples:g$,reds:gq,turbo:function(e){return"rgb("+Math.max(0,Math.min(255,Math.round(34.61+(e=Math.max(0,Math.min(1,e)))*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"},viridis:bh,inferno:bm,magma:bf,plasma:bg,cividis:function(e){return"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-(e=Math.max(0,Math.min(1,e)))*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+")"},warm:bS,cool:bT,cubehelixDefault:bE,blue_green:gz,blue_purple:gH,green_blue:gK,orange_red:gJ,purple_blue_green:gQ,purple_blue:g0,purple_red:g2,red_purple:g4,yellow_green_blue:g5,yellow_green:g7,yellow_orange_brown:be,yellow_orange_red:bi},{rainbow:function(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return bC.h=360*e-100,bC.s=1.5-1.5*t,bC.l=.8-.9*t,bC+""},sinebow:function(e){var t;return e=(.5-e)*Math.PI,bR.r=255*(t=Math.sin(e))*t,bR.g=255*(t=Math.sin(e+bj))*t,bR.b=255*(t=Math.sin(e+bI))*t,bR+""}}),wc=(Object.keys(wo),function(e,t){if("function"==typeof e)return e;if(yQ()(e)){if(void 0!==e.theme){if(void 0===t)throw Error("Unable to use color from theme as no theme was provided");var i=mT()(t,e.theme);if(void 0===i)throw Error("Color from theme is undefined at path: '"+e.theme+"'");return function(){return i}}if(void 0!==e.from){var r=function(t){return mT()(t,e.from)};if(Array.isArray(e.modifiers)){for(var a,s=[],o=function(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return x7(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?x7(e,t):void 0}}(e))){i&&(e=i);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e.modifiers);!(a=o()).done;)!function(){var e=a.value,t=e[0],i=e[1];if("brighter"===t)s.push(function(e){return e.brighter(i)});else if("darker"===t)s.push(function(e){return e.darker(i)});else{if("opacity"!==t)throw Error("Invalid color modifier: '"+t+"', must be one of: 'brighter', 'darker', 'opacity'");s.push(function(e){return e.opacity=i,e})}}();return 0===s.length?r:function(e){return s.reduce(function(e,t){return t(e)},m5(r(e))).toString()}}return r}throw Error("Invalid color spec, you should either specify 'theme' or 'from' when using a config object")}return function(){return e}}),wl=function(e,t){return(0,ee.useMemo)(function(){return wc(e,t)},[e,t])},wu=p7().oneOfType([p7().func,p7().arrayOf(p7().string),p7().shape({scheme:p7().oneOf(ws).isRequired,size:p7().number}),p7().shape({datum:p7().string.isRequired}),p7().string]),wp=(p7().oneOfType([p7().string,p7().func,p7().shape({theme:p7().string.isRequired}),p7().shape({from:p7().string.isRequired,modifiers:p7().arrayOf(p7().array)})]),{scheme:"turbo"}),wd={scheme:"red_yellow_blue",divergeAt:.5},wh={scheme:"turbo",steps:7},wf=function(e,t){if("function"==typeof e)return e;var i="function"==typeof t?t:function(e){return mT()(e,t)};if(Array.isArray(e)){var r=mM(e),a=function(e){return r(i(e))};return a.scale=r,a}if(yQ()(e)){if(void 0!==e.datum)return function(t){return mT()(t,e.datum)};if(void 0!==e.scheme){if(s=e.scheme,we.includes(s)){var s,o,l,u=mM(wa[e.scheme]),p=function(e){return u(i(e))};return p.scale=u,p}if(o=e.scheme,wi.includes(o)){if(void 0!==e.size&&(e.size<3||e.size>11))throw Error("Invalid size '"+e.size+"' for diverging color scheme '"+e.scheme+"', must be between 3~11");var d=mM(wa[e.scheme][e.size||11]),f=function(e){return d(i(e))};return f.scale=d,f}if(l=e.scheme,wr.includes(l)){if(void 0!==e.size&&(e.size<3||e.size>9))throw Error("Invalid size '"+e.size+"' for sequential color scheme '"+e.scheme+"', must be between 3~9");var m=mM(wa[e.scheme][e.size||9]),g=function(e){return m(i(e))};return g.scale=m,g}}throw Error("Invalid colors, when using an object, you should either pass a 'datum' or a 'scheme' property")}return function(){return e}},wm=i(59828),wg=i.n(wm),wb=i(99541),wv=i.n(wb),wy=i(16476),wx=i.n(wy),ww=i(1529),wk=i.n(ww),w_=Math.sqrt(50),wS=Math.sqrt(10),wT=Math.sqrt(2);function wC(e,t,i){var r,a,s,o,l=-1;if(i=+i,(e=+e)==(t=+t)&&i>0)return[e];if((r=t<e)&&(a=e,e=t,t=a),0===(o=wE(e,t,i))||!isFinite(o))return[];if(o>0){let i=Math.round(e/o),r=Math.round(t/o);for(i*o<e&&++i,r*o>t&&--r,s=Array(a=r-i+1);++l<a;)s[l]=(i+l)*o}else{let i=Math.round(e*(o=-o)),r=Math.round(t*o);for(i/o<e&&++i,r/o>t&&--r,s=Array(a=r-i+1);++l<a;)s[l]=(i+l)/o}return r&&s.reverse(),s}function wE(e,t,i){var r=(t-e)/Math.max(0,i),a=Math.floor(Math.log(r)/Math.LN10),s=r/Math.pow(10,a);return a>=0?(s>=w_?10:s>=wS?5:s>=wT?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(s>=w_?10:s>=wS?5:s>=wT?2:1)}function wR(e,t,i){var r=Math.abs(t-e)/Math.max(0,i),a=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),s=r/a;return s>=w_?a*=10:s>=wS?a*=5:s>=wT&&(a*=2),t<e?-a:a}function wj(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function wI(e){let t=e,i=e;function r(e,t,r,a){for(null==r&&(r=0),null==a&&(a=e.length);r<a;){let s=r+a>>>1;0>i(e[s],t)?r=s+1:a=s}return r}return 1===e.length&&(t=(t,i)=>e(t)-i,i=(t,i)=>wj(e(t),i)),{left:r,center:function(e,i,a,s){null==a&&(a=0),null==s&&(s=e.length);let o=r(e,i,a,s-1);return o>a&&t(e[o-1],i)>-t(e[o],i)?o-1:o},right:function(e,t,r,a){for(null==r&&(r=0),null==a&&(a=e.length);r<a;){let s=r+a>>>1;i(e[s],t)>0?a=s:r=s+1}return r}}}let wO=wI(wj),wP=wO.right;wO.left,wI(function(e){return null===e?NaN:+e}).center;function wN(e,t){return e=+e,t=+t,function(i){return Math.round(e*(1-i)+t*i)}}function wA(e){return+e}var wD=[0,1];function wL(e){return e}function wU(e,t){var i;return(t-=e=+e)?function(i){return(i-e)/t}:(i=isNaN(t)?NaN:.5,function(){return i})}function wM(e,t,i){var r=e[0],a=e[1],s=t[0],o=t[1];return a<r?(r=wU(a,r),s=i(o,s)):(r=wU(r,a),s=i(s,o)),function(e){return s(r(e))}}function wF(e,t,i){var r=Math.min(e.length,t.length)-1,a=Array(r),s=Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=wU(e[o],e[o+1]),s[o]=i(t[o],t[o+1]);return function(t){var i=wP(e,t,1,r)-1;return s[i](a[i](t))}}function w$(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function wB(){var e,t,i,r,a,s,o=wD,l=wD,u=function e(t,i){var r,a,s=typeof i;return null==i||"boolean"===s?gs(i):("number"===s?mR:"string"===s?(a=m2(i))?(i=a,gl):mO:i instanceof m2?gl:i instanceof Date?function(e,t){var i=new Date;return e=+e,t=+t,function(r){return i.setTime(e*(1-r)+t*r),i}}:(r=i,!ArrayBuffer.isView(r)||r instanceof DataView)?Array.isArray(i)?function(t,i){var r,a=i?i.length:0,s=t?Math.min(a,t.length):0,o=Array(s),l=Array(a);for(r=0;r<s;++r)o[r]=e(t[r],i[r]);for(;r<a;++r)l[r]=i[r];return function(e){for(r=0;r<s;++r)l[r]=o[r](e);return l}}:"function"!=typeof i.valueOf&&"function"!=typeof i.toString||isNaN(i)?function(t,i){var r,a={},s={};for(r in(null===t||"object"!=typeof t)&&(t={}),(null===i||"object"!=typeof i)&&(i={}),i)r in t?a[r]=e(t[r],i[r]):s[r]=i[r];return function(e){for(r in a)s[r]=a[r](e);return s}}:mR:function(e,t){t||(t=[]);var i,r=e?Math.min(t.length,e.length):0,a=t.slice();return function(s){for(i=0;i<r;++i)a[i]=e[i]*(1-s)+t[i]*s;return a}})(t,i)},p=wL;function d(){var e,t,i,u=Math.min(o.length,l.length);return p!==wL&&(e=o[0],t=o[u-1],e>t&&(i=e,e=t,t=i),p=function(i){return Math.max(e,Math.min(t,i))}),r=u>2?wF:wM,a=s=null,f}function f(t){return null==t||isNaN(t=+t)?i:(a||(a=r(o.map(e),l,u)))(e(p(t)))}return f.invert=function(i){return p(t((s||(s=r(l,o.map(e),mR)))(i)))},f.domain=function(e){return arguments.length?(o=Array.from(e,wA),d()):o.slice()},f.range=function(e){return arguments.length?(l=Array.from(e),d()):l.slice()},f.rangeRound=function(e){return l=Array.from(e),u=wN,d()},f.clamp=function(e){return arguments.length?(p=!!e||wL,d()):p!==wL},f.interpolate=function(e){return arguments.length?(u=e,d()):u},f.unknown=function(e){return arguments.length?(i=e,f):i},function(i,r){return e=i,t=r,d()}}function wq(e){var t=e.domain;return e.ticks=function(e){var i=t();return wC(i[0],i[i.length-1],null==e?10:e)},e.tickFormat=function(e,i){var r=t();return function(e,t,i,r){var a,s,o=wR(e,t,i);switch((r=vl(null==r?",f":r)).type){case"s":var l=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(s=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(vo(l)/3)))-vo(Math.abs(o))))||(r.precision=s),q(r,l);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(s=Math.max(0,vo(Math.abs(Math.max(Math.abs(e),Math.abs(t)))-(a=Math.abs(a=o)))-vo(a))+1)||(r.precision=s-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(s=Math.max(0,-vo(Math.abs(o))))||(r.precision=s-("%"===r.type)*2)}return B(r)}(r[0],r[r.length-1],null==e?10:e,i)},e.nice=function(i){null==i&&(i=10);var r,a,s=t(),o=0,l=s.length-1,u=s[o],p=s[l],d=10;for(p<u&&(a=u,u=p,p=a,a=o,o=l,l=a);d-- >0;){if((a=wE(u,p,i))===r)return s[o]=u,s[l]=p,t(s);if(a>0)u=Math.floor(u/a)*a,p=Math.ceil(p/a)*a;else if(a<0)u=Math.ceil(u*a)/a,p=Math.floor(p*a)/a;else break;r=a}return e},e}function wV(){var e,t,i=mM().unknown(void 0),r=i.domain,a=i.range,s=0,o=1,l=!1,u=0,p=0,d=.5;function f(){var i=r().length,f=o<s,m=f?o:s,g=f?s:o;e=(g-m)/Math.max(1,i-u+2*p),l&&(e=Math.floor(e)),m+=(g-m-e*(i-u))*d,t=e*(1-u),l&&(m=Math.round(m),t=Math.round(t));var b=(function(e,t,i){e=+e,t=+t,i=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+i;for(var r=-1,a=0|Math.max(0,Math.ceil((t-e)/i)),s=Array(a);++r<a;)s[r]=e+r*i;return s})(i).map(function(t){return m+e*t});return a(f?b.reverse():b)}return delete i.unknown,i.domain=function(e){return arguments.length?(r(e),f()):r()},i.range=function(e){return arguments.length?([s,o]=e,s=+s,o=+o,f()):[s,o]},i.rangeRound=function(e){return[s,o]=e,s=+s,o=+o,l=!0,f()},i.bandwidth=function(){return t},i.step=function(){return e},i.round=function(e){return arguments.length?(l=!!e,f()):l},i.padding=function(e){return arguments.length?(u=Math.min(1,p=+e),f()):u},i.paddingInner=function(e){return arguments.length?(u=Math.min(1,e),f()):u},i.paddingOuter=function(e){return arguments.length?(p=+e,f()):p},i.align=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),f()):d},i.copy=function(){return wV(r(),[s,o]).round(l).paddingInner(u).paddingOuter(p).align(d)},mL.apply(f(),arguments)}var wz=new Date,wW=new Date;function wH(e,t,i,r){function a(t){return e(t=0==arguments.length?new Date:new Date(+t)),t}return a.floor=function(t){return e(t=new Date(+t)),t},a.ceil=function(i){return e(i=new Date(i-1)),t(i,1),e(i),i},a.round=function(e){var t=a(e),i=a.ceil(e);return e-t<i-e?t:i},a.offset=function(e,i){return t(e=new Date(+e),null==i?1:Math.floor(i)),e},a.range=function(i,r,s){var o,l=[];if(i=a.ceil(i),s=null==s?1:Math.floor(s),!(i<r)||!(s>0))return l;do l.push(o=new Date(+i)),t(i,s),e(i);while(o<i&&i<r);return l},a.filter=function(i){return wH(function(t){if(t>=t)for(;e(t),!i(t);)t.setTime(t-1)},function(e,r){if(e>=e){if(r<0)for(;++r<=0;)for(;t(e,-1),!i(e););else for(;--r>=0;)for(;t(e,1),!i(e););}})},i&&(a.count=function(t,r){return wz.setTime(+t),wW.setTime(+r),e(wz),e(wW),Math.floor(i(wz,wW))},a.every=function(e){return isFinite(e=Math.floor(e))&&e>0?e>1?a.filter(r?function(t){return r(t)%e==0}:function(t){return a.count(0,t)%e==0}):a:null}),a}var wG=wH(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});wG.every=function(e){return isFinite(e=Math.floor(e))&&e>0?e>1?wH(function(t){t.setTime(Math.floor(t/e)*e)},function(t,i){t.setTime(+t+i*e)},function(t,i){return(i-t)/e}):wG:null},wG.range;var wK=wH(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+1e3*t)},function(e,t){return(t-e)/1e3},function(e){return e.getUTCSeconds()});wK.range;var wY=wH(function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())},function(e,t){e.setTime(+e+6e4*t)},function(e,t){return(t-e)/6e4},function(e){return e.getMinutes()});wY.range;var wJ=wH(function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-6e4*e.getMinutes())},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getHours()});wJ.range;var wX=wH(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1);function wQ(e){return wH(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/6048e5})}wX.range;var wZ=wQ(0),w0=wQ(1),w1=wQ(2),w2=wQ(3),w3=wQ(4),w4=wQ(5),w6=wQ(6);wZ.range,w0.range,w1.range,w2.range,w3.range,w4.range,w6.range;var w5=wH(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()});w5.range;var w8=wH(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});w8.every=function(e){return isFinite(e=Math.floor(e))&&e>0?wH(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,i){t.setFullYear(t.getFullYear()+i*e)}):null},w8.range;var w7=wH(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+6e4*t)},function(e,t){return(t-e)/6e4},function(e){return e.getUTCMinutes()});w7.range;var w9=wH(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getUTCHours()});w9.range;var ke=wH(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5},function(e){return e.getUTCDate()-1});function kt(e){return wH(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/6048e5})}ke.range;var ki=kt(0),kn=kt(1),kr=kt(2),ka=kt(3),ks=kt(4),ko=kt(5),kc=kt(6);ki.range,kn.range,kr.range,ka.range,ks.range,ko.range,kc.range;var kl=wH(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12},function(e){return e.getUTCMonth()});kl.range;var ku=wH(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});function kp(e,t,i,r,a,s){let o=[[wK,1,1e3],[wK,5,5e3],[wK,15,15e3],[wK,30,3e4],[s,1,6e4],[s,5,3e5],[s,15,9e5],[s,30,18e5],[a,1,36e5],[a,3,108e5],[a,6,216e5],[a,12,432e5],[r,1,864e5],[r,2,1728e5],[i,1,6048e5],[t,1,2592e6],[t,3,7776e6],[e,1,31536e6]];function l(t,i,r){let a=Math.abs(i-t)/r,s=wI(([,,e])=>e).right(o,a);if(s===o.length)return e.every(wR(t/31536e6,i/31536e6,r));if(0===s)return wG.every(Math.max(wR(t,i,r),1));let[l,u]=o[a/o[s-1][2]<o[s][2]/a?s-1:s];return l.every(u)}return[function(e,t,i){let r=t<e;r&&([e,t]=[t,e]);let a=i&&"function"==typeof i.range?i:l(e,t,i),s=a?a.range(e,+t+1):[];return r?s.reverse():s},l]}ku.every=function(e){return isFinite(e=Math.floor(e))&&e>0?wH(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,i){t.setUTCFullYear(t.getUTCFullYear()+i*e)}):null},ku.range;let[kd,kh]=kp(ku,kl,ki,ke,w9,w7),[kf,km]=kp(w8,w5,wZ,wX,wJ,wY);function kg(e,t){e=e.slice();var i,r=0,a=e.length-1,s=e[r],o=e[a];return o<s&&(i=r,r=a,a=i,i=s,s=o,o=i),e[r]=t.floor(s),e[a]=t.ceil(o),e}function kb(e){return new Date(e)}function kv(e){return e instanceof Date?+e:+new Date(+e)}function ky(e,t,i,r,a,s,o,l,u,p){var d=wB()(wL,wL),f=d.invert,m=d.domain,g=p(".%L"),b=p(":%S"),v=p("%I:%M"),y=p("%I %p"),x=p("%a %d"),w=p("%b %d"),k=p("%B"),_=p("%Y");function S(e){return(u(e)<e?g:l(e)<e?b:o(e)<e?v:s(e)<e?y:r(e)<e?a(e)<e?x:w:i(e)<e?k:_)(e)}return d.invert=function(e){return new Date(f(e))},d.domain=function(e){return arguments.length?m(Array.from(e,kv)):m().map(kb)},d.ticks=function(t){var i=m();return e(i[0],i[i.length-1],null==t?10:t)},d.tickFormat=function(e,t){return null==t?S:p(t)},d.nice=function(e){var i=m();return e&&"function"==typeof e.range||(e=t(i[0],i[i.length-1],null==e?10:e)),e?m(kg(i,e)):d},d.copy=function(){return w$(d,ky(e,t,i,r,a,s,o,l,u,p))},d}function kx(e){return Math.log(e)}function kw(e){return Math.exp(e)}function kk(e){return-Math.log(-e)}function k_(e){return-Math.exp(-e)}function kS(e){return isFinite(e)?+("1e"+e):e<0?0:e}function kT(e){return function(t){return-e(-t)}}function kC(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function kE(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}var kR=vv(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});kR.every=function(e){return isFinite(e=Math.floor(e))&&e>0?e>1?vv(function(t){t.setTime(Math.floor(t/e)*e)},function(t,i){t.setTime(+t+i*e)},function(t,i){return(i-t)/e}):kR:null},kR.range;var kj=vv(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+1e3*t)},function(e,t){return(t-e)/1e3},function(e){return e.getUTCSeconds()});kj.range;var kI=vv(function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())},function(e,t){e.setTime(+e+6e4*t)},function(e,t){return(t-e)/6e4},function(e){return e.getMinutes()});kI.range;var kO=vv(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+6e4*t)},function(e,t){return(t-e)/6e4},function(e){return e.getUTCMinutes()});kO.range;var kP=vv(function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-6e4*e.getMinutes())},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getHours()});kP.range;var kN=vv(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+36e5*t)},function(e,t){return(t-e)/36e5},function(e){return e.getUTCHours()});kN.range;var kA=vv(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()});kA.range;var kD=vv(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12},function(e){return e.getUTCMonth()});function kL(){return(kL=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}kD.range;var kU=[function(e){return e.setMilliseconds(0)},function(e){return e.setSeconds(0)},function(e){return e.setMinutes(0)},function(e){return e.setHours(0)},function(e){return e.setDate(1)},function(e){return e.setMonth(0)}],kM={millisecond:[],second:kU.slice(0,1),minute:kU.slice(0,2),hour:kU.slice(0,3),day:kU.slice(0,4),month:kU.slice(0,5),year:kU.slice(0,6)},kF=function(e){var t,i=e.format,r=void 0===i?"native":i,a=e.precision,s=e.useUTC,o=void 0===s||s,l=(t=void 0===a?"millisecond":a,function(e){return kM[t].forEach(function(t){t(e)}),e});return function(e){return void 0===e?e:"native"===r||e instanceof Date?l(e):l((o?G(r):W(r))(e))}},k$=function(e,t,i,r){var a,s,o,l,u=e.min,p=void 0===u?0:u,d=e.max,f=void 0===d?"auto":d,m=e.stacked,g=void 0!==m&&m,b=e.reverse,v=e.clamp,y=e.nice,x=void 0!==y&&y;a="auto"===p?!0===g?null!=(s=t.minStacked)?s:0:t.min:p,o="auto"===f?!0===g?null!=(l=t.maxStacked)?l:0:t.max:f;var w=(function e(){var t=wB()(wL,wL);return t.copy=function(){return w$(t,e())},mL.apply(t,arguments),wq(t)})().rangeRound("x"===r?[0,i]:[i,0]).domain(void 0!==b&&b?[o,a]:[a,o]).clamp(void 0!==v&&v);return!0===x?w.nice():"number"==typeof x&&w.nice(x),kB(w,g)},kB=function(e,t){return void 0===t&&(t=!1),e.type="linear",e.stacked=t,e},kq=function(e,t,i){var r=(function(){return function e(t){var i=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return e(i())},t}(wV.apply(null,arguments).paddingInner(1))})().range([0,i]).domain(t.all);return r.type="point",r},kV=function(e,t,i,r){var a=e.round;return kz(wV().range("x"===r?[0,i]:[i,0]).domain(t.all).round(void 0===a||a))},kz=function(e){return e.type="band",e},kW=function(e,t,i){var r,a,s=e.format,o=void 0===s?"native":s,l=e.precision,u=e.min,p=void 0===u?"auto":u,d=e.max,f=void 0===d?"auto":d,m=e.useUTC,g=void 0===m||m,b=e.nice,v=void 0!==b&&b,y=kF({format:o,precision:void 0===l?"millisecond":l,useUTC:g});r="auto"===p?y(t.min):"native"!==o?y(p):p,a="auto"===f?y(t.max):"native"!==o?y(f):f;var x=g?function(){return mL.apply(ky(kd,kh,ku,kl,ki,ke,w9,w7,wK,H).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}():function(){return mL.apply(ky(kf,km,w8,w5,wZ,wX,wJ,wY,wK,z).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}();return x.range([0,i]),r&&a&&x.domain([r,a]),!0===v?x.nice():"object"!=typeof v&&"number"!=typeof v||x.nice(v),x.type="time",x.useUTC=g,x},kH=function(e,t,i,r){var a,s=e.base,o=e.min,l=void 0===o?"auto":o,u=e.max,p=void 0===u?"auto":u;if(t.all.some(function(e){return 0===e}))throw Error("a log scale domain must not include or cross zero");var d,f,m=!1;if(t.all.filter(function(e){return null!=e}).forEach(function(e){m||(void 0===a?a=Math.sign(e):Math.sign(e)!==a&&(m=!0))}),m)throw Error("a log scale domain must be strictly-positive or strictly-negative");d="auto"===l?t.min:l,f="auto"===p?t.max:p;var g=(function e(){var t=(function(e){var t,i,r=e(kx,kw),a=r.domain,s=10;function o(){var o,l;return t=(o=s)===Math.E?Math.log:10===o&&Math.log10||2===o&&Math.log2||(o=Math.log(o),function(e){return Math.log(e)/o}),i=10===(l=s)?kS:l===Math.E?Math.exp:function(e){return Math.pow(l,e)},a()[0]<0?(t=kT(t),i=kT(i),e(kk,k_)):e(kx,kw),r}return r.base=function(e){return arguments.length?(s=+e,o()):s},r.domain=function(e){return arguments.length?(a(e),o()):a()},r.ticks=function(e){var r,o=a(),l=o[0],u=o[o.length-1];(r=u<l)&&(m=l,l=u,u=m);var p,d,f,m=t(l),g=t(u),b=null==e?10:+e,v=[];if(!(s%1)&&g-m<b){if(m=Math.floor(m),g=Math.ceil(g),l>0){for(;m<=g;++m)for(d=1,p=i(m);d<s;++d)if(!((f=p*d)<l)){if(f>u)break;v.push(f)}}else for(;m<=g;++m)for(d=s-1,p=i(m);d>=1;--d)if(!((f=p*d)<l)){if(f>u)break;v.push(f)}2*v.length<b&&(v=wC(l,u,b))}else v=wC(m,g,Math.min(g-m,b)).map(i);return r?v.reverse():v},r.tickFormat=function(e,a){if(null==a&&(a=10===s?".0e":","),"function"!=typeof a&&(a=B(a)),e===1/0)return a;null==e&&(e=10);var o=Math.max(1,s*e/r.ticks().length);return function(e){var r=e/i(Math.round(t(e)));return r*s<s-.5&&(r*=s),r<=o?a(e):""}},r.nice=function(){return a(kg(a(),{floor:function(e){return i(Math.floor(t(e)))},ceil:function(e){return i(Math.ceil(t(e)))}}))},r})(wB()).domain([1,10]);return t.copy=function(){return w$(t,e()).base(t.base())},mL.apply(t,arguments),t})().domain([d,f]).rangeRound("x"===r?[0,i]:[i,0]).base(void 0===s?10:s).nice();return g.type="log",g},kG=function(e,t,i,r){var a,s,o=e.constant,l=e.min,u=void 0===l?"auto":l,p=e.max,d=void 0===p?"auto":p,f=e.reverse;a="auto"===u?t.min:u,s="auto"===d?t.max:d;var m=(function e(){var t,i,r,a=(t=wB(),i=1,(r=t(kC(1),kE(i))).constant=function(e){return arguments.length?t(kC(i=+e),kE(i)):i},wq(r));return a.copy=function(){return w$(a,e()).constant(a.constant())},mL.apply(a,arguments)})().constant(void 0===o?1:o).rangeRound("x"===r?[0,i]:[i,0]).nice();return!0===(void 0!==f&&f)?m.domain([s,a]):m.domain([a,s]),m.type="symlog",m},kK=function(e,t){return e===t},kY=function(e,t){return e.getTime()===t.getTime()};function kJ(e,t,i,r){switch(e.type){case"linear":return k$(e,t,i,r);case"point":return kq(0,t,i);case"band":return kV(e,t,i,r);case"time":return kW(e,t,i);case"log":return kH(e,t,i,r);case"symlog":return kG(e,t,i,r);default:throw Error("invalid scale spec")}}var kX=function(e,t,i){var r;if("stacked"in i&&i.stacked){var a=e.data["x"===t?"xStacked":"yStacked"];return null==a?null:i(a)}return null!=(r=i(e.data[t]))?r:null},kQ=function(e,t,i,r,a){var s=e.map(function(e){return kL({},e,{data:e.data.map(function(e){return{data:kL({},e)}})})}),o=kZ(s,t,i);"stacked"in t&&!0===t.stacked&&k2(o,s),"stacked"in i&&!0===i.stacked&&k3(o,s);var l=kJ(t,o.x,r,"x"),u=kJ(i,o.y,a,"y"),p=s.map(function(e){return kL({},e,{data:e.data.map(function(e){return kL({},e,{position:{x:kX(e,"x",l),y:kX(e,"y",u)}})})})});return kL({},o,{series:p,xScale:l,yScale:u})},kZ=function(e,t,i){return{x:k0(e,"x",t),y:k0(e,"y",i)}},k0=function(e,t,i,r){var a=void 0===r?{}:r,s=a.getValue,o=void 0===s?function(e){return e.data[t]}:s,l=a.setValue,u=void 0===l?function(e,i){e.data[t]=i}:l;if("linear"===i.type)e.forEach(function(e){e.data.forEach(function(e){var t=o(e);t&&u(e,parseFloat(String(t)))})});else if("time"===i.type&&"native"!==i.format){var p=kF(i);e.forEach(function(e){e.data.forEach(function(e){var t=o(e);t&&u(e,p(t))})})}var d=[];switch(e.forEach(function(e){e.data.forEach(function(e){d.push(o(e))})}),i.type){case"linear":var f=wx()(wg()(d).filter(function(e){return null!==e}),function(e){return e});return{all:f,min:Math.min.apply(Math,f),max:Math.max.apply(Math,f)};case"time":var m=wv()(d,function(e){return e.getTime()}).slice(0).sort(function(e,t){return t.getTime()-e.getTime()}).reverse();return{all:m,min:m[0],max:mD()(m)};default:var g=wg()(d);return{all:g,min:g[0],max:mD()(g)}}},k1=function(e,t,i){var r="x"===e?"y":"x",a=[];t[r].all.forEach(function(t){var s=wk()(t)?kY:kK,o=[];i.forEach(function(i){var l=i.data.find(function(e){return s(e.data[r],t)}),u=null,p=null;if(void 0!==l){if(null!==(u=l.data[e])){var d=mD()(o);void 0===d?p=u:null!==d&&(p=d+u)}l.data["x"===e?"xStacked":"yStacked"]=p}o.push(p),null!==p&&a.push(p)})}),t[e].minStacked=Math.min.apply(Math,a),t[e].maxStacked=Math.max.apply(Math,a)},k2=function(e,t){return k1("x",e,t)},k3=function(e,t){return k1("y",e,t)},k4=function(e){var t=e.bandwidth();if(0===t)return e;var i=t/2;return e.round()&&(i=Math.round(i)),function(t){var r;return(null!=(r=e(t))?r:0)+i}},k6={millisecond:[kR,kR],second:[kj,kj],minute:[kI,kO],hour:[kP,kN],day:[vv(function(e){return e.setHours(0,0,0,0)},function(e,t){return e.setDate(e.getDate()+t)},function(e,t){return(t.getTime()-e.getTime())/864e5},function(e){return Math.floor(e.getTime()/864e5)}),vv(function(e){return e.setUTCHours(0,0,0,0)},function(e,t){return e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t.getTime()-e.getTime())/864e5},function(e){return Math.floor(e.getTime()/864e5)})],week:[vj,vx],sunday:[vj,vx],monday:[vI,vw],tuesday:[vO,vk],wednesday:[vP,v_],thursday:[vN,vS],friday:[vA,vT],saturday:[vD,vC],month:[kA,kD],year:[vU,vM]},k5=RegExp("^every\\s*(\\d+)?\\s*("+Object.keys(k6).join("|")+")s?$","i"),k8=function(e,t){if(Array.isArray(t))return t;if("string"==typeof t&&"useUTC"in e){var i=t.match(k5);if(i){var r=i[1],a=i[2],s=k6[a][e.useUTC?1:0];if("day"===a){var o,l,u=e.domain(),p=u[0],d=new Date(u[1]);return d.setDate(d.getDate()+1),null!=(o=null==(l=s.every(Number(null!=r?r:1)))?void 0:l.range(p,d))?o:[]}if(void 0===r)return e.ticks(s);var f=s.every(Number(r));if(f)return e.ticks(f)}throw Error("Invalid tickValues: "+t)}if("ticks"in e){if(void 0===t)return e.ticks();if("number"==typeof t&&isFinite(t)&&Math.floor(t)===t)return e.ticks(t)}return e.domain()};function k7(){return(k7=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var k9=function(e){var t,i=e.axis,r=e.scale,a=e.ticksPosition,s=e.tickValues,o=e.tickSize,l=e.tickPadding,u=e.tickRotation,p=e.engine,d=k8(r,s),f=xL[void 0===p?"svg":p],m="bandwidth"in r?k4(r):r,g={lineX:0,lineY:0},b={textX:0,textY:0},v="object"==typeof document&&"rtl"===document.dir,y=f.align.center,x=f.baseline.center;return"x"===i?(t=function(e){var t;return{x:null!=(t=m(e))?t:0,y:0}},g.lineY=o*("after"===a?1:-1),b.textY=(o+l)*("after"===a?1:-1),x="after"===a?f.baseline.top:f.baseline.bottom,0===u?y=f.align.center:"after"===a&&u<0||"before"===a&&u>0?(y=f.align[v?"left":"right"],x=f.baseline.center):("after"===a&&u>0||"before"===a&&u<0)&&(y=f.align[v?"right":"left"],x=f.baseline.center)):(t=function(e){var t;return{x:0,y:null!=(t=m(e))?t:0}},g.lineX=o*("after"===a?1:-1),b.textX=(o+l)*("after"===a?1:-1),y="after"===a?f.align.left:f.align.right),{ticks:d.map(function(e){return k7({key:e instanceof Date?""+e.valueOf():""+e,value:e},t(e),g,b)}),textAlign:y,textBaseline:x}},_e=function(e,t){if(void 0===e||"function"==typeof e)return e;if("time"===t.type){var i=z(e);return function(e){return i(e instanceof Date?e:new Date(e))}}return B(e)},_t=function(e){var t=e.width,i=e.height,r=e.scale,a=e.axis,s=e.values,o=(Array.isArray(s)?s:void 0)||k8(r,s),l="bandwidth"in r?k4(r):r;return"x"===a?o.map(function(e){var t,r;return{key:e instanceof Date?""+e.valueOf():""+e,x1:null!=(t=l(e))?t:0,x2:null!=(r=l(e))?r:0,y1:0,y2:i}}):o.map(function(e){var i,r;return{key:e instanceof Date?""+e.valueOf():""+e,x1:0,x2:t,y1:null!=(i=l(e))?i:0,y2:null!=(r=l(e))?r:0}})},_i=(0,ee.memo)(function(e){var t,i=e.value,r=e.format,a=e.lineX,s=e.lineY,o=e.onClick,l=e.textBaseline,u=e.textAnchor,p=e.animatedProps,d=xE(),f=null!=(t=null==r?void 0:r(i))?t:i,m=(0,ee.useMemo)(function(){var e={opacity:p.opacity};return o?{style:k7({},e,{cursor:"pointer"}),onClick:function(e){return o(e,f)}}:{style:e}},[p.opacity,o,f]);return(0,Z.jsxs)(mn.g,k7({transform:p.transform},m,{children:[(0,Z.jsx)("line",{x1:0,x2:a,y1:0,y2:s,style:d.axis.ticks.line}),(0,Z.jsx)(mn.text,{dominantBaseline:l,textAnchor:u,transform:p.textTransform,style:d.axis.ticks.text,children:f})]}))}),_n=(0,ee.memo)(function(e){var t=e.axis,i=e.scale,r=e.x,a=e.y,s=e.length,o=e.ticksPosition,l=e.tickValues,u=e.tickSize,p=e.tickPadding,d=e.tickRotation,f=void 0===d?0:d,m=e.format,g=e.renderTick,b=void 0===g?_i:g,v=e.legend,y=e.legendPosition,x=void 0===y?"end":y,w=e.legendOffset,k=void 0===w?0:w,_=e.onClick,S=e.ariaHidden,T=xE(),C=(0,ee.useMemo)(function(){return _e(m,i)},[m,i]),E=k9({axis:t,scale:i,ticksPosition:o,tickValues:l,tickSize:void 0===u?5:u,tickPadding:void 0===p?5:p,tickRotation:f}),R=E.ticks,j=E.textAlign,I=E.textBaseline,O=null;if(void 0!==v){var P,N=0,A=0,D=0;"y"===t?(D=-90,N=k,"start"===x?(P="start",A=s):"middle"===x?(P="middle",A=s/2):"end"===x&&(P="end")):(A=k,"start"===x?P="start":"middle"===x?(P="middle",N=s/2):"end"===x&&(P="end",N=s)),O=(0,Z.jsx)("text",{transform:"translate("+N+", "+A+") rotate("+D+")",textAnchor:P,style:k7({dominantBaseline:"central"},T.axis.legend.text),children:v})}var L=xl(),U=L.animate,M=L.config,F=fV({transform:"translate("+(void 0===r?0:r)+","+(void 0===a?0:a)+")",lineX2:"x"===t?s:0,lineY2:"x"===t?0:s,config:M,immediate:!U}),$=fz(R,{keys:function(e){return e.key},initial:function(e){return{opacity:1,transform:"translate("+e.x+","+e.y+")",textTransform:"translate("+e.textX+","+e.textY+") rotate("+f+")"}},from:function(e){return{opacity:0,transform:"translate("+e.x+","+e.y+")",textTransform:"translate("+e.textX+","+e.textY+") rotate("+f+")"}},enter:function(e){return{opacity:1,transform:"translate("+e.x+","+e.y+")",textTransform:"translate("+e.textX+","+e.textY+") rotate("+f+")"}},update:function(e){return{opacity:1,transform:"translate("+e.x+","+e.y+")",textTransform:"translate("+e.textX+","+e.textY+") rotate("+f+")"}},leave:{opacity:0},config:M,immediate:!U});return(0,Z.jsxs)(mn.g,{transform:F.transform,"aria-hidden":S,children:[$(function(e,t,i,r){return ee.createElement(b,k7({tickIndex:r,format:C,rotate:f,textBaseline:I,textAnchor:j,animatedProps:e},t,_?{onClick:_}:{}))}),(0,Z.jsx)(mn.line,{style:T.axis.domain.line,x1:0,x2:F.lineX2,y1:0,y2:F.lineY2}),O]})}),_r={ticksPosition:p7().oneOf(["before","after"]),tickValues:p7().oneOfType([p7().number,p7().arrayOf(p7().oneOfType([p7().number,p7().string,p7().instanceOf(Date)])),p7().string]),tickSize:p7().number,tickPadding:p7().number,tickRotation:p7().number,format:p7().oneOfType([p7().func,p7().string]),renderTick:p7().func,legend:p7().node,legendPosition:p7().oneOf(["start","middle","end"]),legendOffset:p7().number,ariaHidden:p7().bool},_a=p7().shape(_r),_s=["top","right","bottom","left"],_o=(0,ee.memo)(function(e){var t=e.xScale,i=e.yScale,r=e.width,a=e.height,s={top:e.top,right:e.right,bottom:e.bottom,left:e.left};return(0,Z.jsx)(Z.Fragment,{children:_s.map(function(e){var o=s[e];if(!o)return null;var l="top"===e||"bottom"===e;return(0,Z.jsx)(_n,k7({},o,{axis:l?"x":"y",x:"right"===e?r:0,y:"bottom"===e?a:0,scale:l?t:i,length:l?r:a,ticksPosition:"top"===e||"left"===e?"before":"after"}),e)})})}),_c=(0,ee.memo)(function(e){var t=e.animatedProps,i=xE();return(0,Z.jsx)(mn.line,k7({},t,i.grid.line))}),_l=(0,ee.memo)(function(e){var t=e.lines,i=xl(),r=i.animate,a=fz(t,{keys:function(e){return e.key},initial:function(e){return{opacity:1,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}},from:function(e){return{opacity:0,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}},enter:function(e){return{opacity:1,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}},update:function(e){return{opacity:1,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}},leave:{opacity:0},config:i.config,immediate:!r});return(0,Z.jsx)("g",{children:a(function(e,t){return(0,ee.createElement)(_c,k7({},t,{key:t.key,animatedProps:e}))})})}),_u=(0,ee.memo)(function(e){var t=e.width,i=e.height,r=e.xScale,a=e.yScale,s=e.xValues,o=e.yValues,l=(0,ee.useMemo)(function(){return!!r&&_t({width:t,height:i,scale:r,axis:"x",values:s})},[r,s,t,i]),u=(0,ee.useMemo)(function(){return!!a&&_t({width:t,height:i,scale:a,axis:"y",values:o})},[i,t,a,o]);return(0,Z.jsxs)(Z.Fragment,{children:[l&&(0,Z.jsx)(_l,{lines:l}),u&&(0,Z.jsx)(_l,{lines:u})]})}),_p=function(e,t){var i,r=t.axis,a=t.scale,s=t.x,o=t.y,l=t.length,u=t.ticksPosition,p=t.tickValues,d=t.tickSize,f=t.tickPadding,m=t.tickRotation,g=void 0===m?0:m,b=t.format,v=t.legend,y=t.legendPosition,x=void 0===y?"end":y,w=t.legendOffset,k=void 0===w?0:w,_=t.theme,S=k9({axis:r,scale:a,ticksPosition:u,tickValues:p,tickSize:void 0===d?5:d,tickPadding:void 0===f?5:f,tickRotation:g,engine:"canvas"}),T=S.ticks,C=S.textAlign,E=S.textBaseline;e.save(),e.translate(void 0===s?0:s,void 0===o?0:o),e.textAlign=C,e.textBaseline=E,e.font=(_.axis.ticks.text.fontWeight?_.axis.ticks.text.fontWeight+" ":"")+_.axis.ticks.text.fontSize+"px "+_.axis.ticks.text.fontFamily,(null!=(i=_.axis.domain.line.strokeWidth)?i:0)>0&&(e.lineWidth=Number(_.axis.domain.line.strokeWidth),e.lineCap="square",_.axis.domain.line.stroke&&(e.strokeStyle=_.axis.domain.line.stroke),e.beginPath(),e.moveTo(0,0),e.lineTo("x"===r?l:0,"x"===r?0:l),e.stroke());var R="function"==typeof b?b:function(e){return""+e};if(T.forEach(function(t){(null!=(i=_.axis.ticks.line.strokeWidth)?i:0)>0&&(e.lineWidth=Number(_.axis.ticks.line.strokeWidth),e.lineCap="square",_.axis.ticks.line.stroke&&(e.strokeStyle=_.axis.ticks.line.stroke),e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(t.x+t.lineX,t.y+t.lineY),e.stroke());var i,r=R(t.value);e.save(),e.translate(t.x+t.textX,t.y+t.textY),e.rotate(xD(g)),_.axis.ticks.text.fill&&(e.fillStyle=_.axis.ticks.text.fill),e.fillText(String(r),0,0),e.restore()}),void 0!==v){var j=0,I=0,O=0,P="center";"y"===r?(O=-90,j=k,"start"===x?(P="start",I=l):"middle"===x?(P="center",I=l/2):"end"===x&&(P="end")):(I=k,"start"===x?P="start":"middle"===x?(P="center",j=l/2):"end"===x&&(P="end",j=l)),e.translate(j,I),e.rotate(xD(O)),e.font=(_.axis.legend.text.fontWeight?_.axis.legend.text.fontWeight+" ":"")+_.axis.legend.text.fontSize+"px "+_.axis.legend.text.fontFamily,_.axis.legend.text.fill&&(e.fillStyle=_.axis.legend.text.fill),e.textAlign=P,e.textBaseline="middle",e.fillText(v,0,0)}e.restore()},_d=function(e,t){var i=t.xScale,r=t.yScale,a=t.width,s=t.height,o=t.top,l=t.right,u=t.bottom,p=t.left,d=t.theme,f={top:o,right:l,bottom:u,left:p};_s.forEach(function(t){var o=f[t];if(!o)return null;var l="top"===t||"bottom"===t,u=l?i:r,p=_e(o.format,u);_p(e,k7({},o,{axis:l?"x":"y",x:"right"===t?a:0,y:"bottom"===t?s:0,scale:u,format:p,length:l?a:s,ticksPosition:"top"===t||"left"===t?"before":"after",theme:d}))})},_h=function(e,t){_t({width:t.width,height:t.height,scale:t.scale,axis:t.axis,values:t.values}).forEach(function(t){e.beginPath(),e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2),e.stroke()})};function _f(){return(_f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var _m={length:200,thickness:16,direction:"row",tickPosition:"after",tickSize:4,tickSpacing:3,tickOverlap:!1,tickFormat:function(e){return""+e},titleAlign:"start",titleOffset:4},_g={top:0,right:0,bottom:0,left:0},_b=function(e){var t=e.direction,i=e.itemsSpacing,r=e.padding,a=e.itemCount,s=e.itemWidth,o=e.itemHeight;if("number"!=typeof r&&("object"!=typeof r||Array.isArray(r)||null===r))throw Error("Invalid property padding, must be one of: number, object");var l="number"==typeof r?{top:r,right:r,bottom:r,left:r}:_f({},_g,r),u=l.left+l.right,p=l.top+l.bottom,d=s+u,f=o+p,m=(a-1)*i;return"row"===t?d=s*a+m+u:"column"===t&&(f=o*a+m+p),{width:d,height:f,padding:l}},_v=function(e){var t=e.anchor,i=e.translateX,r=e.translateY,a=e.containerWidth,s=e.containerHeight,o=e.width,l=e.height,u=i,p=r;switch(t){case"top":u+=(a-o)/2;break;case"top-right":u+=a-o;break;case"right":u+=a-o,p+=(s-l)/2;break;case"bottom-right":u+=a-o,p+=s-l;break;case"bottom":u+=(a-o)/2,p+=s-l;break;case"bottom-left":p+=s-l;break;case"left":p+=(s-l)/2;break;case"center":u+=(a-o)/2,p+=(s-l)/2}return{x:u,y:p}},_y=function(e){var t,i,r,a,s,o,l=e.direction,u=e.justify,p=e.symbolSize,d=e.symbolSpacing,f=e.width,m=e.height;switch(l){case"left-to-right":t=0,i=(m-p)/2,a=m/2,o="central",u?(r=f,s="end"):(r=p+d,s="start");break;case"right-to-left":t=f-p,i=(m-p)/2,a=m/2,o="central",u?(r=0,s="start"):(r=f-p-d,s="end");break;case"top-to-bottom":t=(f-p)/2,i=0,r=f/2,s="middle",u?(a=m,o="alphabetic"):(a=p+d,o="text-before-edge");break;case"bottom-to-top":t=(f-p)/2,i=m-p,r=f/2,s="middle",u?(a=0,o="text-before-edge"):(a=m-p-d,o="alphabetic")}return{symbolX:t,symbolY:i,labelX:r,labelY:a,labelAnchor:s,labelAlignment:o}},_x={circle:function(e){var t=e.x,i=e.y,r=e.size,a=e.fill,s=e.opacity,o=e.borderWidth,l=e.borderColor;return(0,Z.jsx)("circle",{r:r/2,cx:t+r/2,cy:i+r/2,fill:a,opacity:void 0===s?1:s,strokeWidth:void 0===o?0:o,stroke:void 0===l?"transparent":l,style:{pointerEvents:"none"}})},diamond:function(e){var t=e.x,i=e.y,r=e.size,a=e.fill,s=e.opacity,o=e.borderWidth,l=e.borderColor;return(0,Z.jsx)("g",{transform:"translate("+t+","+i+")",children:(0,Z.jsx)("path",{d:"\n                    M"+r/2+" 0\n                    L"+.8*r+" "+r/2+"\n                    L"+r/2+" "+r+"\n                    L"+.2*r+" "+r/2+"\n                    L"+r/2+" 0\n                ",fill:a,opacity:void 0===s?1:s,strokeWidth:void 0===o?0:o,stroke:void 0===l?"transparent":l,style:{pointerEvents:"none"}})})},square:function(e){var t=e.x,i=e.y,r=e.size,a=e.fill,s=e.opacity,o=e.borderWidth,l=e.borderColor;return(0,Z.jsx)("rect",{x:t,y:i,fill:a,opacity:void 0===s?1:s,strokeWidth:void 0===o?0:o,stroke:void 0===l?"transparent":l,width:r,height:r,style:{pointerEvents:"none"}})},triangle:function(e){var t=e.x,i=e.y,r=e.size,a=e.fill,s=e.opacity,o=e.borderWidth,l=e.borderColor;return(0,Z.jsx)("g",{transform:"translate("+t+","+i+")",children:(0,Z.jsx)("path",{d:"\n                M"+r/2+" 0\n                L"+r+" "+r+"\n                L0 "+r+"\n                L"+r/2+" 0\n            ",fill:a,opacity:void 0===s?1:s,strokeWidth:void 0===o?0:o,stroke:void 0===l?"transparent":l,style:{pointerEvents:"none"}})})}},_w=function(e){var t,i,r,a,s,o,l,u,p,d,f,m=e.x,g=e.y,b=e.width,v=e.height,y=e.data,x=e.direction,w=e.justify,k=e.textColor,_=e.background,S=e.opacity,T=e.symbolShape,C=void 0===T?"square":T,E=e.symbolSize,R=void 0===E?16:E,j=e.symbolSpacing,I=e.symbolBorderWidth,O=e.symbolBorderColor,P=e.onClick,N=e.onMouseEnter,A=e.onMouseLeave,D=e.toggleSerie,L=e.effects,U=(0,ee.useState)({}),M=U[0],F=U[1],$=xE(),B=(0,ee.useCallback)(function(e){L&&F(L.filter(function(e){return"hover"===e.on}).reduce(function(e,t){return _f({},e,t.style)},{})),null==N||N(y,e)},[N,y,L]),q=(0,ee.useCallback)(function(e){L&&F(L.filter(function(e){return"hover"!==e.on}).reduce(function(e,t){return _f({},e,t.style)},{})),null==A||A(y,e)},[A,y,L]),V=_y({direction:void 0===x?"left-to-right":x,justify:void 0!==w&&w,symbolSize:null!=(t=M.symbolSize)?t:R,symbolSpacing:void 0===j?8:j,width:b,height:v}),z=V.symbolX,W=V.symbolY,H=V.labelX,G=V.labelY,K=V.labelAnchor,Y=V.labelAlignment,J=[P,N,A,D].some(function(e){return void 0!==e}),X="function"==typeof C?C:_x[C];return(0,Z.jsxs)("g",{transform:"translate("+m+","+g+")",style:{opacity:null!=(i=M.itemOpacity)?i:void 0===S?1:S},children:[(0,Z.jsx)("rect",{width:b,height:v,fill:null!=(r=M.itemBackground)?r:void 0===_?"transparent":_,style:{cursor:J?"pointer":"auto"},onClick:function(e){null==P||P(y,e),null==D||D(y.id)},onMouseEnter:B,onMouseLeave:q}),ee.createElement(X,_f({id:y.id,x:z,y:W,size:null!=(a=M.symbolSize)?a:R,fill:null!=(s=null!=(o=y.fill)?o:y.color)?s:"black",borderWidth:null!=(l=M.symbolBorderWidth)?l:void 0===I?0:I,borderColor:null!=(u=M.symbolBorderColor)?u:void 0===O?"transparent":O},y.hidden?$.legends.hidden.symbol:void 0)),(0,Z.jsx)("text",{textAnchor:K,style:_f({},$.legends.text,{fill:null!=(p=null!=(d=null!=(f=M.itemTextColor)?f:k)?d:$.legends.text.fill)?p:"black",dominantBaseline:Y,pointerEvents:"none",userSelect:"none"},y.hidden?$.legends.hidden.text:void 0),x:H,y:G,children:y.label})]})},_k=function(e){var t=e.data,i=e.x,r=e.y,a=e.direction,s=e.padding,o=e.justify,l=e.effects,u=e.itemWidth,p=e.itemHeight,d=e.itemDirection,f=void 0===d?"left-to-right":d,m=e.itemsSpacing,g=void 0===m?0:m,b=e.itemTextColor,v=e.itemBackground,y=void 0===v?"transparent":v,x=e.itemOpacity,w=void 0===x?1:x,k=e.symbolShape,_=e.symbolSize,S=e.symbolSpacing,T=e.symbolBorderWidth,C=e.symbolBorderColor,E=e.onClick,R=e.onMouseEnter,j=e.onMouseLeave,I=e.toggleSerie,O=_b({itemCount:t.length,itemWidth:u,itemHeight:p,itemsSpacing:g,direction:a,padding:void 0===s?0:s}).padding,P="row"===a?u+g:0,N="column"===a?p+g:0;return(0,Z.jsx)("g",{transform:"translate("+i+","+r+")",children:t.map(function(e,t){return(0,Z.jsx)(_w,{data:e,x:t*P+O.left,y:t*N+O.top,width:u,height:p,direction:f,justify:o,effects:l,textColor:b,background:y,opacity:w,symbolShape:k,symbolSize:_,symbolSpacing:S,symbolBorderWidth:T,symbolBorderColor:C,onClick:E,onMouseEnter:R,onMouseLeave:j,toggleSerie:I},t)})})},__=function(e){var t=e.data,i=e.containerWidth,r=e.containerHeight,a=e.translateX,s=e.translateY,o=e.anchor,l=e.direction,u=e.padding,p=void 0===u?0:u,d=e.justify,f=e.itemsSpacing,m=void 0===f?0:f,g=e.itemWidth,b=e.itemHeight,v=e.itemDirection,y=e.itemTextColor,x=e.itemBackground,w=e.itemOpacity,k=e.symbolShape,_=e.symbolSize,S=e.symbolSpacing,T=e.symbolBorderWidth,C=e.symbolBorderColor,E=e.onClick,R=e.onMouseEnter,j=e.onMouseLeave,I=e.toggleSerie,O=e.effects,P=_b({itemCount:t.length,itemsSpacing:m,itemWidth:g,itemHeight:b,direction:l,padding:p}),N=_v({anchor:o,translateX:void 0===a?0:a,translateY:void 0===s?0:s,containerWidth:i,containerHeight:r,width:P.width,height:P.height}),A=N.x,D=N.y;return(0,Z.jsx)(_k,{data:t,x:A,y:D,direction:l,padding:p,justify:d,effects:O,itemsSpacing:m,itemWidth:g,itemHeight:b,itemDirection:v,itemTextColor:y,itemBackground:x,itemOpacity:w,symbolShape:k,symbolSize:_,symbolSpacing:S,symbolBorderWidth:T,symbolBorderColor:C,onClick:E,onMouseEnter:R,onMouseLeave:j,toggleSerie:"boolean"==typeof I?void 0:I})},_S={start:"left",middle:"center",end:"right"},_T=function(e,t){var i=t.data,r=t.containerWidth,a=t.containerHeight,s=t.translateX,o=t.translateY,l=t.anchor,u=t.direction,p=t.padding,d=t.justify,f=void 0!==d&&d,m=t.itemsSpacing,g=void 0===m?0:m,b=t.itemWidth,v=t.itemHeight,y=t.itemDirection,x=void 0===y?"left-to-right":y,w=t.itemTextColor,k=t.symbolSize,_=void 0===k?16:k,S=t.symbolSpacing,T=void 0===S?8:S,C=t.theme,E=_b({itemCount:i.length,itemWidth:b,itemHeight:v,itemsSpacing:g,direction:u,padding:void 0===p?0:p}),R=E.width,j=E.height,I=E.padding,O=_v({anchor:l,translateX:void 0===s?0:s,translateY:void 0===o?0:o,containerWidth:r,containerHeight:a,width:R,height:j}),P=O.x,N=O.y,A="row"===u?b+g:0,D="column"===u?v+g:0;e.save(),e.translate(P,N),e.font=C.legends.text.fontSize+"px "+(C.legends.text.fontFamily||"sans-serif"),i.forEach(function(t,i){var r,a,s=i*A+I.left,o=i*D+I.top,l=_y({direction:x,justify:f,symbolSize:_,symbolSpacing:T,width:b,height:v}),u=l.symbolX,p=l.symbolY,d=l.labelX,m=l.labelY,g=l.labelAnchor,y=l.labelAlignment;e.fillStyle=null!=(r=t.color)?r:"black",e.fillRect(s+u,o+p,_,_),e.textAlign=_S[g],"central"===y&&(e.textBaseline="middle"),e.fillStyle=null!=(a=null!=w?w:C.legends.text.fill)?a:"black",e.fillText(String(t.label),s+d,o+m)}),e.restore()},_C={data:p7().arrayOf(p7().object),anchor:p7().oneOf(["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left","center"]).isRequired,translateX:p7().number,translateY:p7().number,direction:p7().oneOf(["row","column"]).isRequired,itemsSpacing:p7().number,itemWidth:p7().number.isRequired,itemHeight:p7().number.isRequired,itemDirection:p7().oneOf(["left-to-right","right-to-left","top-to-bottom","bottom-to-top"]),itemTextColor:p7().string,itemBackground:p7().string,itemOpacity:p7().number,symbolShape:p7().oneOfType([p7().oneOf(["circle","diamond","square","triangle"]),p7().func]),symbolSize:p7().number,symbolSpacing:p7().number,symbolBorderWidth:p7().number,symbolBorderColor:p7().string,onClick:p7().func,onMouseEnter:p7().func,onMouseLeave:p7().func,effects:p7().arrayOf(p7().shape({on:p7().oneOfType([p7().oneOf(["hover"])]).isRequired,style:p7().shape({itemTextColor:p7().string,itemBackground:p7().string,itemOpacity:p7().number,symbolSize:p7().number,symbolBorderWidth:p7().number,symbolBorderColor:p7().string}).isRequired}))},_E=Math.PI,_R=2*_E,_j=_R-1e-6;function _I(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function _O(){return new _I}function _P(e){return function(){return e}}function _N(e){return e[0]}function _A(e){return e[1]}function _D(){var e=_N,t=_A,i=_P(!0),r=null,a=b3,s=null;function o(o){var l,u,p,d=o.length,f=!1;for(null==r&&(s=a(p=_O())),l=0;l<=d;++l)!(l<d&&i(u=o[l],l,o))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+e(u,l,o),+t(u,l,o));if(p)return s=null,p+""||null}return o.x=function(t){return arguments.length?(e="function"==typeof t?t:_P(+t),o):e},o.y=function(e){return arguments.length?(t="function"==typeof e?e:_P(+e),o):t},o.defined=function(e){return arguments.length?(i="function"==typeof e?e:_P(!!e),o):i},o.curve=function(e){return arguments.length?(a=e,null!=r&&(s=a(r)),o):a},o.context=function(e){return arguments.length?(null==e?r=s=null:s=a(r=e),o):r},o}_I.prototype=_O.prototype={constructor:_I,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,i,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+i)+","+(this._y1=+r)},bezierCurveTo:function(e,t,i,r,a,s){this._+="C"+ +e+","+ +t+","+ +i+","+ +r+","+(this._x1=+a)+","+(this._y1=+s)},arcTo:function(e,t,i,r,a){e=+e,t=+t,i=+i,r=+r,a=+a;var s=this._x1,o=this._y1,l=i-e,u=r-t,p=s-e,d=o-t,f=p*p+d*d;if(a<0)throw Error("negative radius: "+a);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>1e-6){if(Math.abs(d*l-u*p)>1e-6&&a){var m=i-s,g=r-o,b=l*l+u*u,v=Math.sqrt(b),y=Math.sqrt(f),x=a*Math.tan((_E-Math.acos((b+f-(m*m+g*g))/(2*v*y)))/2),w=x/y,k=x/v;Math.abs(w-1)>1e-6&&(this._+="L"+(e+w*p)+","+(t+w*d)),this._+="A"+a+","+a+",0,0,"+ +(d*m>p*g)+","+(this._x1=e+k*l)+","+(this._y1=t+k*u)}else this._+="L"+(this._x1=e)+","+(this._y1=t)}},arc:function(e,t,i,r,a,s){e=+e,t=+t,i=+i,s=!!s;var o=i*Math.cos(r),l=i*Math.sin(r),u=e+o,p=t+l,d=1^s,f=s?r-a:a-r;if(i<0)throw Error("negative radius: "+i);null===this._x1?this._+="M"+u+","+p:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-p)>1e-6)&&(this._+="L"+u+","+p),i&&(f<0&&(f=f%_R+_R),f>_j?this._+="A"+i+","+i+",0,1,"+d+","+(e-o)+","+(t-l)+"A"+i+","+i+",0,1,"+d+","+(this._x1=u)+","+(this._y1=p):f>1e-6&&(this._+="A"+i+","+i+",0,"+ +(f>=_E)+","+d+","+(this._x1=e+i*Math.cos(a))+","+(this._y1=t+i*Math.sin(a))))},rect:function(e,t,i,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +i+"v"+ +r+"h"+-i+"Z"},toString:function(){return this._}};let _L=new Uint32Array(512);class _U{static from(e,t=_V,i=_z){let r=e.length,a=new Float64Array(2*r);for(let s=0;s<r;s++){let r=e[s];a[2*s]=t(r),a[2*s+1]=i(r)}return new _U(a)}constructor(e){let t=e.length>>1;if(t>0&&"number"!=typeof e[0])throw Error("Expected coords to contain numbers.");this.coords=e;let i=Math.max(2*t-5,0);this._triangles=new Uint32Array(3*i),this._halfedges=new Int32Array(3*i),this._hashSize=Math.ceil(Math.sqrt(t)),this._hullPrev=new Uint32Array(t),this._hullNext=new Uint32Array(t),this._hullTri=new Uint32Array(t),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(t),this._dists=new Float64Array(t),this.update()}update(){let e,t,i;let{coords:r,_hullPrev:a,_hullNext:s,_hullTri:o,_hullHash:l}=this,u=r.length>>1,p=1/0,d=1/0,f=-1/0,m=-1/0;for(let e=0;e<u;e++){let t=r[2*e],i=r[2*e+1];t<p&&(p=t),i<d&&(d=i),t>f&&(f=t),i>m&&(m=i),this._ids[e]=e}let g=(p+f)/2,b=(d+m)/2,v=1/0;for(let t=0;t<u;t++){let i=_M(g,b,r[2*t],r[2*t+1]);i<v&&(e=t,v=i)}let y=r[2*e],x=r[2*e+1];v=1/0;for(let i=0;i<u;i++){if(i===e)continue;let a=_M(y,x,r[2*i],r[2*i+1]);a<v&&a>0&&(t=i,v=a)}let w=r[2*t],k=r[2*t+1],_=1/0;for(let a=0;a<u;a++){if(a===e||a===t)continue;let s=function(e,t,i,r,a,s){let o=i-e,l=r-t,u=a-e,p=s-t,d=o*o+l*l,f=u*u+p*p,m=.5/(o*p-l*u),g=(p*d-l*f)*m,b=(o*f-u*d)*m;return g*g+b*b}(y,x,w,k,r[2*a],r[2*a+1]);s<_&&(i=a,_=s)}let S=r[2*i],T=r[2*i+1];if(_===1/0){for(let e=0;e<u;e++)this._dists[e]=r[2*e]-r[0]||r[2*e+1]-r[1];_B(this._ids,this._dists,0,u-1);let e=new Uint32Array(u),t=0;for(let i=0,r=-1/0;i<u;i++){let a=this._ids[i];this._dists[a]>r&&(e[t++]=a,r=this._dists[a])}this.hull=e.subarray(0,t),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(_$(y,x,w,k,S,T)){let e=t,r=w,a=k;t=i,w=S,k=T,i=e,S=r,T=a}let C=function(e,t,i,r,a,s){let o=i-e,l=r-t,u=a-e,p=s-t,d=o*o+l*l,f=u*u+p*p,m=.5/(o*p-l*u);return{x:e+(p*d-l*f)*m,y:t+(o*f-u*d)*m}}(y,x,w,k,S,T);this._cx=C.x,this._cy=C.y;for(let e=0;e<u;e++)this._dists[e]=_M(r[2*e],r[2*e+1],C.x,C.y);_B(this._ids,this._dists,0,u-1),this._hullStart=e;let E=3;s[e]=a[i]=t,s[t]=a[e]=i,s[i]=a[t]=e,o[e]=0,o[t]=1,o[i]=2,l.fill(-1),l[this._hashKey(y,x)]=e,l[this._hashKey(w,k)]=t,l[this._hashKey(S,T)]=i,this.trianglesLen=0,this._addTriangle(e,t,i,-1,-1,-1);for(let u=0,p,d;u<this._ids.length;u++){let f=this._ids[u],m=r[2*f],g=r[2*f+1];if(u>0&&2220446049250313e-31>=Math.abs(m-p)&&2220446049250313e-31>=Math.abs(g-d)||(p=m,d=g,f===e||f===t||f===i))continue;let b=0;for(let e=0,t=this._hashKey(m,g);e<this._hashSize&&(-1===(b=l[(t+e)%this._hashSize])||b===s[b]);e++);let v=b=a[b],y;for(;y=s[v],!_$(m,g,r[2*v],r[2*v+1],r[2*y],r[2*y+1]);)if((v=y)===b){v=-1;break}if(-1===v)continue;let x=this._addTriangle(v,f,s[v],-1,-1,o[v]);o[f]=this._legalize(x+2),o[v]=x,E++;let w=s[v];for(;y=s[w],_$(m,g,r[2*w],r[2*w+1],r[2*y],r[2*y+1]);)x=this._addTriangle(w,f,y,o[f],-1,o[w]),o[f]=this._legalize(x+2),s[w]=w,E--,w=y;if(v===b)for(;_$(m,g,r[2*(y=a[v])],r[2*y+1],r[2*v],r[2*v+1]);)x=this._addTriangle(y,f,v,-1,o[v],o[y]),this._legalize(x+2),o[y]=x,s[v]=v,E--,v=y;this._hullStart=a[f]=v,s[v]=a[w]=f,s[f]=w,l[this._hashKey(m,g)]=f,l[this._hashKey(r[2*v],r[2*v+1])]=v}this.hull=new Uint32Array(E);for(let e=0,t=this._hullStart;e<E;e++)this.hull[e]=t,t=s[t];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,t){return Math.floor(function(e,t){let i=e/(Math.abs(e)+Math.abs(t));return(t>0?3-i:1+i)/4}(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(e){let{_triangles:t,_halfedges:i,coords:r}=this,a=0,s=0;for(;;){let o=i[e],l=e-e%3;if(s=l+(e+2)%3,-1===o){if(0===a)break;e=_L[--a];continue}let u=o-o%3,p=l+(e+1)%3,d=u+(o+2)%3,f=t[s],m=t[e],g=t[p],b=t[d];if(function(e,t,i,r,a,s,o,l){let u=e-o,p=t-l,d=i-o,f=r-l,m=a-o,g=s-l,b=d*d+f*f,v=m*m+g*g;return u*(f*v-b*g)-p*(d*v-b*m)+(u*u+p*p)*(d*g-f*m)<0}(r[2*f],r[2*f+1],r[2*m],r[2*m+1],r[2*g],r[2*g+1],r[2*b],r[2*b+1])){t[e]=b,t[o]=f;let r=i[d];if(-1===r){let t=this._hullStart;do{if(this._hullTri[t]===d){this._hullTri[t]=e;break}t=this._hullPrev[t]}while(t!==this._hullStart)}this._link(e,r),this._link(o,i[s]),this._link(s,d);let l=u+(o+1)%3;a<_L.length&&(_L[a++]=l)}else{if(0===a)break;e=_L[--a]}}return s}_link(e,t){this._halfedges[e]=t,-1!==t&&(this._halfedges[t]=e)}_addTriangle(e,t,i,r,a,s){let o=this.trianglesLen;return this._triangles[o]=e,this._triangles[o+1]=t,this._triangles[o+2]=i,this._link(o,r),this._link(o+1,a),this._link(o+2,s),this.trianglesLen+=3,o}}function _M(e,t,i,r){let a=e-i,s=t-r;return a*a+s*s}function _F(e,t,i,r,a,s){let o=(r-t)*(a-e),l=(i-e)*(s-t);return Math.abs(o-l)>=33306690738754716e-32*Math.abs(o+l)?o-l:0}function _$(e,t,i,r,a,s){return 0>(_F(a,s,e,t,i,r)||_F(e,t,i,r,a,s)||_F(i,r,a,s,e,t))}function _B(e,t,i,r){if(r-i<=20)for(let a=i+1;a<=r;a++){let r=e[a],s=t[r],o=a-1;for(;o>=i&&t[e[o]]>s;)e[o+1]=e[o--];e[o+1]=r}else{let a=i+r>>1,s=i+1,o=r;_q(e,a,s),t[e[i]]>t[e[r]]&&_q(e,i,r),t[e[s]]>t[e[r]]&&_q(e,s,r),t[e[i]]>t[e[s]]&&_q(e,i,s);let l=e[s],u=t[l];for(;;){do s++;while(t[e[s]]<u);do o--;while(t[e[o]]>u);if(o<s)break;_q(e,s,o)}e[i+1]=e[o],e[o]=l,r-s+1>=o-i?(_B(e,t,s,r),_B(e,t,i,o-1)):(_B(e,t,i,o-1),_B(e,t,s,r))}}function _q(e,t,i){let r=e[t];e[t]=e[i],e[i]=r}function _V(e){return e[0]}function _z(e){return e[1]}class _W{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,t){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,t){this._+=`L${this._x1=+e},${this._y1=+t}`}arc(e,t,i){e=+e,t=+t;let r=e+(i=+i),a=t;if(i<0)throw Error("negative radius");null===this._x1?this._+=`M${r},${a}`:(Math.abs(this._x1-r)>1e-6||Math.abs(this._y1-a)>1e-6)&&(this._+="L"+r+","+a),i&&(this._+=`A${i},${i},0,1,1,${e-i},${t}A${i},${i},0,1,1,${this._x1=r},${this._y1=a}`)}rect(e,t,i,r){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${+i}v${+r}h${-i}Z`}value(){return this._||null}}class _H{constructor(){this._=[]}moveTo(e,t){this._.push([e,t])}closePath(){this._.push(this._[0].slice())}lineTo(e,t){this._.push([e,t])}value(){return this._.length?this._:null}}class _G{constructor(e,[t,i,r,a]=[0,0,960,500]){if(!((r=+r)>=(t=+t))||!((a=+a)>=(i=+i)))throw Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(2*e.points.length),this.vectors=new Float64Array(2*e.points.length),this.xmax=r,this.xmin=t,this.ymax=a,this.ymin=i,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){let{delaunay:{points:e,hull:t,triangles:i},vectors:r}=this,a=this.circumcenters=this._circumcenters.subarray(0,i.length/3*2);for(let t=0,r=0,s=i.length,o,l;t<s;t+=3,r+=2){let s=2*i[t],u=2*i[t+1],p=2*i[t+2],d=e[s],f=e[s+1],m=e[u],g=e[u+1],b=e[p],v=e[p+1],y=m-d,x=g-f,w=b-d,k=v-f,_=y*y+x*x,S=w*w+k*k,T=(y*k-x*w)*2;if(T){if(1e-8>Math.abs(T))o=(d+b)/2,l=(f+v)/2;else{let e=1/T;o=d+(k*_-x*S)*e,l=f+(y*S-w*_)*e}}else o=(d+b)/2-1e8*k,l=(f+v)/2+1e8*w;a[r]=o,a[r+1]=l}let s=t[t.length-1],o,l=4*s,u,p=e[2*s],d,f=e[2*s+1];r.fill(0);for(let i=0;i<t.length;++i)s=t[i],o=l,u=p,d=f,l=4*s,p=e[2*s],f=e[2*s+1],r[o+2]=r[l]=d-f,r[o+3]=r[l+1]=p-u}render(e){let t=null==e?e=new _W:void 0,{delaunay:{halfedges:i,inedges:r,hull:a},circumcenters:s,vectors:o}=this;if(a.length<=1)return null;for(let t=0,r=i.length;t<r;++t){let r=i[t];if(r<t)continue;let a=2*Math.floor(t/3),o=2*Math.floor(r/3),l=s[a],u=s[a+1],p=s[o],d=s[o+1];this._renderSegment(l,u,p,d,e)}let l,u=a[a.length-1];for(let t=0;t<a.length;++t){l=u;let i=2*Math.floor(r[u=a[t]]/3),p=s[i],d=s[i+1],f=4*l,m=this._project(p,d,o[f+2],o[f+3]);m&&this._renderSegment(p,d,m[0],m[1],e)}return t&&t.value()}renderBounds(e){let t=null==e?e=new _W:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}renderCell(e,t){let i=null==t?t=new _W:void 0,r=this._clip(e);if(null===r||!r.length)return;t.moveTo(r[0],r[1]);let a=r.length;for(;r[0]===r[a-2]&&r[1]===r[a-1]&&a>1;)a-=2;for(let e=2;e<a;e+=2)(r[e]!==r[e-2]||r[e+1]!==r[e-1])&&t.lineTo(r[e],r[e+1]);return t.closePath(),i&&i.value()}*cellPolygons(){let{delaunay:{points:e}}=this;for(let t=0,i=e.length/2;t<i;++t){let e=this.cellPolygon(t);e&&(e.index=t,yield e)}}cellPolygon(e){let t=new _H;return this.renderCell(e,t),t.value()}_renderSegment(e,t,i,r,a){let s;let o=this._regioncode(e,t),l=this._regioncode(i,r);0===o&&0===l?(a.moveTo(e,t),a.lineTo(i,r)):(s=this._clipSegment(e,t,i,r,o,l))&&(a.moveTo(s[0],s[1]),a.lineTo(s[2],s[3]))}contains(e,t,i){return(t=+t)==t&&(i=+i)==i&&this.delaunay._step(e,t,i)===e}*neighbors(e){let t=this._clip(e);if(t)for(let i of this.delaunay.neighbors(e)){let e=this._clip(i);if(e){t:for(let r=0,a=t.length;r<a;r+=2)for(let s=0,o=e.length;s<o;s+=2)if(t[r]==e[s]&&t[r+1]==e[s+1]&&t[(r+2)%a]==e[(s+o-2)%o]&&t[(r+3)%a]==e[(s+o-1)%o]){yield i;break t}}}}_cell(e){let{circumcenters:t,delaunay:{inedges:i,halfedges:r,triangles:a}}=this,s=i[e];if(-1===s)return null;let o=[],l=s;do{let i=Math.floor(l/3);if(o.push(t[2*i],t[2*i+1]),a[l=l%3==2?l-2:l+1]!==e)break;l=r[l]}while(l!==s&&-1!==l);return o}_clip(e){if(0===e&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];let t=this._cell(e);if(null===t)return null;let{vectors:i}=this,r=4*e;return i[r]||i[r+1]?this._clipInfinite(e,t,i[r],i[r+1],i[r+2],i[r+3]):this._clipFinite(e,t)}_clipFinite(e,t){let i,r;let a=t.length,s=null,o,l,u=t[a-2],p=t[a-1],d,f=this._regioncode(u,p);for(let m=0;m<a;m+=2)if(o=u,l=p,u=t[m],p=t[m+1],d=f,f=this._regioncode(u,p),0===d&&0===f)i=r,r=0,s?s.push(u,p):s=[u,p];else{let t,a,m,g,b;if(0===d){if(null===(t=this._clipSegment(o,l,u,p,d,f)))continue;[a,m,g,b]=t}else{if(null===(t=this._clipSegment(u,p,o,l,f,d)))continue;[g,b,a,m]=t,i=r,r=this._edgecode(a,m),i&&r&&this._edge(e,i,r,s,s.length),s?s.push(a,m):s=[a,m]}i=r,r=this._edgecode(g,b),i&&r&&this._edge(e,i,r,s,s.length),s?s.push(g,b):s=[g,b]}if(s)i=r,r=this._edgecode(s[0],s[1]),i&&r&&this._edge(e,i,r,s,s.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return s}_clipSegment(e,t,i,r,a,s){for(;;){if(0===a&&0===s)return[e,t,i,r];if(a&s)return null;let o,l,u=a||s;8&u?(o=e+(i-e)*(this.ymax-t)/(r-t),l=this.ymax):4&u?(o=e+(i-e)*(this.ymin-t)/(r-t),l=this.ymin):2&u?(l=t+(r-t)*(this.xmax-e)/(i-e),o=this.xmax):(l=t+(r-t)*(this.xmin-e)/(i-e),o=this.xmin),a?(e=o,t=l,a=this._regioncode(e,t)):(i=o,r=l,s=this._regioncode(i,r))}}_clipInfinite(e,t,i,r,a,s){let o=Array.from(t),l;if((l=this._project(o[0],o[1],i,r))&&o.unshift(l[0],l[1]),(l=this._project(o[o.length-2],o[o.length-1],a,s))&&o.push(l[0],l[1]),o=this._clipFinite(e,o))for(let t=0,i=o.length,r,a=this._edgecode(o[i-2],o[i-1]);t<i;t+=2)r=a,a=this._edgecode(o[t],o[t+1]),r&&a&&(t=this._edge(e,r,a,o,t),i=o.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(o=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return o}_edge(e,t,i,r,a){for(;t!==i;){let i,s;switch(t){case 5:t=4;continue;case 4:t=6,i=this.xmax,s=this.ymin;break;case 6:t=2;continue;case 2:t=10,i=this.xmax,s=this.ymax;break;case 10:t=8;continue;case 8:t=9,i=this.xmin,s=this.ymax;break;case 9:t=1;continue;case 1:t=5,i=this.xmin,s=this.ymin}(r[a]!==i||r[a+1]!==s)&&this.contains(e,i,s)&&(r.splice(a,0,i,s),a+=2)}if(r.length>4)for(let e=0;e<r.length;e+=2){let t=(e+2)%r.length,i=(e+4)%r.length;(r[e]===r[t]&&r[t]===r[i]||r[e+1]===r[t+1]&&r[t+1]===r[i+1])&&(r.splice(t,2),e-=2)}return a}_project(e,t,i,r){let a=1/0,s,o,l;if(r<0){if(t<=this.ymin)return null;(s=(this.ymin-t)/r)<a&&(l=this.ymin,o=e+(a=s)*i)}else if(r>0){if(t>=this.ymax)return null;(s=(this.ymax-t)/r)<a&&(l=this.ymax,o=e+(a=s)*i)}if(i>0){if(e>=this.xmax)return null;(s=(this.xmax-e)/i)<a&&(o=this.xmax,l=t+(a=s)*r)}else if(i<0){if(e<=this.xmin)return null;(s=(this.xmin-e)/i)<a&&(o=this.xmin,l=t+(a=s)*r)}return[o,l]}_edgecode(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}_regioncode(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}}let _K=2*Math.PI,_Y=Math.pow;function _J(e){return e[0]}function _X(e){return e[1]}class _Q{static from(e,t=_J,i=_X,r){return new _Q("length"in e?function(e,t,i,r){let a=e.length,s=new Float64Array(2*a);for(let o=0;o<a;++o){let a=e[o];s[2*o]=t.call(r,a,o,e),s[2*o+1]=i.call(r,a,o,e)}return s}(e,t,i,r):Float64Array.from(function*(e,t,i,r){let a=0;for(let s of e)yield t.call(r,s,a,e),yield i.call(r,s,a,e),++a}(e,t,i,r)))}constructor(e){this._delaunator=new _U(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){let e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&function(e){let{triangles:t,coords:i}=e;for(let e=0;e<t.length;e+=3){let r=2*t[e],a=2*t[e+1],s=2*t[e+2];if((i[s]-i[r])*(i[a+1]-i[r+1])-(i[a]-i[r])*(i[s+1]-i[r+1])>1e-10)return!1}return!0}(e)){this.collinear=Int32Array.from({length:t.length/2},(e,t)=>t).sort((e,i)=>t[2*e]-t[2*i]||t[2*e+1]-t[2*i+1]);let e=this.collinear[0],a=this.collinear[this.collinear.length-1],s=[t[2*e],t[2*e+1],t[2*a],t[2*a+1]],o=1e-8*Math.hypot(s[3]-s[1],s[2]-s[0]);for(let e=0,a=t.length/2;e<a;++e){var i,r;let a=[(i=t[2*e])+Math.sin(i+(r=t[2*e+1]))*o,r+Math.cos(i-r)*o];t[2*e]=a[0],t[2*e+1]=a[1]}this._delaunator=new _U(t)}else delete this.collinear;let a=this.halfedges=this._delaunator.halfedges,s=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,l=this.inedges.fill(-1),u=this._hullIndex.fill(-1);for(let e=0,t=a.length;e<t;++e){let t=o[e%3==2?e-2:e+1];(-1===a[e]||-1===l[t])&&(l[t]=e)}for(let e=0,t=s.length;e<t;++e)u[s[e]]=e;s.length<=2&&s.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=s[0],this.triangles[1]=s[1],this.triangles[2]=s[1],l[s[0]]=1,2===s.length&&(l[s[1]]=0))}voronoi(e){return new _G(this,e)}*neighbors(e){let{inedges:t,hull:i,_hullIndex:r,halfedges:a,triangles:s,collinear:o}=this;if(o){let t=o.indexOf(e);t>0&&(yield o[t-1]),t<o.length-1&&(yield o[t+1]);return}let l=t[e];if(-1===l)return;let u=l,p=-1;do{if(yield p=s[u],s[u=u%3==2?u-2:u+1]!==e)return;if(-1===(u=a[u])){let t=i[(r[e]+1)%i.length];t!==p&&(yield t);return}}while(u!==l)}find(e,t,i=0){let r;if((e=+e)!=e||(t=+t)!=t)return -1;let a=i;for(;(r=this._step(i,e,t))>=0&&r!==i&&r!==a;)i=r;return r}_step(e,t,i){let{inedges:r,hull:a,_hullIndex:s,halfedges:o,triangles:l,points:u}=this;if(-1===r[e]||!u.length)return(e+1)%(u.length>>1);let p=e,d=_Y(t-u[2*e],2)+_Y(i-u[2*e+1],2),f=r[e],m=f;do{let r=l[m],f=_Y(t-u[2*r],2)+_Y(i-u[2*r+1],2);if(f<d&&(d=f,p=r),l[m=m%3==2?m-2:m+1]!==e)break;if(-1===(m=o[m])){if((m=a[(s[e]+1)%a.length])!==r&&_Y(t-u[2*m],2)+_Y(i-u[2*m+1],2)<d)return m;break}}while(m!==f);return p}render(e){let t=null==e?e=new _W:void 0,{points:i,halfedges:r,triangles:a}=this;for(let t=0,s=r.length;t<s;++t){let s=r[t];if(s<t)continue;let o=2*a[t],l=2*a[s];e.moveTo(i[o],i[o+1]),e.lineTo(i[l],i[l+1])}return this.renderHull(e),t&&t.value()}renderPoints(e,t=2){let i=null==e?e=new _W:void 0,{points:r}=this;for(let i=0,a=r.length;i<a;i+=2){let a=r[i],s=r[i+1];e.moveTo(a+t,s),e.arc(a,s,t,0,_K)}return i&&i.value()}renderHull(e){let t=null==e?e=new _W:void 0,{hull:i,points:r}=this,a=2*i[0],s=i.length;e.moveTo(r[a],r[a+1]);for(let t=1;t<s;++t){let a=2*i[t];e.lineTo(r[a],r[a+1])}return e.closePath(),t&&t.value()}hullPolygon(){let e=new _H;return this.renderHull(e),e.value()}renderTriangle(e,t){let i=null==t?t=new _W:void 0,{points:r,triangles:a}=this,s=2*a[e*=3],o=2*a[e+1],l=2*a[e+2];return t.moveTo(r[s],r[s+1]),t.lineTo(r[o],r[o+1]),t.lineTo(r[l],r[l+1]),t.closePath(),i&&i.value()}*trianglePolygons(){let{triangles:e}=this;for(let t=0,i=e.length/3;t<i;++t)yield this.trianglePolygon(t)}trianglePolygon(e){let t=new _H;return this.renderTriangle(e,t),t.value()}}var _Z={xDomain:[0,1],yDomain:[0,1],layers:["links","cells","points","bounds"],enableLinks:!1,linkLineWidth:1,linkLineColor:"#bbbbbb",enableCells:!0,cellLineWidth:2,cellLineColor:"#000000",pointSize:4,pointColor:"#666666",role:"img"},_0=function(e){return"function"==typeof e?e:function(t){return t[e]}},_1=function(e){var t=e.points,i=e.x,r=e.y,a=_0(void 0===i?"x":i),s=_0(void 0===r?"y":r);return t.map(function(e){return[a(e),s(e)]})},_2=function(e){var t=e.points,i=e.width,r=e.height,a=e.debug,s=_Q.from(t),o=a?s.voronoi([0,0,i,r]):void 0;return{delaunay:s,voronoi:o}},_3=function(e){var t=e.points,i=e.x,r=e.y,a=e.width,s=e.height,o=e.debug,l=(0,ee.useMemo)(function(){return _1({points:t,x:i,y:r})},[t,i,r]);return(0,ee.useMemo)(function(){return _2({points:l,width:a,height:s,debug:o})},[l,a,s,o])},_4=function(e){var t=e.data,i=e.width,r=e.height,a=e.xDomain,s=e.yDomain,o=n(function(){return c().domain(a).range([0,i])},[a,i]),l=n(function(){return c().domain(s).range([0,r])},[s,r]),u=n(function(){return t.map(function(e){return{x:o(e.x),y:l(e.y),data:e}})},[t,o,l]);return n(function(){var e=h.from(u.map(function(e){return[e.x,e.y]})),t=e.voronoi([0,0,i,r]);return{points:u,delaunay:e,voronoi:t}},[u,i,r])},_6=function(e){var t=e.points,i=e.delaunay,r=e.voronoi;return n(function(){return{points:t,delaunay:i,voronoi:r}},[t,i,r])},_5=function(e){var t=e.nodes,i=e.width,r=e.height,a=e.x,s=e.y,o=e.onMouseEnter,l=e.onMouseMove,u=e.onMouseLeave,p=e.onClick,d=e.debug,f=(0,ee.useRef)(null),m=(0,ee.useState)(null),g=m[0],b=m[1],v=_3({points:t,x:a,y:s,width:i,height:r,debug:d}),y=v.delaunay,x=v.voronoi,w=(0,ee.useMemo)(function(){if(d&&x)return x.render()},[d,x]),k=(0,ee.useCallback)(function(e){if(!f.current)return[null,null];var i=x2(f.current,e),r=i[0],a=i[1],s=y.find(r,a);return[s,void 0!==s?t[s]:null]},[f,y]),_=(0,ee.useCallback)(function(e){var t=k(e),i=t[0],r=t[1];b(i),r&&(null==o||o(r,e))},[k,b,o]),S=(0,ee.useCallback)(function(e){var t=k(e),i=t[0],r=t[1];b(i),r&&(null==l||l(r,e))},[k,b,l]),T=(0,ee.useCallback)(function(e){if(b(null),u){var i=void 0;null!==g&&(i=t[g]),i&&u(i,e)}},[b,g,u,t]),C=(0,ee.useCallback)(function(e){var t=k(e),i=t[0],r=t[1];b(i),r&&(null==p||p(r,e))},[k,b,p]);return(0,Z.jsxs)("g",{ref:f,children:[d&&x&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("path",{d:w,stroke:"red",strokeWidth:1,opacity:.75}),null!==g&&(0,Z.jsx)("path",{fill:"pink",opacity:.35,d:x.renderCell(g)})]}),(0,Z.jsx)("rect",{width:i,height:r,fill:"red",opacity:0,style:{cursor:"auto"},onMouseEnter:_,onMouseMove:S,onMouseLeave:T,onClick:C})]})},_8=function(e,t){e.save(),e.globalAlpha=.75,e.beginPath(),t.render(e),e.strokeStyle="red",e.lineWidth=1,e.stroke(),e.restore()},_7=function(e,t,i){e.save(),e.globalAlpha=.35,e.beginPath(),t.renderCell(i,e),e.fillStyle="red",e.fill(),e.restore()};function _9(){return(_9=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var Se=function(e){var t=e.point;return(0,Z.jsx)(ml,{id:(0,Z.jsxs)("span",{children:["x: ",(0,Z.jsx)("strong",{children:t.data.xFormatted}),", y:"," ",(0,Z.jsx)("strong",{children:t.data.yFormatted})]}),enableChip:!0,color:t.serieColor})};Se.propTypes={point:p7().object.isRequired};var St=(0,ee.memo)(Se),Si=function(e){var t=e.slice,i=e.axis,r=xE(),a="x"===i?"y":"x";return(0,Z.jsx)(mp,{rows:t.points.map(function(e){return[(0,Z.jsx)(mc,{color:e.serieColor,style:r.tooltip.chip},"chip"),e.serieId,(0,Z.jsx)("span",{style:r.tooltip.tableCellValue,children:e.data[a+"Formatted"]},"value")]})})};Si.propTypes={slice:p7().object.isRequired,axis:p7().oneOf(["x","y"]).isRequired};var Sn=(0,ee.memo)(Si),Sr={data:p7().arrayOf(p7().shape({id:p7().oneOfType([p7().string,p7().number]).isRequired,data:p7().arrayOf(p7().shape({x:p7().oneOfType([p7().number,p7().string,p7().instanceOf(Date)]),y:p7().oneOfType([p7().number,p7().string,p7().instanceOf(Date)])})).isRequired})).isRequired,xScale:p7().object.isRequired,xFormat:p7().oneOfType([p7().func,p7().string]),yScale:p7().object.isRequired,yFormat:p7().oneOfType([p7().func,p7().string]),layers:p7().arrayOf(p7().oneOfType([p7().oneOf(["grid","markers","axes","areas","crosshair","lines","slices","points","mesh","legends"]),p7().func])).isRequired,curve:xm.isRequired,axisTop:_a,axisRight:_a,axisBottom:_a,axisLeft:_a,enableGridX:p7().bool.isRequired,enableGridY:p7().bool.isRequired,gridXValues:p7().oneOfType([p7().number,p7().arrayOf(p7().oneOfType([p7().number,p7().string,p7().instanceOf(Date)]))]),gridYValues:p7().oneOfType([p7().number,p7().arrayOf(p7().oneOfType([p7().number,p7().string,p7().instanceOf(Date)]))]),enablePoints:p7().bool.isRequired,pointSymbol:p7().func,pointSize:p7().number.isRequired,pointColor:p7().any.isRequired,pointBorderWidth:p7().number.isRequired,pointBorderColor:p7().any.isRequired,enablePointLabel:p7().bool.isRequired,pointLabel:p7().oneOfType([p7().string,p7().func]).isRequired,markers:p7().arrayOf(p7().shape({axis:p7().oneOf(["x","y"]).isRequired,value:p7().oneOfType([p7().number,p7().string,p7().instanceOf(Date)]).isRequired,style:p7().object})),colors:wu.isRequired,enableArea:p7().bool.isRequired,areaOpacity:p7().number.isRequired,areaBlendMode:xy.isRequired,areaBaselineValue:p7().oneOfType([p7().number,p7().string,p7().instanceOf(Date)]).isRequired,lineWidth:p7().number.isRequired,legends:p7().arrayOf(p7().shape(_C)).isRequired,isInteractive:p7().bool.isRequired,debugMesh:p7().bool.isRequired,tooltip:p7().oneOfType([p7().func,p7().object]).isRequired,enableSlices:p7().oneOf(["x","y",!1]).isRequired,debugSlices:p7().bool.isRequired,sliceTooltip:p7().oneOfType([p7().func,p7().object]).isRequired,enableCrosshair:p7().bool.isRequired,crosshairType:p7().string.isRequired},Sa=_9({},Sr,{enablePointLabel:p7().bool.isRequired,role:p7().string.isRequired,useMesh:p7().bool.isRequired},xc,xb),Ss=_9({pixelRatio:p7().number.isRequired},Sr),So={curve:"linear",xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},layers:["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"],axisBottom:{},axisLeft:{},enableGridX:!0,enableGridY:!0,enablePoints:!0,pointSize:6,pointColor:{from:"color"},pointBorderWidth:0,pointBorderColor:{theme:"background"},enablePointLabel:!1,pointLabel:"yFormatted",colors:{scheme:"nivo"},enableArea:!1,areaBaselineValue:0,areaOpacity:.2,areaBlendMode:"normal",lineWidth:2,legends:[],isInteractive:!0,tooltip:St,enableSlices:!1,debugSlices:!1,sliceTooltip:Sn,debugMesh:!1,enableCrosshair:!0,crosshairType:"bottom-left"},Sc=_9({},So,{enablePointLabel:!1,useMesh:!1,animate:!0,motionConfig:"gentle",defs:[],fill:[],role:"img"}),Sl=_9({},So,{pixelRatio:1}),Su=function(e){var t=e.curve;return(0,ee.useMemo)(function(){return _D().defined(function(e){return null!==e.x&&null!==e.y}).x(function(e){return e.x}).y(function(e){return e.y}).curve(xg(t))},[t])},Sp=function(e){var t=e.curve,i=e.yScale,r=e.areaBaselineValue;return(0,ee.useMemo)(function(){return(function(){var e=_N,t=null,i=_P(0),r=_A,a=_P(!0),s=null,o=b3,l=null;function u(u){var p,d,f,m,g,b=u.length,v=!1,y=Array(b),x=Array(b);for(null==s&&(l=o(g=_O())),p=0;p<=b;++p){if(!(p<b&&a(m=u[p],p,u))===v){if(v=!v)d=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),f=p-1;f>=d;--f)l.point(y[f],x[f]);l.lineEnd(),l.areaEnd()}}v&&(y[p]=+e(m,p,u),x[p]=+i(m,p,u),l.point(t?+t(m,p,u):y[p],r?+r(m,p,u):x[p]))}if(g)return l=null,g+""||null}function p(){return _D().defined(a).curve(o).context(s)}return u.x=function(i){return arguments.length?(e="function"==typeof i?i:_P(+i),t=null,u):e},u.x0=function(t){return arguments.length?(e="function"==typeof t?t:_P(+t),u):e},u.x1=function(e){return arguments.length?(t=null==e?null:"function"==typeof e?e:_P(+e),u):t},u.y=function(e){return arguments.length?(i="function"==typeof e?e:_P(+e),r=null,u):i},u.y0=function(e){return arguments.length?(i="function"==typeof e?e:_P(+e),u):i},u.y1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:_P(+e),u):r},u.lineX0=u.lineY0=function(){return p().x(e).y(i)},u.lineY1=function(){return p().x(e).y(r)},u.lineX1=function(){return p().x(t).y(i)},u.defined=function(e){return arguments.length?(a="function"==typeof e?e:_P(!!e),u):a},u.curve=function(e){return arguments.length?(o=e,null!=s&&(l=o(s)),u):o},u.context=function(e){return arguments.length?(null==e?s=l=null:l=o(s=e),u):s},u})().defined(function(e){return null!==e.x&&null!==e.y}).x(function(e){return e.x}).y1(function(e){return e.y}).curve(xg(t)).y0(i(r))},[t,i,r])},Sd=function(e){var t=e.enableSlices,i=e.points,r=e.width,a=e.height;return(0,ee.useMemo)(function(){if(!1===t)return[];if("x"===t){var e=new Map;return i.forEach(function(t){null!==t.data.x&&null!==t.data.y&&(e.has(t.x)?e.get(t.x).push(t):e.set(t.x,[t]))}),Array.from(e.entries()).sort(function(e,t){return e[0]-t[0]}).map(function(e,t,i){var s,o=e[0],l=e[1],u=i[t-1],p=i[t+1];return{id:o,x0:s=u?o-(o-u[0])/2:o,x:o,y0:0,y:0,width:p?o-s+(p[0]-o)/2:r-s,height:a,points:l.reverse()}})}if("y"===t){var s=new Map;return i.forEach(function(e){null!==e.data.x&&null!==e.data.y&&(s.has(e.y)?s.get(e.y).push(e):s.set(e.y,[e]))}),Array.from(s.entries()).sort(function(e,t){return e[0]-t[0]}).map(function(e,t,i){var s,o,l=e[0],u=e[1],p=i[t-1],d=i[t+1];return s=p?l-(l-p[0])/2:l,o=d?l-s+(d[0]-l)/2:a-s,{id:l,x0:0,x:0,y0:s,y:l,width:r,height:o,points:u.reverse()}})}},[t,i])},Sh=function(e){var t,i,r,a,s,o,l=e.data,u=e.xScale,p=void 0===u?Sc.xScale:u,d=e.xFormat,f=e.yScale,m=void 0===f?Sc.yScale:f,g=e.yFormat,b=e.width,v=e.height,y=e.colors,x=void 0===y?Sc.colors:y,w=e.curve,k=void 0===w?Sc.curve:w,_=e.areaBaselineValue,S=void 0===_?Sc.areaBaselineValue:_,T=e.pointColor,C=void 0===T?Sc.pointColor:T,E=e.pointBorderColor,R=void 0===E?Sc.pointBorderColor:E,j=e.enableSlices,I=void 0===j?Sc.enableSlicesTooltip:j,O=x_(d),P=x_(g),N=(0,ee.useMemo)(function(){return wf(x,"id")},[x,"id"]),A=xE(),D=wl(C,A),L=wl(R,A),U=(0,ee.useState)([]),M=U[0],F=U[1],$=(0,ee.useMemo)(function(){return kQ(l.filter(function(e){return -1===M.indexOf(e.id)}),p,m,b,v)},[l,M,p,m,b,v]),B=$.xScale,q=$.yScale,V=$.series,z=(0,ee.useMemo)(function(){var e=l.map(function(e){return{id:e.id,label:e.id,color:N(e)}}),t=e.map(function(e){return _9({},V.find(function(t){return t.id===e.id}),{color:e.color})}).filter(function(e){return!!e.id});return{legendData:e.map(function(e){return _9({},e,{hidden:!t.find(function(t){return t.id===e.id})})}).reverse(),series:t}},[l,V,N]),W=z.legendData,H=z.series,G=(0,ee.useCallback)(function(e){F(function(t){return t.indexOf(e)>-1?t.filter(function(t){return t!==e}):[].concat(t,[e])})},[]),K=(i=(t={series:H,getPointColor:D,getPointBorderColor:L,formatX:O,formatY:P}).series,r=t.getPointColor,a=t.getPointBorderColor,s=t.formatX,o=t.formatY,(0,ee.useMemo)(function(){return i.reduce(function(e,t){return[].concat(e,t.data.filter(function(e){return null!==e.position.x&&null!==e.position.y}).map(function(i,l){var u={id:t.id+"."+l,index:e.length+l,serieId:t.id,serieColor:t.color,x:i.position.x,y:i.position.y};return u.color=r(t),u.borderColor=a(u),u.data=_9({},i.data,{xFormatted:s(i.data.x),yFormatted:o(i.data.y)}),u}))},[])},[i,r,a,s,o])),Y=Sd({enableSlices:I,points:K,width:b,height:v});return{legendData:W,toggleSerie:G,lineGenerator:Su({curve:k}),areaGenerator:Sp({curve:k,yScale:q,areaBaselineValue:S}),getColor:N,series:H,xScale:B,yScale:q,slices:Y,points:K}},Sf=function(e){var t=e.areaBlendMode,i=e.areaOpacity,r=e.color,a=e.fill,s=e.path,o=xl(),l=o.animate,u=o.config,p=xu(s),d=fV({color:r,config:u,immediate:!l});return(0,Z.jsx)(mn.path,{d:p,fill:a||d.color,fillOpacity:i,strokeWidth:0,style:{mixBlendMode:t}})};Sf.propTypes={areaBlendMode:xy.isRequired,areaOpacity:p7().number.isRequired,color:p7().string,fill:p7().string,path:p7().string.isRequired};var Sm=function(e){var t=e.areaGenerator,i=e.areaOpacity,r=e.areaBlendMode,a=e.lines.slice(0).reverse();return(0,Z.jsx)("g",{children:a.map(function(e){return(0,Z.jsx)(Sf,_9({path:t(e.data.map(function(e){return e.position}))},_9({areaOpacity:i,areaBlendMode:r},e)),e.id)})})};Sm.propTypes={areaGenerator:p7().func.isRequired,areaOpacity:p7().number.isRequired,areaBlendMode:xy.isRequired,lines:p7().arrayOf(p7().object).isRequired};var Sg=(0,ee.memo)(Sm),Sb=function(e){var t=e.lineGenerator,i=e.points,r=e.color,a=e.thickness,s=xu((0,ee.useMemo)(function(){return t(i)},[t,i]));return(0,Z.jsx)(mn.path,{d:s,fill:"none",strokeWidth:a,stroke:r})};Sb.propTypes={points:p7().arrayOf(p7().shape({x:p7().oneOfType([p7().string,p7().number]),y:p7().oneOfType([p7().string,p7().number])})),lineGenerator:p7().func.isRequired,color:p7().string.isRequired,thickness:p7().number.isRequired};var Sv=(0,ee.memo)(Sb),Sy=function(e){var t=e.lines,i=e.lineGenerator,r=e.lineWidth;return t.slice(0).reverse().map(function(e){var t=e.id,a=e.data,s=e.color;return(0,Z.jsx)(Sv,{id:t,points:a.map(function(e){return e.position}),lineGenerator:i,color:s,thickness:r},t)})};Sy.propTypes={lines:p7().arrayOf(p7().shape({id:p7().oneOfType([p7().string,p7().number]).isRequired,color:p7().string.isRequired,data:p7().arrayOf(p7().shape({data:p7().shape({x:p7().oneOfType([p7().string,p7().number,p7().instanceOf(Date)]),y:p7().oneOfType([p7().string,p7().number,p7().instanceOf(Date)])}).isRequired,position:p7().shape({x:p7().number,y:p7().number}).isRequired})).isRequired})).isRequired,lineWidth:p7().number.isRequired,lineGenerator:p7().func.isRequired};var Sx=(0,ee.memo)(Sy),Sw=function(e){var t=e.slice,i=e.axis,r=e.debug,a=e.tooltip,s=e.isCurrent,o=e.setCurrent,l=mv(),u=l.showTooltipFromEvent,p=l.hideTooltip,d=(0,ee.useCallback)(function(e){u((0,ee.createElement)(a,{slice:t,axis:i}),e,"right"),o(t)},[u,a,t]),f=(0,ee.useCallback)(function(e){u((0,ee.createElement)(a,{slice:t,axis:i}),e,"right")},[u,a,t]),m=(0,ee.useCallback)(function(){p(),o(null)},[p]);return(0,Z.jsx)("rect",{x:t.x0,y:t.y0,width:t.width,height:t.height,stroke:"red",strokeWidth:r?1:0,strokeOpacity:.75,fill:"red",fillOpacity:s&&r?.35:0,onMouseEnter:d,onMouseMove:f,onMouseLeave:m})};Sw.propTypes={slice:p7().object.isRequired,axis:p7().oneOf(["x","y"]).isRequired,debug:p7().bool.isRequired,height:p7().number.isRequired,tooltip:p7().oneOfType([p7().func,p7().object]),isCurrent:p7().bool.isRequired,setCurrent:p7().func.isRequired};var Sk=(0,ee.memo)(Sw),S_=function(e){var t=e.slices,i=e.axis,r=e.debug,a=e.height,s=e.tooltip,o=e.current,l=e.setCurrent;return t.map(function(e){return(0,Z.jsx)(Sk,{slice:e,axis:i,debug:r,height:a,tooltip:s,setCurrent:l,isCurrent:null!==o&&o.id===e.id},e.id)})};S_.propTypes={slices:p7().arrayOf(p7().shape({id:p7().oneOfType([p7().number,p7().string,p7().instanceOf(Date)]).isRequired,x:p7().number.isRequired,y:p7().number.isRequired,points:p7().arrayOf(p7().object).isRequired})).isRequired,axis:p7().oneOf(["x","y"]).isRequired,debug:p7().bool.isRequired,height:p7().number.isRequired,tooltip:p7().oneOfType([p7().func,p7().object]).isRequired,current:p7().object,setCurrent:p7().func.isRequired};var SS=(0,ee.memo)(S_),ST=function(e){var t=e.points,i=e.symbol,r=e.size,a=e.borderWidth,s=e.enableLabel,o=e.label,l=e.labelYOffset,u=xE(),p=x1(o),d=t.slice(0).reverse().map(function(e){return{id:e.id,x:e.x,y:e.y,datum:e.data,fill:e.color,stroke:e.borderColor,label:s?p(e.data):null}});return(0,Z.jsx)("g",{children:d.map(function(e){return(0,Z.jsx)(xK,{x:e.x,y:e.y,datum:e.datum,symbol:i,size:r,color:e.fill,borderWidth:a,borderColor:e.stroke,label:e.label,labelYOffset:l,theme:u},e.id)})})};ST.propTypes={points:p7().arrayOf(p7().object),symbol:p7().func,size:p7().number.isRequired,color:p7().func.isRequired,borderWidth:p7().number.isRequired,borderColor:p7().func.isRequired,enableLabel:p7().bool.isRequired,label:p7().oneOfType([p7().string,p7().func]).isRequired,labelYOffset:p7().number};var SC=(0,ee.memo)(ST),SE=function(e){var t=e.points,i=e.width,r=e.height,a=e.margin,s=e.setCurrent,o=e.onMouseEnter,l=e.onMouseMove,u=e.onMouseLeave,p=e.onClick,d=e.tooltip,f=e.debug,m=mv(),g=m.showTooltipAt,b=m.hideTooltip,v=(0,ee.useCallback)(function(e,t){g((0,ee.createElement)(d,{point:e}),[e.x+a.left,e.y+a.top],"top"),s(e),o&&o(e,t)},[s,g,d,o,a]),y=(0,ee.useCallback)(function(e,t){g((0,ee.createElement)(d,{point:e}),[e.x+a.left,e.y+a.top],"top"),s(e),l&&l(e,t)},[s,g,d,l]),x=(0,ee.useCallback)(function(e,t){b(),s(null),u&&u(e,t)},[b,s,u]),w=(0,ee.useCallback)(function(e,t){p&&p(e,t)},[p]);return(0,Z.jsx)(_5,{nodes:t,width:i,height:r,onMouseEnter:v,onMouseMove:y,onMouseLeave:x,onClick:w,debug:f})};SE.propTypes={points:p7().arrayOf(p7().object).isRequired,width:p7().number.isRequired,height:p7().number.isRequired,margin:p7().object.isRequired,setCurrent:p7().func.isRequired,onMouseEnter:p7().func,onMouseMove:p7().func,onMouseLeave:p7().func,onClick:p7().func,tooltip:p7().oneOfType([p7().func,p7().object]).isRequired,debug:p7().bool.isRequired};var SR=(0,ee.memo)(SE),Sj=function(e){var t=e.data,i=e.xScale,r=e.xFormat,a=e.yScale,s=e.yFormat,o=e.layers,l=e.curve,u=e.areaBaselineValue,p=e.colors,d=e.margin,f=e.width,m=e.height,g=e.axisTop,b=e.axisRight,v=e.axisBottom,y=e.axisLeft,x=e.enableGridX,w=e.enableGridY,k=e.gridXValues,_=e.gridYValues,S=e.lineWidth,T=e.enableArea,C=e.areaOpacity,E=e.areaBlendMode,R=e.enablePoints,j=e.pointSymbol,I=e.pointSize,O=e.pointColor,P=e.pointBorderWidth,N=e.pointBorderColor,A=e.enablePointLabel,D=e.pointLabel,L=e.pointLabelYOffset,U=e.defs,M=e.fill,F=e.markers,$=e.legends,B=e.isInteractive,q=e.useMesh,V=e.debugMesh,z=e.onMouseEnter,W=e.onMouseMove,H=e.onMouseLeave,G=e.onClick,K=e.tooltip,Y=e.enableSlices,J=e.debugSlices,X=e.sliceTooltip,Q=e.enableCrosshair,et=e.crosshairType,ei=e.role,en=xw(f,m,d),er=en.margin,ea=en.innerWidth,es=en.innerHeight,eo=en.outerWidth,ec=en.outerHeight,el=Sh({data:t,xScale:i,xFormat:r,yScale:a,yFormat:s,width:ea,height:es,colors:p,curve:l,areaBaselineValue:u,pointColor:O,pointBorderColor:N,enableSlices:Y}),eu=el.legendData,ep=el.toggleSerie,ed=el.lineGenerator,eh=el.areaGenerator,ef=el.series,em=el.xScale,eg=el.yScale,eb=el.slices,ev=el.points,ey=xE(),ex=wl(O,ey),ew=wl(N,ey),ek=(0,ee.useState)(null),e_=ek[0],eS=ek[1],eT=(0,ee.useState)(null),eC=eT[0],eE=eT[1],eR={grid:(0,Z.jsx)(_u,{theme:ey,width:ea,height:es,xScale:x?em:null,yScale:w?eg:null,xValues:k,yValues:_},"grid"),markers:(0,Z.jsx)(xQ,{markers:F,width:ea,height:es,xScale:em,yScale:eg,theme:ey},"markers"),axes:(0,Z.jsx)(_o,{xScale:em,yScale:eg,width:ea,height:es,theme:ey,top:g,right:b,bottom:v,left:y},"axes"),areas:null,lines:(0,Z.jsx)(Sx,{lines:ef,lineGenerator:ed,lineWidth:S},"lines"),slices:null,points:null,crosshair:null,mesh:null,legends:$.map(function(e,t){return(0,Z.jsx)(__,_9({},e,{containerWidth:ea,containerHeight:es,data:e.data||eu,theme:ey,toggleSerie:e.toggleSerie?ep:void 0}),"legend."+t)})},ej=x5(U,ef,M);return T&&(eR.areas=(0,Z.jsx)(Sg,{areaGenerator:eh,areaOpacity:C,areaBlendMode:E,lines:ef},"areas")),B&&!1!==Y&&(eR.slices=(0,Z.jsx)(SS,{slices:eb,axis:Y,debug:J,height:es,tooltip:X,current:eC,setCurrent:eE},"slices")),R&&(eR.points=(0,Z.jsx)(SC,{points:ev,symbol:j,size:I,color:ex,borderWidth:P,borderColor:ew,enableLabel:A,label:D,labelYOffset:L},"points")),B&&Q&&(null!==e_&&(eR.crosshair=(0,Z.jsx)(mh,{width:ea,height:es,x:e_.x,y:e_.y,type:et},"crosshair")),null!==eC&&(eR.crosshair=(0,Z.jsx)(mh,{width:ea,height:es,x:eC.x,y:eC.y,type:Y},"crosshair"))),B&&q&&!1===Y&&(eR.mesh=(0,Z.jsx)(SR,{points:ev,width:ea,height:es,margin:er,current:e_,setCurrent:eS,onMouseEnter:z,onMouseMove:W,onMouseLeave:H,onClick:G,tooltip:K,debug:V},"mesh")),(0,Z.jsx)(xz,{defs:ej,width:eo,height:ec,margin:er,role:ei,children:o.map(function(t,i){return"function"==typeof t?(0,Z.jsx)(ee.Fragment,{children:t(_9({},e,{innerWidth:ea,innerHeight:es,series:ef,slices:eb,points:ev,xScale:em,yScale:eg,lineGenerator:ed,areaGenerator:eh,currentPoint:e_,setCurrentPoint:eS,currentSlice:eC,setCurrentSlice:eE}))},i):eR[t]})})};Sj.propTypes=Sa,Sj.defaultProps=Sc,x0(Sj);var SI=function(e){var t=e.width,i=e.height,r=e.margin,a=e.pixelRatio,s=e.data,o=e.xScale,l=e.xFormat,u=e.yScale,p=e.yFormat,d=e.curve,f=e.layers,m=e.colors,g=e.lineWidth,b=e.enableArea,v=e.areaBaselineValue,y=e.areaOpacity,x=e.enablePoints,w=e.pointSize,k=e.pointColor,_=e.pointBorderWidth,S=e.pointBorderColor,T=e.enableGridX,C=e.gridXValues,E=e.enableGridY,R=e.gridYValues,j=e.axisTop,I=e.axisRight,O=e.axisBottom,P=e.axisLeft,N=e.legends,A=e.isInteractive,D=e.debugMesh,L=e.onMouseLeave,U=e.onClick,M=e.tooltip,F=e.canvasRef,$=(0,ee.useRef)(null),B=xw(t,i,r),q=B.margin,V=B.innerWidth,z=B.innerHeight,W=B.outerWidth,H=B.outerHeight,G=xE(),K=(0,ee.useState)(null),Y=K[0],J=K[1],X=Sh({data:s,xScale:o,xFormat:l,yScale:u,yFormat:p,width:V,height:z,colors:m,curve:d,areaBaselineValue:v,pointColor:k,pointBorderColor:S}),Q=X.lineGenerator,et=X.areaGenerator,ei=X.series,en=X.xScale,er=X.yScale,ea=X.points,es=_3({points:ea,width:V,height:z,debug:D}),eo=es.delaunay,ec=es.voronoi;(0,ee.useEffect)(function(){F&&(F.current=$.current),$.current.width=W*a,$.current.height=H*a;var e=$.current.getContext("2d");e.scale(a,a),e.fillStyle=G.background,e.fillRect(0,0,W,H),e.translate(q.left,q.top),f.forEach(function(t){if("function"==typeof t&&t({ctx:e,innerWidth:V,innerHeight:z,series:ei,points:ea,xScale:en,yScale:er,lineWidth:g,lineGenerator:Q,areaGenerator:et,currentPoint:Y,setCurrentPoint:J}),"grid"===t&&G.grid.line.strokeWidth>0&&(e.lineWidth=G.grid.line.strokeWidth,e.strokeStyle=G.grid.line.stroke,T&&_h(e,{width:V,height:z,scale:en,axis:"x",values:C}),E&&_h(e,{width:V,height:z,scale:er,axis:"y",values:R})),"axes"===t&&_d(e,{xScale:en,yScale:er,width:V,height:z,top:j,right:I,bottom:O,left:P,theme:G}),"areas"===t&&!0===b&&(e.save(),e.globalAlpha=y,et.context(e),ei.forEach(function(t){e.fillStyle=t.color,e.beginPath(),et(t.data.map(function(e){return e.position})),e.fill()}),e.restore()),"lines"===t&&(Q.context(e),ei.forEach(function(t){e.strokeStyle=t.color,e.lineWidth=g,e.beginPath(),Q(t.data.map(function(e){return e.position})),e.stroke()})),"points"===t&&!0===x&&w>0&&ea.forEach(function(t){e.fillStyle=t.color,e.beginPath(),e.arc(t.x,t.y,w/2,0,2*Math.PI),e.fill(),_>0&&(e.strokeStyle=t.borderColor,e.lineWidth=_,e.stroke())}),"mesh"===t&&!0===D&&(_8(e,ec),Y&&_7(e,ec,Y.index)),"legends"===t){var i=ei.map(function(e){return{id:e.id,label:e.id,color:e.color}}).reverse();N.forEach(function(t){_T(e,_9({},t,{data:t.data||i,containerWidth:V,containerHeight:z,theme:G}))})}})},[$,W,H,f,G,Q,ei,en,er,T,C,E,R,j,I,O,P,N,ea,x,w,Y]);var el=(0,ee.useCallback)(function(e){var t,i,r=x2($.current,e),a=r[0],s=r[1];return(t=q.left,i=q.top,t<=a&&a<=t+V&&i<=s&&s<=i+z)?ea[eo.find(a-q.left,s-q.top)]:null},[$,q,V,z,eo]),eu=mv(),ep=eu.showTooltipFromEvent,ed=eu.hideTooltip,eh=(0,ee.useCallback)(function(e){var t=el(e);J(t),t?ep((0,ee.createElement)(M,{point:t}),e):ed()},[el,J,ep,ed,M]),ef=(0,ee.useCallback)(function(e){ed(),J(null),Y&&L&&L(Y,e)},[ed,J,L]),em=(0,ee.useCallback)(function(e){if(U){var t=el(e);t&&U(t,e)}},[el,U]);return(0,Z.jsx)("canvas",{ref:$,width:W*a,height:H*a,style:{width:W,height:H,cursor:A?"auto":"normal"},onMouseEnter:A?eh:void 0,onMouseMove:A?eh:void 0,onMouseLeave:A?ef:void 0,onClick:A?em:void 0})};SI.propTypes=Ss,SI.defaultProps=Sl,x0(SI);let SO=({participant:e,trackType:t="audioTrack",...i})=>{let r=uF(),[a,s]=(0,ee.useState)(null),{userId:o,sessionId:l}=e;return(0,ee.useEffect)(()=>{if(!r||!a)return;let e=r.bindAudioElement(a,l,t);return()=>{e?.()}},[r,l,a,t]),(0,Z.jsx)("audio",{autoPlay:!0,...i,ref:s,"data-user-id":o,"data-session-id":l,"data-track-type":t})},SP=e=>null!==e&&!(0,ee.isValidElement)(e),SN=(e,t)=>{if(e){if("function"==typeof e)return e(t);e.current=t}},SA=(0,ee.forwardRef)(({participant:e,style:t},i)=>{let{t:r}=uK(),[a,s]=(0,ee.useState)(!1),o=e.name||e.userId;return(0,Z.jsxs)("div",{className:"str-video__video-placeholder",style:t,ref:i,children:[(!e.image||a)&&(o?(0,Z.jsx)("div",{className:"str-video__video-placeholder__initials-fallback",children:(0,Z.jsx)("div",{children:o[0]})}):(0,Z.jsx)("div",{children:r("Video is disabled")})),e.image&&!a&&(0,Z.jsx)("img",{onError:()=>s(!0),alt:"video-placeholder",className:"str-video__video-placeholder__avatar",src:e.image})]})}),SD=({trackType:e,participant:t,className:i,VideoPlaceholder:r=SA,refs:a,...s})=>{let{sessionId:o,videoStream:l,screenShareStream:u,publishedTracks:p,viewportVisibilityState:d,isLocalParticipant:f,userId:m}=t,g=uF(),[b,v]=(0,ee.useState)(null),[y,x]=(0,ee.useState)(!0),[w,k]=(0,ee.useState)(!0),_="videoTrack"===e?l:"screenShareTrack"===e?u:void 0;if((0,ee.useLayoutEffect)(()=>{if(!g||!b||"none"===e)return;let t=g.bindVideoElement(b,o,e);return()=>{t?.()}},[g,e,o,b]),(0,ee.useEffect)(()=>{if(!_||!b)return;let[e]=_.getVideoTracks();if(!e)return;let t=()=>{x(b.paused);let{width:t=0,height:i=0}=e.getSettings();k(t>=i)};return x(b.paused),b.addEventListener("play",t),b.addEventListener("pause",t),e.addEventListener("unmute",t),()=>{b.removeEventListener("play",t),b.removeEventListener("pause",t),e.removeEventListener("unmute",t),x(!0)}},[_,b]),!g)return null;let S="videoTrack"===e?p.includes(si.TrackType.VIDEO):"screenShareTrack"===e&&p.includes(si.TrackType.SCREEN_SHARE),T="none"===e||d?.[e]===D.INVISIBLE,C=!S||T,E=f&&"videoTrack"===e,R="screenShareTrack"===e;return(0,Z.jsxs)(Z.Fragment,{children:[!C&&(0,Z.jsx)("video",{...s,className:u3("str-video__video",i,{"str-video__video--not-playing":y,"str-video__video--tall":!w,"str-video__video--mirror":E,"str-video__video--screen-share":R}),"data-user-id":m,"data-session-id":o,ref:e=>{v(e),a?.setVideoElement?.(e)}}),(C||y)&&r&&(0,Z.jsx)(r,{style:{position:"absolute"},participant:t,ref:a?.setVideoPlaceholderElement})]})},SL=({trackedElement:e,dynascaleManager:t,sessionId:i,trackType:r})=>{let a=uF(),s=t??a?.dynascaleManager;(0,ee.useEffect)(()=>{if(!e||!s||!a||"none"===r)return;let t=s.trackElementVisibility(e,i,r);return()=>{t()}},[e,s,a,i,r])},SU=({placement:e,strategy:t})=>{let{refs:i,x:r,y:a,update:s,elements:{domReference:o,floating:l}}=function(e){var t;void 0===e&&(e={});let{open:i=!1,onOpenChange:r,nodeId:a}=e,[s,o]=ee.useState(null),l=(null==(t=e.elements)?void 0:t.reference)||s,u=function(e){void 0===e&&(e={});let{placement:t="bottom",strategy:i="absolute",middleware:r=[],platform:a,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:u,open:p}=e,[d,f]=ee.useState({x:0,y:0,strategy:i,placement:t,middlewareData:{},isPositioned:!1}),[m,g]=ee.useState(r);pH(m,r)||g(r);let[b,v]=ee.useState(null),[y,x]=ee.useState(null),w=ee.useCallback(e=>{e!==T.current&&(T.current=e,v(e))},[]),k=ee.useCallback(e=>{e!==C.current&&(C.current=e,x(e))},[]),_=s||b,S=o||y,T=ee.useRef(null),C=ee.useRef(null),E=ee.useRef(d),R=null!=u,j=pK(u),I=pK(a),O=ee.useCallback(()=>{if(!T.current||!C.current)return;let e={placement:t,strategy:i,middleware:m};I.current&&(e.platform=I.current),pV(T.current,C.current,e).then(e=>{let t={...e,isPositioned:!0};P.current&&!pH(E.current,t)&&(E.current=t,pz.flushSync(()=>{f(t)}))})},[m,t,i,I]);pW(()=>{!1===p&&E.current.isPositioned&&(E.current.isPositioned=!1,f(e=>({...e,isPositioned:!1})))},[p]);let P=ee.useRef(!1);pW(()=>(P.current=!0,()=>{P.current=!1}),[]),pW(()=>{if(_&&(T.current=_),S&&(C.current=S),_&&S){if(j.current)return j.current(_,S,O);O()}},[_,S,O,j,R]);let N=ee.useMemo(()=>({reference:T,floating:C,setReference:w,setFloating:k}),[w,k]),A=ee.useMemo(()=>({reference:_,floating:S}),[_,S]),D=ee.useMemo(()=>{let e={position:i,left:0,top:0};if(!A.floating)return e;let t=pG(A.floating,d.x),r=pG(A.floating,d.y);return l?{...e,transform:"translate("+t+"px, "+r+"px)",...(A.floating,!1)}:{position:i,left:t,top:r}},[i,l,A.floating,d.x,d.y]);return ee.useMemo(()=>({...d,update:O,refs:N,elements:A,floatingStyles:D}),[d,O,N,A,D])}(e),p=p4(),d=null!=p3(),f=function(e){let t=ee.useRef(()=>{});return pY(()=>{t.current=e}),ee.useCallback(function(){for(var e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];return null==t.current?void 0:t.current(...i)},[])}((e,t,i)=>{e&&(g.current.openEvent=t),b.emit("openchange",{open:e,event:t,reason:i,nested:d}),null==r||r(e,t,i)}),m=ee.useRef(null),g=ee.useRef({}),b=ee.useState(()=>(function(){let e=new Map;return{emit(t,i){var r;null==(r=e.get(t))||r.forEach(e=>e(i))},on(t,i){e.set(t,[...e.get(t)||[],i])},off(t,i){var r;e.set(t,(null==(r=e.get(t))?void 0:r.filter(e=>e!==i))||[])}}})())[0],v=p0(),y=ee.useCallback(e=>{let t=pv(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;u.refs.setReference(t)},[u.refs]),x=ee.useCallback(e=>{(pv(e)||null===e)&&(m.current=e,o(e)),(pv(u.refs.reference.current)||null===u.refs.reference.current||null!==e&&!pv(e))&&u.refs.setReference(e)},[u.refs]),w=ee.useMemo(()=>({...u.refs,setReference:x,setPositionReference:y,domReference:m}),[u.refs,x,y]),k=ee.useMemo(()=>({...u.elements,domReference:l}),[u.elements,l]),_=ee.useMemo(()=>({...u,refs:w,elements:k,dataRef:g,nodeId:a,floatingId:v,events:b,open:i,onOpenChange:f}),[u,a,v,b,i,f,w,k]);return pJ(()=>{let e=null==p?void 0:p.nodesRef.current.find(e=>e.id===a);e&&(e.context=_)}),ee.useMemo(()=>({...u,context:_,refs:w,elements:k}),[u,w,k,_])}({placement:e,strategy:t,middleware:[function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var i,r;let{x:a,y:s,placement:o,middlewareData:l}=t,u=await ph(t,e);return o===(null==(i=l.offset)?void 0:i.placement)&&null!=(r=l.arrow)&&r.alignmentOffset?{}:{x:a+u.x,y:s+u.y,data:{...u,placement:o}}}}}(10),function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){let{x:i,y:r,placement:a}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:e=>{let{x:t,y:i}=e;return{x:t,y:i}}},...u}=pt(e,t),p={x:i,y:r},d=await pd(t,u),f=ps(pi(a)),m=pr(f),g=p[m],b=p[f];if(s){let e="y"===m?"top":"left",t="y"===m?"bottom":"right",i=g+d[e],r=g-d[t];g=u6(i,u4(g,r))}if(o){let e="y"===f?"top":"left",t="y"===f?"bottom":"right",i=b+d[e],r=b-d[t];b=u6(i,u4(b,r))}let v=l.fn({...t,[m]:g,[f]:b});return{...v,data:{x:v.x-i,y:v.y-r}}}}}(),function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var i,r,a,s,o;let{placement:l,middlewareData:u,rects:p,initialPlacement:d,platform:f,elements:m}=t,{mainAxis:g=!0,crossAxis:b=!0,fallbackPlacements:v,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:w=!0,...k}=pt(e,t);if(null!=(i=u.arrow)&&i.alignmentOffset)return{};let _=pi(l),S=pi(d)===d,T=await (null==f.isRTL?void 0:f.isRTL(m.floating)),C=v||(S||!w?[pc(d)]:function(e){let t=pc(e);return[po(e),t,po(t)]}(d));v||"none"===x||C.push(...function(e,t,i,r){let a=pn(e),s=function(e,t,i){let r=["left","right"],a=["right","left"];switch(e){case"top":case"bottom":if(i)return t?a:r;return t?r:a;case"left":case"right":return t?["top","bottom"]:["bottom","top"];default:return[]}}(pi(e),"start"===i,r);return a&&(s=s.map(e=>e+"-"+a),t&&(s=s.concat(s.map(po)))),s}(d,w,x,T));let E=[d,...C],R=await pd(t,k),j=[],I=(null==(r=u.flip)?void 0:r.overflows)||[];if(g&&j.push(R[_]),b){let e=function(e,t,i){void 0===i&&(i=!1);let r=pn(e),a=pr(ps(e)),s=pa(a),o="x"===a?r===(i?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=pc(o)),[o,pc(o)]}(l,p,T);j.push(R[e[0]],R[e[1]])}if(I=[...I,{placement:l,overflows:j}],!j.every(e=>e<=0)){let e=((null==(a=u.flip)?void 0:a.index)||0)+1,t=E[e];if(t)return{data:{index:e,overflows:I},reset:{placement:t}};let i=null==(s=I.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:s.placement;if(!i)switch(y){case"bestFit":{let e=null==(o=I.map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:o[0];e&&(i=e);break}case"initialPlacement":i=d}if(l!==i)return{reset:{placement:i}}}return{}}}}(),function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){let i,r;let{placement:a,rects:s,platform:o,elements:l}=t,{apply:u=()=>{},...p}=pt(e,t),d=await pd(t,p),f=pi(a),m=pn(a),g="y"===ps(a),{width:b,height:v}=s.floating;"top"===f||"bottom"===f?(i=f,r=m===(await (null==o.isRTL?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(r=f,i="end"===m?"top":"bottom");let y=v-d[i],x=b-d[r],w=!t.middlewareData.shift,k=y,_=x;if(g){let e=b-d.left-d.right;_=m||w?u4(x,e):e}else{let e=v-d.top-d.bottom;k=m||w?u4(y,e):e}if(w&&!m){let e=u6(d.left,0),t=u6(d.right,0),i=u6(d.top,0),r=u6(d.bottom,0);g?_=b-2*(0!==e||0!==t?e+t:u6(d.left,d.right)):k=v-2*(0!==i||0!==r?i+r:u6(d.top,d.bottom))}await u({...t,availableWidth:_,availableHeight:k});let S=await o.getDimensions(l.floating);return b!==S.width||v!==S.height?{reset:{rects:!0}}:{}}}}({padding:10,apply:({availableHeight:e,elements:t})=>{Object.assign(t.floating.style,{maxHeight:`${e}px`})}})]});return(0,ee.useEffect)(()=>{if(!o||!l)return;let e=function(e,t,i,r){let a;void 0===r&&(r={});let{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:l="function"==typeof ResizeObserver,layoutShift:u="function"==typeof IntersectionObserver,animationFrame:p=!1}=r,d=pI(e),f=s||o?[...d?pR(d):[],...pR(t)]:[];f.forEach(e=>{s&&e.addEventListener("scroll",i,{passive:!0}),o&&e.addEventListener("resize",i)});let m=d&&u?function(e,t){let i,r=null,a=pg(e);function s(){var e;clearTimeout(i),null==(e=r)||e.disconnect(),r=null}return function o(l,u){void 0===l&&(l=!1),void 0===u&&(u=1),s();let{left:p,top:d,width:f,height:m}=e.getBoundingClientRect();if(l||t(),!f||!m)return;let g=u8(d),b=u8(a.clientWidth-(p+f)),v={rootMargin:-g+"px "+-b+"px "+-u8(a.clientHeight-(d+m))+"px "+-u8(p)+"px",threshold:u6(0,u4(1,u))||1},y=!0;function x(e){let t=e[0].intersectionRatio;if(t!==u){if(!y)return o();t?o(!1,t):i=setTimeout(()=>{o(!1,1e-7)},100)}y=!1}try{r=new IntersectionObserver(x,{...v,root:a.ownerDocument})}catch(e){r=new IntersectionObserver(x,v)}r.observe(e)}(!0),s}(d,i):null,g=-1,b=null;l&&(b=new ResizeObserver(e=>{let[r]=e;r&&r.target===d&&b&&(b.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var e;null==(e=b)||e.observe(t)})),i()}),d&&!p&&b.observe(d),b.observe(t));let v=p?pA(e):null;return p&&function t(){let r=pA(e);v&&(r.x!==v.x||r.y!==v.y||r.width!==v.width||r.height!==v.height)&&i(),v=r,a=requestAnimationFrame(t)}(),i(),()=>{var e;f.forEach(e=>{s&&e.removeEventListener("scroll",i),o&&e.removeEventListener("resize",i)}),null==m||m(),null==(e=b)||e.disconnect(),b=null,p&&cancelAnimationFrame(a)}}(o,l,s);return()=>e()},[o,l,s]),{refs:i,x:r,y:a,domReference:o,floating:l,strategy:t}},SM=({ToggleButton:e,placement:t="top-start",strategy:i="absolute",children:r})=>{let[a,s]=(0,ee.useState)(!1),{floating:o,domReference:l,refs:u,x:p,y:d}=SU({placement:t,strategy:i});return(0,ee.useEffect)(()=>{let e=e=>{!o&&l?.contains(e.target)?s(!0):o&&!o?.contains(e.target)&&s(!1)},t=e=>{"escape"!==e.key.toLowerCase()||e.altKey||e.ctrlKey||s(!1)};return document?.addEventListener("click",e,{capture:!0}),document?.addEventListener("keydown",t),()=>{document?.removeEventListener("click",e,{capture:!0}),document?.removeEventListener("keydown",t)}},[o,l]),(0,Z.jsxs)(Z.Fragment,{children:[a&&(0,Z.jsx)("div",{className:"str-video__menu-container",ref:u.setFloating,style:{position:i,top:d??0,left:p??0,overflowY:"auto"},children:r}),(0,Z.jsx)(e,{menuShown:a,ref:u.setReference})]})},SF=({children:e})=>(0,Z.jsx)("ul",{className:"str-video__generic-menu",children:e}),S$=({children:e,...t})=>(0,Z.jsx)("li",{className:"str-video__generic-menu--item",children:(0,Z.jsx)("button",{...t,children:e})}),SB=({icon:e})=>(0,Z.jsx)("span",{className:u3("str-video__icon",e&&`str-video__icon--${e}`)}),Sq=(0,ee.forwardRef)((e,t)=>{let{icon:i,enabled:r,variant:a,onClick:s,className:o,...l}=e;return(0,Z.jsx)("button",{className:u3("str-video__call-controls__button",o,{[`str-video__call-controls__button--variant-${a}`]:a,"str-video__call-controls__button--enabled":r}),onClick:e=>{e.preventDefault(),s?.(e)},ref:t,...l,children:(0,Z.jsx)(SB,{icon:i})})}),SV=e=>{let{isVisible:t,message:i,children:r,visibilityTimeout:a,resetIsVisible:s,placement:o="top",iconClassName:l="str-video__notification__icon"}=e,{refs:u,x:p,y:d,strategy:f}=SU({placement:o,strategy:"absolute"});return(0,ee.useEffect)(()=>{if(!t||!a||!s)return;let e=setTimeout(()=>{s()},a);return()=>clearTimeout(e)},[t,s,a]),(0,Z.jsxs)("div",{ref:u.setReference,children:[t&&(0,Z.jsxs)("div",{className:"str-video__notification",ref:u.setFloating,style:{position:f,top:d??0,left:p??0,overflowY:"auto"},children:[l&&(0,Z.jsx)("i",{className:l}),(0,Z.jsx)("span",{className:"str-video__notification__message",children:i})]}),r]})},Sz={":like:":"\uD83D\uDC4D",":raise-hand:":"",":fireworks:":"\uD83C\uDF89",":dislike:":"\uD83D\uDC4E",":heart:":"",":smile:":"\uD83D\uDE00"},SW=({participant:{reaction:e,sessionId:t},hideAfterTimeoutInMs:i=5500,emojiReactionMap:r=Sz})=>{let a=uF();if((0,ee.useEffect)(()=>{if(!a||!e)return;let r=setTimeout(()=>{a.resetReaction(t)},i);return()=>{clearTimeout(r)}},[a,i,e,t]),!e)return null;let{emoji_code:s}=e;return(0,Z.jsx)("div",{className:"str-video__reaction",children:(0,Z.jsx)("span",{className:"str-video__reaction__emoji",children:s&&r[s]})})},SH=({participant:e,participantViewElement:t,videoElement:i})=>{let[r,a]=(0,ee.useState)(!!document.fullscreenElement),[s,o]=(0,ee.useState)(document.pictureInPictureElement),l=uF(),{t:u}=uK(),{pin:p,publishedTracks:d,sessionId:f,userId:m}=e,g=d.includes(si.TrackType.AUDIO),b=d.includes(si.TrackType.VIDEO),v=d.includes(si.TrackType.SCREEN_SHARE),y=d.includes(si.TrackType.SCREEN_SHARE_AUDIO),x=e=>()=>{l?.updateUserPermissions({user_id:m,grant_permissions:[e]})},w=e=>()=>{l?.updateUserPermissions({user_id:m,revoke_permissions:[e]})};return(0,ee.useEffect)(()=>{let e=()=>{a(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",e),()=>{document.removeEventListener("fullscreenchange",e)}},[]),(0,ee.useEffect)(()=>{if(!i)return;let e=()=>{o(document.pictureInPictureElement)};return i.addEventListener("enterpictureinpicture",e),i.addEventListener("leavepictureinpicture",e),()=>{i.removeEventListener("enterpictureinpicture",e),i.removeEventListener("leavepictureinpicture",e)}},[i]),(0,Z.jsxs)(SF,{children:[(0,Z.jsxs)(S$,{onClick:()=>{p?l?.unpin(f):l?.pin(f)},disabled:p&&!p.isLocalPin,children:[(0,Z.jsx)(SB,{icon:"pin"}),u(p?"Unpin":"Pin")]}),(0,Z.jsxs)(u2,{requiredGrants:[ak.PIN_FOR_EVERYONE],children:[(0,Z.jsxs)(S$,{onClick:()=>{l?.pinForEveryone({user_id:m,session_id:f}).catch(e=>{console.error(`Failed to pin participant ${m}`,e)})},disabled:p&&!p.isLocalPin,children:[(0,Z.jsx)(SB,{icon:"pin"}),u("Pin for everyone")]}),(0,Z.jsxs)(S$,{onClick:()=>{l?.unpinForEveryone({user_id:m,session_id:f}).catch(e=>{console.error(`Failed to unpin participant ${m}`,e)})},disabled:!p||p.isLocalPin,children:[(0,Z.jsx)(SB,{icon:"pin"}),u("Unpin for everyone")]})]}),(0,Z.jsx)(u2,{requiredGrants:[ak.BLOCK_USERS],children:(0,Z.jsxs)(S$,{onClick:()=>l?.blockUser(m),children:[(0,Z.jsx)(SB,{icon:"not-allowed"}),u("Block")]})}),(0,Z.jsxs)(u2,{requiredGrants:[ak.MUTE_USERS],children:[(0,Z.jsxs)(S$,{disabled:!b,onClick:()=>l?.muteUser(m,"video"),children:[(0,Z.jsx)(SB,{icon:"camera-off-outline"}),u("Turn off video")]}),(0,Z.jsxs)(S$,{disabled:!v,onClick:()=>l?.muteUser(m,"screenshare"),children:[(0,Z.jsx)(SB,{icon:"screen-share-off"}),u("Turn off screen share")]}),(0,Z.jsxs)(S$,{disabled:!g,onClick:()=>l?.muteUser(m,"audio"),children:[(0,Z.jsx)(SB,{icon:"no-audio"}),u("Mute audio")]}),(0,Z.jsxs)(S$,{disabled:!y,onClick:()=>l?.muteUser(m,"screenshare_audio"),children:[(0,Z.jsx)(SB,{icon:"no-audio"}),u("Mute screen share audio")]})]}),t&&(0,Z.jsx)(S$,{onClick:()=>{if(!r)return t?.requestFullscreen().then(()=>a(!0)).catch(console.error);document.exitFullscreen().catch(console.error).finally(()=>a(!1))},children:u("{{ direction }} fullscreen",{direction:u(r?"Leave":"Enter")})}),i&&document.pictureInPictureEnabled&&(0,Z.jsx)(S$,{onClick:()=>{if(i&&s!==i)return i.requestPictureInPicture().catch(console.error);document.exitPictureInPicture().catch(console.error)},children:u("{{ direction }} picture-in-picture",{direction:u(s===i?"Leave":"Enter")})}),(0,Z.jsxs)(u2,{requiredGrants:[ak.UPDATE_CALL_PERMISSIONS],children:[(0,Z.jsx)(S$,{onClick:x(ak.SEND_AUDIO),children:u("Allow audio")}),(0,Z.jsx)(S$,{onClick:x(ak.SEND_VIDEO),children:u("Allow video")}),(0,Z.jsx)(S$,{onClick:x(ak.SCREENSHARE),children:u("Allow screen sharing")}),(0,Z.jsx)(S$,{onClick:w(ak.SEND_AUDIO),children:u("Disable audio")}),(0,Z.jsx)(S$,{onClick:w(ak.SEND_VIDEO),children:u("Disable video")}),(0,Z.jsx)(S$,{onClick:w(ak.SCREENSHARE),children:u("Disable screen sharing")})]})]})};U.JOINING,U.RINGING,U.MIGRATING,U.RECONNECTING,U.RECONNECTING_FAILED,U.OFFLINE,U.IDLE,U.UNKNOWN,U.JOINED,U.LEFT;let SG=({as:e="div",className:t,children:i,...r})=>(0,Z.jsx)(e,{...r,className:u3("str-video",t),children:i}),SK=(0,ee.createContext)(void 0),SY=()=>(0,ee.useContext)(SK),SJ=(0,ee.forwardRef)((e,t)=>(0,Z.jsx)(Sq,{enabled:e.menuShown,icon:"ellipsis",ref:t})),SX=()=>{let e=uF(),{t}=uK();return(0,Z.jsxs)("div",{className:"str-video__screen-share-overlay",children:[(0,Z.jsx)(SB,{icon:"screen-share-off"}),(0,Z.jsx)("span",{className:"str-video__screen-share-overlay__title",children:t("You are presenting your screen")}),(0,Z.jsxs)("button",{onClick:()=>{e?.screenShare.disable()},className:"str-video__screen-share-overlay__button",children:[(0,Z.jsx)(SB,{icon:"close"})," ",t("Stop Screen Sharing")]})]})},SQ=({indicatorsVisible:e=!0,menuPlacement:t="bottom-end",showMenuButton:i=!0})=>{let{participant:r,participantViewElement:a,trackType:s,videoElement:o}=SY(),{publishedTracks:l}=r,u=l.includes(si.TrackType.SCREEN_SHARE);return r.isLocalParticipant&&u&&"screenShareTrack"===s?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(SX,{}),(0,Z.jsx)(SZ,{indicatorsVisible:e})]}):(0,Z.jsxs)(Z.Fragment,{children:[i&&(0,Z.jsx)(SM,{strategy:"fixed",placement:t,ToggleButton:SJ,children:(0,Z.jsx)(SH,{participantViewElement:a,participant:r,videoElement:o})}),(0,Z.jsx)(SW,{participant:r}),(0,Z.jsx)(SZ,{indicatorsVisible:e})]})},SZ=({indicatorsVisible:e=!0})=>{let{participant:t}=SY(),{isDominantSpeaker:i,isLocalParticipant:r,connectionQuality:a,publishedTracks:s,pin:o,sessionId:l,name:u,userId:p}=t,d=uF(),{t:f}=uK(),m=!!a&&si.ConnectionQuality[a].toLowerCase(),g=s.includes(si.TrackType.AUDIO),b=s.includes(si.TrackType.VIDEO),v=!!o&&o.isLocalPin;return(0,Z.jsx)("div",{className:"str-video__participant-details",children:(0,Z.jsxs)("span",{className:"str-video__participant-details__name",children:[u||p,e&&i&&(0,Z.jsx)("span",{className:"str-video__participant-details__name--dominant_speaker",title:f("Dominant speaker")}),e&&(0,Z.jsx)(SV,{isVisible:r&&a===si.ConnectionQuality.POOR,message:f("Poor connection quality"),children:m&&(0,Z.jsx)("span",{className:u3("str-video__participant-details__connection-quality",`str-video__participant-details__connection-quality--${m}`),title:m})}),e&&!g&&(0,Z.jsx)("span",{className:"str-video__participant-details__name--audio-muted"}),e&&!b&&(0,Z.jsx)("span",{className:"str-video__participant-details__name--video-muted"}),e&&v&&(0,Z.jsx)("span",{title:f("Unpin"),onClick:()=>d?.unpin(l),style:{cursor:"pointer"},className:"str-video__participant-details__name--pinned"})]})})},S0=(0,ee.forwardRef)(({participant:e,trackType:t="videoTrack",muteAudio:i,refs:{setVideoElement:r,setVideoPlaceholderElement:a}={},className:s,VideoPlaceholder:o,ParticipantViewUI:l=SQ},u)=>{let{isLocalParticipant:p,isSpeaking:d,isDominantSpeaker:f,publishedTracks:m,sessionId:g}=e,b=m.includes(si.TrackType.AUDIO),v=m.includes(si.TrackType.VIDEO),y=m.includes(si.TrackType.SCREEN_SHARE_AUDIO),[x,w]=(0,ee.useState)(null),[k,_]=(0,ee.useState)(null),[S,T]=(0,ee.useState)(null);SL({sessionId:g,trackedElement:x,trackType:t});let C=(0,ee.useMemo)(()=>({participant:e,participantViewElement:x,videoElement:k,videoPlaceholderElement:S,trackType:t}),[k,S,e,x,t]),E=(0,ee.useMemo)(()=>({setVideoElement:e=>{r?.(e),_(e)},setVideoPlaceholderElement:e=>{a?.(e),T(e)}}),[r,a]);return(0,Z.jsx)("div",{"data-testid":"participant-view",ref:e=>{SN(u,e),w(e)},className:u3("str-video__participant-view",f&&"str-video__participant-view--dominant-speaker",d&&"str-video__participant-view--speaking",!v&&"str-video__participant-view--no-video",!b&&"str-video__participant-view--no-audio",s),children:(0,Z.jsxs)(SK.Provider,{value:C,children:[!p&&!i&&(0,Z.jsxs)(Z.Fragment,{children:[b&&(0,Z.jsx)(SO,{participant:e,trackType:"audioTrack"}),y&&(0,Z.jsx)(SO,{participant:e,trackType:"screenShareAudioTrack"})]}),(0,Z.jsx)(SD,{VideoPlaceholder:o,participant:e,trackType:t,refs:E,autoPlay:!0}),SP(l)?(0,Z.jsx)(l,{}):l]})})}),S1=e=>{let{call:t,children:i}=e;return(0,Z.jsx)(uM.Provider,{value:t,children:i})},S2={en:{Joining:"Joining",Mic:"Mic","No internet connection":"No internet connection","Re-connecting":"Re-connecting",Ringing:"Ringing","Screen Share":"Screen Share","Select a Camera":"Select a Camera","Select a Mic":"Select a Mic","Select Speakers":"Select Speakers",Speakers:"Speakers",Video:"Video","You are muted. Unmute to speak.":"You are muted. Unmute to speak.",Live:"Live","You can now speak.":"You can now speak.","Awaiting for an approval to speak.":"Awaiting for an approval to speak.","You can no longer speak.":"You can no longer speak.","You can now share your video.":"You can now share your video.","Awaiting for an approval to share your video.":"Awaiting for an approval to share your video.","You can no longer share your video.":"You can no longer share your video.","Waiting for recording to stop...":"Waiting for recording to stop...","Waiting for recording to start...":"Waiting for recording to start...","Record call":"Record call",Reactions:"Reactions","You can now share your screen.":"You can now share your screen.","Awaiting for an approval to share screen.":"Awaiting for an approval to share screen.","You can no longer share your screen.":"You can no longer share your screen.","Share screen":"Share screen","Incoming Call...":"Incoming Call...","Calling...":"Calling...","Mute All":"Mute All",Invite:"Invite",Join:"Join",You:"You",Me:"Me",Unknown:"Unknown","Toggle device menu":"Toggle device menu","You are presenting your screen":"You are presenting your screen","Stop Screen Sharing":"Stop Screen Sharing",Allow:"Allow",Revoke:"Revoke",Dismiss:"Dismiss","Microphone on":"Microphone on","Microphone off":"Microphone off","Camera on":"Camera on","Camera off":"Camera off","No camera found":"No camera found","Video is disabled":"Video is disabled",Pinned:"Pinned",Unpin:"Unpin",Pin:"Pin","Pin for everyone":"Pin for everyone","Unpin for everyone":"Unpin for everyone",Block:"Block","Turn off video":"Turn off video","Turn off screen share":"Turn off screen share","Mute audio":"Mute audio","Mute screen share audio":"Mute screen share audio","Allow audio":"Allow audio","Allow video":"Allow video","Allow screen sharing":"Allow screen sharing","Disable audio":"Disable audio","Disable video":"Disable video","Disable screen sharing":"Disable screen sharing",Enter:"Enter",Leave:"Leave","{{ direction }} fullscreen":"{{ direction }} fullscreen","{{ direction }} picture-in-picture":"{{ direction }} picture-in-picture","Dominant Speaker":"Dominant Speaker","Poor connection quality":"Poor connection quality. Please check your internet connection.",Participants:"Participants",Anonymous:", and ({{ count }}) anonymous","No participants found":"No participants found","Participants ({{ numberOfParticipants }})":"Participants ({{ numberOfParticipants }})","{{ userName }} is sharing their screen":"{{ userName }} is sharing their screen","{{ userName }} is requesting to speak":"{{ userName }} is requesting to speak","{{ userName }} is requesting to share their camera":"{{ userName }} is requesting to share their camera","{{ userName }} is requesting to present their screen":"{{ userName }} is requesting to present their screen","{{ userName }} is requesting permission: {{ permission }}":"{{ userName }} is requesting permission: {{ permission }}"}},S3=e=>(0,Z.jsx)(uJ,{translationsOverrides:S2,...e}),[S4,S6,S5]="0.4.24".split(".");s={type:si.SdkType.REACT,major:S4,minor:S6,patch:S5};let S8=()=>(0,Z.jsxs)("svg",{className:"animate-spin h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[Z.jsx("circle",{className:"opacity-25",cx:12,cy:12,r:10,stroke:"currentColor",strokeWidth:4}),Z.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),S7=e=>{let{children:t,userData:i,callId:r}=e,[a,s]=(0,ee.useState)(null),[o,l]=(0,ee.useState)(null),u=async()=>{try{let{token:e}=await (0,ei.Jx)(i?.id),t={id:i?.id,name:i?.user_metadata?.userName,image:`https://getstream.io/random_svg/?id=${i?.user_metadata?.userName}&name=${i?.user_metadata?.userName}`},a=new l8({apiKey:"cvjb9mxeqrhj",user:t,token:e});s(a);let o=a.call("development",r);o.join({create:!0}),l(o)}catch(e){console.log(e)}};return((0,ee.useEffect)(()=>{i&&u()},[i]),a&&o)?Z.jsx(S3,{client:a,children:Z.jsx(S1,{call:o,children:t})}):Z.jsx("div",{className:"mt-2 h-32 flex justify-center items-center",children:Z.jsx(S8,{})})},S9=()=>Z.jsx("div",{className:"absolute inset-0 bg-slate-700 z-[1] text-center text-slate-300 flex items-center justify-center",children:Z.jsx(S8,{})}),Te=e=>{let{participant:t}=e;return Z.jsx("div",{className:"relative h-32 w-32 xl:w-full",children:Z.jsx(S0,{participant:t,VideoPlaceholder:S9})})},Tt=({participant:e})=>(0,Z.jsxs)("div",{className:"absolute inset-0 bg-slate-700 z-[1] text-center text-slate-300 flex items-center justify-center",children:[(0,Z.jsxs)("div",{className:"hidden xl:flex items-center justify-center",children:[Z.jsx("span",{className:"capitalize",children:e.name}),Z.jsx("p",{className:"lowercase ml-1",children:" is joining"})]}),Z.jsx("div",{className:"xl:hidden",children:Z.jsx(S8,{})})]}),Ti=e=>{let{participants:t}=e;return Z.jsx("div",{className:"relative h-32 w-32 xl:w-full",children:t.map(e=>Z.jsx(S0,{participant:e,VideoPlaceholder:Tt},e.sessionId))})},Tn=e=>{let{useCallCallingState:t,useParticipantCount:i,useLocalParticipant:r,useRemoteParticipants:a}=u1(),s=t(),o=r(),l=a(),u=i();return((0,ee.useEffect)(()=>{e.setParticipantCount(u)},[u,e]),s!==U.JOINED)?Z.jsx("div",{className:"mt-2 h-32 w-full flex justify-center items-center",children:Z.jsx(S8,{})}):Z.jsx(SG,{children:(0,Z.jsxs)("div",{className:"grid grid-cols-2 xl:grid-cols-1 gap-10 xl:gap-4 text-white capitalize",children:[Z.jsx(Te,{participant:o}),Z.jsx(Ti,{participants:l})]})})},Tr=()=>{let{roomId:e}=(0,en.useParams)(),[t,i]=(0,ee.useState)(null),[r,a]=(0,ee.useState)([]),[s,o]=(0,ee.useState)({}),[l,u]=(0,ee.useState)(),[p,d]=(0,ee.useState)(!0),[f,m]=(0,ee.useState)(0);return(0,ee.useEffect)(()=>{(0,ei.cw)().then(t=>{u(t),o(t?.user),(0,er.rc)(e).then(e=>{if(!(e[0].isPublic||e[0].owner===t?.user?.id))return window.location.href="/";a(e[0]),d(!1),(0,ei.Mi)(e[0].owner).then(e=>{"user"in e?i(e.user):console.log(e)})})})},[]),(0,Z.jsxs)("main",{children:[Z.jsx(ea.Z,{session:l,owner:t,room:r,isRoom:!0,isLoadingRoom:p,participantCount:f}),Z.jsx("div",{className:"relative w-full h-full",style:{background:"linear-gradient(45deg, #03A9F4, #4CAF50)"},children:p?Z.jsx("div",{className:"flex justify-center items-center h-screen text-white",children:Z.jsx("p",{children:"One moment. Please..."})}):(0,Z.jsxs)("div",{className:"w-full flex flex-col-reverse xl:flex-row",children:[Z.jsx(ep,{room:r}),Z.jsx("section",{className:"min-w-[15rem] max-w-[15rem] xl:min-h-0 relative mx-auto flex items-center xl:flex-col gap-3 text-white",children:Z.jsx(S7,{userData:s,callId:r?.id,children:Z.jsx(Tn,{setParticipantCount:m})})})]})})]})}},85067:(e,t,i)=>{"use strict";i.d(t,{Dv:()=>u,f6:()=>s,fz:()=>o,rc:()=>l});var r=i(76329);let a="drawing-rooms",s=async(e,t,i)=>{let{data:s,error:o}=await r.O.from(a).insert({name:e,owner:t,isPublic:i,isPasswordProtected:!1,password:null,created_at:new Date().toISOString()}).select();return o||s},o=async e=>{let{data:t}=await r.O.from(a).select().eq("owner",e).order("created_at",{ascending:!1});return t},l=async e=>{let{data:t,error:i}=await r.O.from(a).select().eq("id",e);return i||t},u=async(e,t)=>{await r.O.from(a).update({drawing:t}).eq("id",e).select()}},62218:(e,t,i)=>{"use strict";i.d(t,{Jx:()=>o,Mi:()=>s,cw:()=>a});var r=i(76329);let a=async()=>{let{data:e,error:t}=await r.O.auth.getSession();return e.session},s=async e=>{let{data:t}=await r.c.getUserById(e);return t},o=async e=>{let t=await fetch("/api/generate-user-video-instance",{method:"POST",body:JSON.stringify({userId:e})});return await t.json()}},54656:(e,t,i)=>{"use strict";e.exports={parallel:i(23480),serial:i(47186),serialOrdered:i(74345)}},49105:e=>{"use strict";function t(e){"function"==typeof this.jobs[e]&&this.jobs[e]()}e.exports=function(e){Object.keys(e.jobs).forEach(t.bind(e)),e.jobs={}}},66779:(e,t,i)=>{"use strict";var r=i(94788);e.exports=function(e){var t=!1;return r(function(){t=!0}),function(i,a){t?e(i,a):r(function(){e(i,a)})}}},94788:e=>{"use strict";e.exports=function(e){var t="function"==typeof setImmediate?setImmediate:"object"==typeof process&&"function"==typeof process.nextTick?process.nextTick:null;t?t(e):setTimeout(e,0)}},93354:(e,t,i)=>{"use strict";var r=i(66779),a=i(49105);e.exports=function(e,t,i,s){var o,l,u=i.keyedList?i.keyedList[i.index]:i.index;i.jobs[u]=(o=e[u],l=function(e,t){u in i.jobs&&(delete i.jobs[u],e?a(i):i.results[u]=t,s(e,i.results))},2==t.length?t(o,r(l)):t(o,u,r(l)))}},19780:e=>{"use strict";e.exports=function(e,t){var i=!Array.isArray(e),r={index:0,keyedList:i||t?Object.keys(e):null,jobs:{},results:i?{}:[],size:i?Object.keys(e).length:e.length};return t&&r.keyedList.sort(i?t:function(i,r){return t(e[i],e[r])}),r}},136:(e,t,i)=>{"use strict";var r=i(49105),a=i(66779);e.exports=function(e){Object.keys(this.jobs).length&&(this.index=this.size,r(this),a(e)(null,this.results))}},23480:(e,t,i)=>{"use strict";var r=i(93354),a=i(19780),s=i(136);e.exports=function(e,t,i){for(var o=a(e);o.index<(o.keyedList||e).length;)r(e,t,o,function(e,t){if(e){i(e,t);return}if(0===Object.keys(o.jobs).length){i(null,o.results);return}}),o.index++;return s.bind(o,i)}},47186:(e,t,i)=>{"use strict";var r=i(74345);e.exports=function(e,t,i){return r(e,t,null,i)}},74345:(e,t,i)=>{"use strict";var r=i(93354),a=i(19780),s=i(136);function o(e,t){return e<t?-1:e>t?1:0}e.exports=function(e,t,i,o){var l=a(e,i);return r(e,t,l,function i(a,s){if(a){o(a,s);return}if(l.index++,l.index<(l.keyedList||e).length){r(e,t,l,i);return}o(null,l.results)}),s.bind(l,o)},e.exports.ascending=o,e.exports.descending=function(e,t){return -1*o(e,t)}},76655:(e,t)=>{"use strict";t.JQ=function(e){for(var t,r=e.length,a=r%3,s=[],o=0,l=r-a;o<l;o+=16383)s.push(function(e,t,r){for(var a,s=[],o=t;o<r;o+=3)s.push(i[(a=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]))>>18&63]+i[a>>12&63]+i[a>>6&63]+i[63&a]);return s.join("")}(e,o,o+16383>l?l:o+16383));return 1===a?s.push(i[(t=e[r-1])>>2]+i[t<<4&63]+"=="):2===a&&s.push(i[(t=(e[r-2]<<8)+e[r-1])>>10]+i[t>>4&63]+i[t<<2&63]+"="),s.join("")};for(var i=[],r=[],a=("undefined"!=typeof Uint8Array&&Uint8Array,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),s=0,o=a.length;s<o;++s)i[s]=a[s],r[a.charCodeAt(s)]=s;r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},71364:(e,t,i)=>{"use strict";var r=i(14300).Buffer,a=i(14300).SlowBuffer;function s(e,t){if(!r.isBuffer(e)||!r.isBuffer(t)||e.length!==t.length)return!1;for(var i=0,a=0;a<e.length;a++)i|=e[a]^t[a];return 0===i}e.exports=s,s.install=function(){r.prototype.equal=a.prototype.equal=function(e){return s(this,e)}};var o=r.prototype.equal,l=a.prototype.equal;s.restore=function(){r.prototype.equal=o,a.prototype.equal=l}},11252:(e,t,i)=>{"use strict";var r=i(73837),a=i(12781).Stream,s=i(890);function o(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2097152,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}e.exports=o,r.inherits(o,a),o.create=function(e){var t=new this;for(var i in e=e||{})t[i]=e[i];return t},o.isStreamLike=function(e){return"function"!=typeof e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e&&!Buffer.isBuffer(e)},o.prototype.append=function(e){if(o.isStreamLike(e)){if(!(e instanceof s)){var t=s.create(e,{maxDataSize:1/0,pauseStream:this.pauseStreams});e.on("data",this._checkDataSize.bind(this)),e=t}this._handleErrors(e),this.pauseStreams&&e.pause()}return this._streams.push(e),this},o.prototype.pipe=function(e,t){return a.prototype.pipe.call(this,e,t),this.resume(),e},o.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop){this._pendingNext=!0;return}this._insideLoop=!0;try{do this._pendingNext=!1,this._realGetNext();while(this._pendingNext)}finally{this._insideLoop=!1}},o.prototype._realGetNext=function(){var e=this._streams.shift();if(void 0===e){this.end();return}if("function"!=typeof e){this._pipeNext(e);return}e((function(e){o.isStreamLike(e)&&(e.on("data",this._checkDataSize.bind(this)),this._handleErrors(e)),this._pipeNext(e)}).bind(this))},o.prototype._pipeNext=function(e){if(this._currentStream=e,o.isStreamLike(e)){e.on("end",this._getNext.bind(this)),e.pipe(this,{end:!1});return}this.write(e),this._getNext()},o.prototype._handleErrors=function(e){var t=this;e.on("error",function(e){t._emitError(e)})},o.prototype.write=function(e){this.emit("data",e)},o.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.pause&&this._currentStream.pause(),this.emit("pause"))},o.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.resume&&this._currentStream.resume(),this.emit("resume")},o.prototype.end=function(){this._reset(),this.emit("end")},o.prototype.destroy=function(){this._reset(),this.emit("close")},o.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null},o.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(Error(e))}},o.prototype._updateDataSize=function(){this.dataSize=0;var e=this;this._streams.forEach(function(t){t.dataSize&&(e.dataSize+=t.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)},o.prototype._emitError=function(e){this._reset(),this.emit("error",e)}},890:(e,t,i)=>{"use strict";var r=i(12781).Stream,a=i(73837);function s(){this.source=null,this.dataSize=0,this.maxDataSize=1048576,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}e.exports=s,a.inherits(s,r),s.create=function(e,t){var i=new this;for(var r in t=t||{})i[r]=t[r];i.source=e;var a=e.emit;return e.emit=function(){return i._handleEmit(arguments),a.apply(e,arguments)},e.on("error",function(){}),i.pauseStream&&e.pause(),i},Object.defineProperty(s.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}}),s.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)},s.prototype.resume=function(){this._released||this.release(),this.source.resume()},s.prototype.pause=function(){this.source.pause()},s.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach((function(e){this.emit.apply(this,e)}).bind(this)),this._bufferedEvents=[]},s.prototype.pipe=function(){var e=r.prototype.pipe.apply(this,arguments);return this.resume(),e},s.prototype._handleEmit=function(e){if(this._released){this.emit.apply(this,e);return}"data"===e[0]&&(this.dataSize+=e[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(e)},s.prototype._checkIfMaxDataSizeExceeded=function(){if(!this._maxDataSizeExceeded&&!(this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",Error(e))}}},99810:(e,t,i)=>{"use strict";var r=i(5299).Buffer,a=i(69754);function s(e){if(r.isBuffer(e))return e;if("string"==typeof e)return r.from(e,"base64");throw TypeError("ECDSA signature must be a Base64 string or a Buffer")}function o(e,t,i){for(var r=0;t+r<i&&0===e[t+r];)++r;return e[t+r]>=128&&--r,r}e.exports={derToJose:function(e,t){e=s(e);var i=a(t),o=i+1,l=e.length,u=0;if(48!==e[u++])throw Error('Could not find expected "seq"');var p=e[u++];if(129===p&&(p=e[u++]),l-u<p)throw Error('"seq" specified length of "'+p+'", only "'+(l-u)+'" remaining');if(2!==e[u++])throw Error('Could not find expected "int" for "r"');var d=e[u++];if(l-u-2<d)throw Error('"r" specified length of "'+d+'", only "'+(l-u-2)+'" available');if(o<d)throw Error('"r" specified length of "'+d+'", max of "'+o+'" is acceptable');var f=u;if(u+=d,2!==e[u++])throw Error('Could not find expected "int" for "s"');var m=e[u++];if(l-u!==m)throw Error('"s" specified length of "'+m+'", expected "'+(l-u)+'"');if(o<m)throw Error('"s" specified length of "'+m+'", max of "'+o+'" is acceptable');var g=u;if((u+=m)!==l)throw Error('Expected to consume entire buffer, but "'+(l-u)+'" bytes remain');var b=i-d,v=i-m,y=r.allocUnsafe(b+d+v+m);for(u=0;u<b;++u)y[u]=0;e.copy(y,u,f+Math.max(-b,0),f+d),u=i;for(var x=u;u<x+v;++u)y[u]=0;return e.copy(y,u,g+Math.max(-v,0),g+m),y=(y=y.toString("base64")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},joseToDer:function(e,t){e=s(e);var i=a(t),l=e.length;if(l!==2*i)throw TypeError('"'+t+'" signatures must be "'+2*i+'" bytes, saw "'+l+'"');var u=o(e,0,i),p=o(e,i,e.length),d=i-u,f=i-p,m=2+d+1+1+f,g=m<128,b=r.allocUnsafe((g?2:3)+m),v=0;return b[v++]=48,g?b[v++]=m:(b[v++]=129,b[v++]=255&m),b[v++]=2,b[v++]=d,u<0?(b[v++]=0,v+=e.copy(b,v,0,i)):v+=e.copy(b,v,u,i),b[v++]=2,b[v++]=f,p<0?(b[v++]=0,e.copy(b,v,i)):e.copy(b,v,i+p),b}}},69754:e=>{"use strict";function t(e){return(e/8|0)+(e%8==0?0:1)}var i={ES256:t(256),ES384:t(384),ES512:t(521)};e.exports=function(e){var t=i[e];if(t)return t;throw Error('Unknown algorithm "'+e+'"')}},82920:(e,t,i)=>{"use strict";var r;e.exports=function(){if(!r){try{r=i(11825)("follow-redirects")}catch(e){}"function"!=typeof r&&(r=function(){})}r.apply(null,arguments)}},42136:(e,t,i)=>{"use strict";var r=i(57310),a=r.URL,s=i(13685),o=i(95687),l=i(12781).Writable,u=i(39491),p=i(82920),d=!1;try{u(new a)}catch(e){d="ERR_INVALID_URL"===e.code}var f=["auth","host","hostname","href","path","pathname","port","protocol","query","search","hash"],m=["abort","aborted","connect","error","socket","timeout"],g=Object.create(null);m.forEach(function(e){g[e]=function(t,i,r){this._redirectable.emit(e,t,i,r)}});var b=I("ERR_INVALID_URL","Invalid URL",TypeError),v=I("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),y=I("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded",v),x=I("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),w=I("ERR_STREAM_WRITE_AFTER_END","write after end"),k=l.prototype.destroy||T;function _(e,t){l.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var i=this;this._onNativeResponse=function(e){try{i._processResponse(e)}catch(e){i.emit("error",e instanceof v?e:new v({cause:e}))}},this._performRequest()}function S(e){var t={maxRedirects:21,maxBodyLength:10485760},i={};return Object.keys(e).forEach(function(r){var s=r+":",o=i[s]=e[r],l=t[r]=Object.create(o);Object.defineProperties(l,{request:{value:function(e,r,o){var l;return(l=e,a&&l instanceof a)?e=R(e):P(e)?e=R(C(e)):(o=r,r=E(e),e={protocol:s}),N(r)&&(o=r,r=null),(r=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},e,r)).nativeProtocols=i,P(r.host)||P(r.hostname)||(r.hostname="::1"),u.equal(r.protocol,s,"protocol mismatch"),p("options",r),new _(r,o)},configurable:!0,enumerable:!0,writable:!0},get:{value:function(e,t,i){var r=l.request(e,t,i);return r.end(),r},configurable:!0,enumerable:!0,writable:!0}})}),t}function T(){}function C(e){var t;if(d)t=new a(e);else if(!P((t=E(r.parse(e))).protocol))throw new b({input:e});return t}function E(e){if(/^\[/.test(e.hostname)&&!/^\[[:0-9a-f]+\]$/i.test(e.hostname)||/^\[/.test(e.host)&&!/^\[[:0-9a-f]+\](:\d+)?$/i.test(e.host))throw new b({input:e.href||e});return e}function R(e,t){var i=t||{};for(var r of f)i[r]=e[r];return i.hostname.startsWith("[")&&(i.hostname=i.hostname.slice(1,-1)),""!==i.port&&(i.port=Number(i.port)),i.path=i.search?i.pathname+i.search:i.pathname,i}function j(e,t){var i;for(var r in t)e.test(r)&&(i=t[r],delete t[r]);return null==i?void 0:String(i).trim()}function I(e,t,i){function r(i){Error.captureStackTrace(this,this.constructor),Object.assign(this,i||{}),this.code=e,this.message=this.cause?t+": "+this.cause.message:t}return r.prototype=new(i||Error),Object.defineProperties(r.prototype,{constructor:{value:r,enumerable:!1},name:{value:"Error ["+e+"]",enumerable:!1}}),r}function O(e,t){for(var i of m)e.removeListener(i,g[i]);e.on("error",T),e.destroy(t)}function P(e){return"string"==typeof e||e instanceof String}function N(e){return"function"==typeof e}_.prototype=Object.create(l.prototype),_.prototype.abort=function(){O(this._currentRequest),this._currentRequest.abort(),this.emit("abort")},_.prototype.destroy=function(e){return O(this._currentRequest,e),k.call(this,e),this},_.prototype.write=function(e,t,i){if(this._ending)throw new w;if(!P(e)&&!("object"==typeof e&&"length"in e))throw TypeError("data should be a string, Buffer or Uint8Array");if(N(t)&&(i=t,t=null),0===e.length){i&&i();return}this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,i)):(this.emit("error",new x),this.abort())},_.prototype.end=function(e,t,i){if(N(e)?(i=e,e=t=null):N(t)&&(i=t,t=null),e){var r=this,a=this._currentRequest;this.write(e,t,function(){r._ended=!0,a.end(null,null,i)}),this._ending=!0}else this._ended=this._ending=!0,this._currentRequest.end(null,null,i)},_.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)},_.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)},_.prototype.setTimeout=function(e,t){var i=this;function r(t){t.setTimeout(e),t.removeListener("timeout",t.destroy),t.addListener("timeout",t.destroy)}function a(t){i._timeout&&clearTimeout(i._timeout),i._timeout=setTimeout(function(){i.emit("timeout"),s()},e),r(t)}function s(){i._timeout&&(clearTimeout(i._timeout),i._timeout=null),i.removeListener("abort",s),i.removeListener("error",s),i.removeListener("response",s),i.removeListener("close",s),t&&i.removeListener("timeout",t),i.socket||i._currentRequest.removeListener("socket",a)}return t&&this.on("timeout",t),this.socket?a(this.socket):this._currentRequest.once("socket",a),this.on("socket",r),this.on("abort",s),this.on("error",s),this.on("response",s),this.on("close",s),this},["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(e){_.prototype[e]=function(t,i){return this._currentRequest[e](t,i)}}),["aborted","connection","socket"].forEach(function(e){Object.defineProperty(_.prototype,e,{get:function(){return this._currentRequest[e]}})}),_.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}},_.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(!t)throw TypeError("Unsupported protocol "+e);if(this._options.agents){var i=e.slice(0,-1);this._options.agent=this._options.agents[i]}var a=this._currentRequest=t.request(this._options,this._onNativeResponse);for(var s of(a._redirectable=this,m))a.on(s,g[s]);if(this._currentUrl=/^\//.test(this._options.path)?r.format(this._options):this._options.path,this._isRedirect){var o=0,l=this,u=this._requestBodyBuffers;!function e(t){if(a===l._currentRequest){if(t)l.emit("error",t);else if(o<u.length){var i=u[o++];a.finished||a.write(i.data,i.encoding,e)}else l._ended&&a.end()}}()}},_.prototype._processResponse=function(e){var t,i,s,o=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:o});var l=e.headers.location;if(!l||!1===this._options.followRedirects||o<300||o>=400){e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),this._requestBodyBuffers=[];return}if(O(this._currentRequest),e.destroy(),++this._redirectCount>this._options.maxRedirects)throw new y;var f=this._options.beforeRedirect;f&&(s=Object.assign({Host:e.req.getHeader("host")},this._options.headers));var m=this._options.method;(301!==o&&302!==o||"POST"!==this._options.method)&&(303!==o||/^(?:GET|HEAD)$/.test(this._options.method))||(this._options.method="GET",this._requestBodyBuffers=[],j(/^content-/i,this._options.headers));var g=j(/^host$/i,this._options.headers),b=C(this._currentUrl),v=g||b.host,x=/^\w+:/.test(l)?this._currentUrl:r.format(Object.assign(b,{host:v})),w=d?new a(l,x):C(r.resolve(x,l));if(p("redirecting to",w.href),this._isRedirect=!0,R(w,this._options),(w.protocol===b.protocol||"https:"===w.protocol)&&(w.host===v||(u(P(t=w.host)&&P(v)),(i=t.length-v.length-1)>0&&"."===t[i]&&t.endsWith(v)))||j(/^(?:authorization|cookie)$/i,this._options.headers),N(f)){var k={headers:e.headers,statusCode:o},_={url:x,method:m,headers:s};f(this._options,k,_),this._sanitizeOptions(this._options)}this._performRequest()},e.exports=S({http:s,https:o}),e.exports.wrap=S},20102:(e,t,i)=>{"use strict";var r=i(11252),a=i(73837),s=i(71017),o=i(13685),l=i(95687),u=i(57310).parse,p=i(57147),d=i(12781).Stream,f=i(63830),m=i(54656),g=i(33789);function b(e){if(!(this instanceof b))return new b(e);for(var t in this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],r.call(this),e=e||{})this[t]=e[t]}e.exports=b,a.inherits(b,r),b.LINE_BREAK="\r\n",b.DEFAULT_CONTENT_TYPE="application/octet-stream",b.prototype.append=function(e,t,i){"string"==typeof(i=i||{})&&(i={filename:i});var s=r.prototype.append.bind(this);if("number"==typeof t&&(t=""+t),a.isArray(t)){this._error(Error("Arrays are not supported."));return}var o=this._multiPartHeader(e,t,i),l=this._multiPartFooter();s(o),s(t),s(l),this._trackLength(o,t,i)},b.prototype._trackLength=function(e,t,i){var r=0;null!=i.knownLength?r+=+i.knownLength:Buffer.isBuffer(t)?r=t.length:"string"==typeof t&&(r=Buffer.byteLength(t)),this._valueLength+=r,this._overheadLength+=Buffer.byteLength(e)+b.LINE_BREAK.length,t&&(t.path||t.readable&&t.hasOwnProperty("httpVersion")||t instanceof d)&&(i.knownLength||this._valuesToMeasure.push(t))},b.prototype._lengthRetriever=function(e,t){e.hasOwnProperty("fd")?void 0!=e.end&&e.end!=1/0&&void 0!=e.start?t(null,e.end+1-(e.start?e.start:0)):p.stat(e.path,function(i,r){if(i){t(i);return}t(null,r.size-(e.start?e.start:0))}):e.hasOwnProperty("httpVersion")?t(null,+e.headers["content-length"]):e.hasOwnProperty("httpModule")?(e.on("response",function(i){e.pause(),t(null,+i.headers["content-length"])}),e.resume()):t("Unknown stream")},b.prototype._multiPartHeader=function(e,t,i){if("string"==typeof i.header)return i.header;var r,a=this._getContentDisposition(t,i),s=this._getContentType(t,i),o="",l={"Content-Disposition":["form-data",'name="'+e+'"'].concat(a||[]),"Content-Type":[].concat(s||[])};for(var u in"object"==typeof i.header&&g(l,i.header),l)if(l.hasOwnProperty(u)){if(null==(r=l[u]))continue;Array.isArray(r)||(r=[r]),r.length&&(o+=u+": "+r.join("; ")+b.LINE_BREAK)}return"--"+this.getBoundary()+b.LINE_BREAK+o+b.LINE_BREAK},b.prototype._getContentDisposition=function(e,t){var i,r;return"string"==typeof t.filepath?i=s.normalize(t.filepath).replace(/\\/g,"/"):t.filename||e.name||e.path?i=s.basename(t.filename||e.name||e.path):e.readable&&e.hasOwnProperty("httpVersion")&&(i=s.basename(e.client._httpMessage.path||"")),i&&(r='filename="'+i+'"'),r},b.prototype._getContentType=function(e,t){var i=t.contentType;return!i&&e.name&&(i=f.lookup(e.name)),!i&&e.path&&(i=f.lookup(e.path)),!i&&e.readable&&e.hasOwnProperty("httpVersion")&&(i=e.headers["content-type"]),!i&&(t.filepath||t.filename)&&(i=f.lookup(t.filepath||t.filename)),i||"object"!=typeof e||(i=b.DEFAULT_CONTENT_TYPE),i},b.prototype._multiPartFooter=function(){return(function(e){var t=b.LINE_BREAK;0===this._streams.length&&(t+=this._lastBoundary()),e(t)}).bind(this)},b.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+b.LINE_BREAK},b.prototype.getHeaders=function(e){var t,i={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(t in e)e.hasOwnProperty(t)&&(i[t.toLowerCase()]=e[t]);return i},b.prototype.setBoundary=function(e){this._boundary=e},b.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary},b.prototype.getBuffer=function(){for(var e=new Buffer.alloc(0),t=this.getBoundary(),i=0,r=this._streams.length;i<r;i++)"function"!=typeof this._streams[i]&&(e=Buffer.isBuffer(this._streams[i])?Buffer.concat([e,this._streams[i]]):Buffer.concat([e,Buffer.from(this._streams[i])]),("string"!=typeof this._streams[i]||this._streams[i].substring(2,t.length+2)!==t)&&(e=Buffer.concat([e,Buffer.from(b.LINE_BREAK)])));return Buffer.concat([e,Buffer.from(this._lastBoundary())])},b.prototype._generateBoundary=function(){for(var e="--------------------------",t=0;t<24;t++)e+=Math.floor(10*Math.random()).toString(16);this._boundary=e},b.prototype.getLengthSync=function(){var e=this._overheadLength+this._valueLength;return this._streams.length&&(e+=this._lastBoundary().length),this.hasKnownLength()||this._error(Error("Cannot calculate proper length in synchronous way.")),e},b.prototype.hasKnownLength=function(){var e=!0;return this._valuesToMeasure.length&&(e=!1),e},b.prototype.getLength=function(e){var t=this._overheadLength+this._valueLength;if(this._streams.length&&(t+=this._lastBoundary().length),!this._valuesToMeasure.length){process.nextTick(e.bind(this,null,t));return}m.parallel(this._valuesToMeasure,this._lengthRetriever,function(i,r){if(i){e(i);return}r.forEach(function(e){t+=e}),e(null,t)})},b.prototype.submit=function(e,t){var i,r,a={method:"post"};return"string"==typeof e?r=g({port:(e=u(e)).port,path:e.pathname,host:e.hostname,protocol:e.protocol},a):(r=g(e,a)).port||(r.port="https:"==r.protocol?443:80),r.headers=this.getHeaders(e.headers),i="https:"==r.protocol?l.request(r):o.request(r),this.getLength((function(e,r){if(e&&"Unknown stream"!==e){this._error(e);return}if(r&&i.setHeader("Content-Length",r),this.pipe(i),t){var a,s=function(e,r){return i.removeListener("error",s),i.removeListener("response",a),t.call(this,e,r)};a=s.bind(this,null),i.on("error",s),i.on("response",a)}}).bind(this)),i},b.prototype._error=function(e){this.error||(this.error=e,this.pause(),this.emit("error",e))},b.prototype.toString=function(){return"[object FormData]"}},33789:e=>{"use strict";e.exports=function(e,t){return Object.keys(t).forEach(function(i){e[i]=e[i]||t[i]}),e}},95357:(e,t,i)=>{"use strict";e.exports=i(42659)},83880:(e,t,i)=>{"use strict";var r=i(75945);e.exports=function(e,t){t=t||{};var i=r.decode(e,t);if(!i)return null;var a=i.payload;if("string"==typeof a)try{var s=JSON.parse(a);null!==s&&"object"==typeof s&&(a=s)}catch(e){}return!0===t.complete?{header:i.header,payload:a,signature:i.signature}:a}},89835:(e,t,i)=>{"use strict";e.exports={decode:i(83880),verify:i(7738),sign:i(70939),JsonWebTokenError:i(72658),NotBeforeError:i(46951),TokenExpiredError:i(17118)}},72658:e=>{"use strict";var t=function(e,t){Error.call(this,e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=e,t&&(this.inner=t)};t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,e.exports=t},46951:(e,t,i)=>{"use strict";var r=i(72658),a=function(e,t){r.call(this,e),this.name="NotBeforeError",this.date=t};a.prototype=Object.create(r.prototype),a.prototype.constructor=a,e.exports=a},17118:(e,t,i)=>{"use strict";var r=i(72658),a=function(e,t){r.call(this,e),this.name="TokenExpiredError",this.expiredAt=t};a.prototype=Object.create(r.prototype),a.prototype.constructor=a,e.exports=a},13855:(e,t,i)=>{"use strict";let r=i(86952);e.exports=r.satisfies(process.version,">=15.7.0")},27771:(e,t,i)=>{"use strict";var r=i(86952);e.exports=r.satisfies(process.version,"^6.12.0 || >=8.0.0")},60875:(e,t,i)=>{"use strict";let r=i(86952);e.exports=r.satisfies(process.version,">=16.9.0")},40425:(e,t,i)=>{"use strict";var r=i(58476);e.exports=function(e,t){var i=t||Math.floor(Date.now()/1e3);if("string"==typeof e){var a=r(e);if(void 0===a)return;return Math.floor(i+a/1e3)}if("number"==typeof e)return i+e}},92964:(e,t,i)=>{"use strict";let r=i(13855),a=i(60875),s={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},o={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};e.exports=function(e,t){if(!e||!t)return;let i=t.asymmetricKeyType;if(!i)return;let l=s[i];if(!l)throw Error(`Unknown key type "${i}".`);if(!l.includes(e))throw Error(`"alg" parameter for "${i}" key type must be one of: ${l.join(", ")}.`);if(r)switch(i){case"ec":let u=t.asymmetricKeyDetails.namedCurve,p=o[e];if(u!==p)throw Error(`"alg" parameter "${e}" requires curve "${p}".`);break;case"rsa-pss":if(a){let i=parseInt(e.slice(-3),10),{hashAlgorithm:r,mgf1HashAlgorithm:a,saltLength:s}=t.asymmetricKeyDetails;if(r!==`sha${i}`||a!==r)throw Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}.`);if(void 0!==s&&s>i>>3)throw Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}.`)}}}},70939:(e,t,i)=>{"use strict";let r=i(40425),a=i(27771),s=i(92964),o=i(75945),l=i(87127),u=i(89113),p=i(16919),d=i(7124),f=i(23632),m=i(40075),g=i(91453),{KeyObject:b,createSecretKey:v,createPrivateKey:y}=i(6113),x=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];a&&x.splice(3,0,"PS256","PS384","PS512");let w={expiresIn:{isValid:function(e){return p(e)||m(e)&&e},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(e){return p(e)||m(e)&&e},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(e){return m(e)||Array.isArray(e)},message:'"audience" must be a string or array'},algorithm:{isValid:l.bind(null,x),message:'"algorithm" must be a valid string enum value'},header:{isValid:f,message:'"header" must be an object'},encoding:{isValid:m,message:'"encoding" must be a string'},issuer:{isValid:m,message:'"issuer" must be a string'},subject:{isValid:m,message:'"subject" must be a string'},jwtid:{isValid:m,message:'"jwtid" must be a string'},noTimestamp:{isValid:u,message:'"noTimestamp" must be a boolean'},keyid:{isValid:m,message:'"keyid" must be a string'},mutatePayload:{isValid:u,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:u,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:u,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},k={iat:{isValid:d,message:'"iat" should be a number of seconds'},exp:{isValid:d,message:'"exp" should be a number of seconds'},nbf:{isValid:d,message:'"nbf" should be a number of seconds'}};function _(e,t,i,r){if(!f(i))throw Error('Expected "'+r+'" to be a plain object.');Object.keys(i).forEach(function(a){let s=e[a];if(!s){if(!t)throw Error('"'+a+'" is not allowed in "'+r+'"');return}if(!s.isValid(i[a]))throw Error(s.message)})}let S={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},T=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];e.exports=function(e,t,i,a){var l,u;"function"==typeof i?(a=i,i={}):i=i||{};let p="object"==typeof e&&!Buffer.isBuffer(e),d=Object.assign({alg:i.algorithm||"HS256",typ:p?"JWT":void 0,kid:i.keyid},i.header);function f(e){if(a)return a(e);throw e}if(!t&&"none"!==i.algorithm)return f(Error("secretOrPrivateKey must have a value"));if(null!=t&&!(t instanceof b))try{t=y(t)}catch(e){try{t=v("string"==typeof t?Buffer.from(t):t)}catch(e){return f(Error("secretOrPrivateKey is not valid key material"))}}if(d.alg.startsWith("HS")&&"secret"!==t.type)return f(Error(`secretOrPrivateKey must be a symmetric key when using ${d.alg}`));if(/^(?:RS|PS|ES)/.test(d.alg)){if("private"!==t.type)return f(Error(`secretOrPrivateKey must be an asymmetric key when using ${d.alg}`));if(!i.allowInsecureKeySizes&&!d.alg.startsWith("ES")&&void 0!==t.asymmetricKeyDetails&&t.asymmetricKeyDetails.modulusLength<2048)return f(Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${d.alg}`))}if(void 0===e)return f(Error("payload is required"));if(p){try{l=e,_(k,!0,l,"payload")}catch(e){return f(e)}i.mutatePayload||(e=Object.assign({},e))}else{let t=T.filter(function(e){return void 0!==i[e]});if(t.length>0)return f(Error("invalid "+t.join(",")+" option for "+typeof e+" payload"))}if(void 0!==e.exp&&void 0!==i.expiresIn)return f(Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(void 0!==e.nbf&&void 0!==i.notBefore)return f(Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{u=i,_(w,!1,u,"options")}catch(e){return f(e)}if(!i.allowInvalidAsymmetricKeyTypes)try{s(d.alg,t)}catch(e){return f(e)}let m=e.iat||Math.floor(Date.now()/1e3);if(i.noTimestamp?delete e.iat:p&&(e.iat=m),void 0!==i.notBefore){try{e.nbf=r(i.notBefore,m)}catch(e){return f(e)}if(void 0===e.nbf)return f(Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(void 0!==i.expiresIn&&"object"==typeof e){try{e.exp=r(i.expiresIn,m)}catch(e){return f(e)}if(void 0===e.exp)return f(Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(S).forEach(function(t){let r=S[t];if(void 0!==i[t]){if(void 0!==e[r])return f(Error('Bad "options.'+t+'" option. The payload already has an "'+r+'" property.'));e[r]=i[t]}});let x=i.encoding||"utf8";if("function"==typeof a)a=a&&g(a),o.createSign({header:d,privateKey:t,payload:e,encoding:x}).once("error",a).once("done",function(e){if(!i.allowInsecureKeySizes&&/^(?:RS|PS)/.test(d.alg)&&e.length<256)return a(Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${d.alg}`));a(null,e)});else{let r=o.sign({header:d,payload:e,secret:t,encoding:x});if(!i.allowInsecureKeySizes&&/^(?:RS|PS)/.test(d.alg)&&r.length<256)throw Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${d.alg}`);return r}}},7738:(e,t,i)=>{"use strict";let r=i(72658),a=i(46951),s=i(17118),o=i(83880),l=i(40425),u=i(92964),p=i(27771),d=i(75945),{KeyObject:f,createSecretKey:m,createPublicKey:g}=i(6113),b=["RS256","RS384","RS512"],v=["ES256","ES384","ES512"],y=["RS256","RS384","RS512"],x=["HS256","HS384","HS512"];p&&(b.splice(b.length,0,"PS256","PS384","PS512"),y.splice(y.length,0,"PS256","PS384","PS512")),e.exports=function(e,t,i,p){let w,k,_;if("function"!=typeof i||p||(p=i,i={}),i||(i={}),i=Object.assign({},i),w=p||function(e,t){if(e)throw e;return t},i.clockTimestamp&&"number"!=typeof i.clockTimestamp)return w(new r("clockTimestamp must be a number"));if(void 0!==i.nonce&&("string"!=typeof i.nonce||""===i.nonce.trim()))return w(new r("nonce must be a non-empty string"));if(void 0!==i.allowInvalidAsymmetricKeyTypes&&"boolean"!=typeof i.allowInvalidAsymmetricKeyTypes)return w(new r("allowInvalidAsymmetricKeyTypes must be a boolean"));let S=i.clockTimestamp||Math.floor(Date.now()/1e3);if(!e)return w(new r("jwt must be provided"));if("string"!=typeof e)return w(new r("jwt must be a string"));let T=e.split(".");if(3!==T.length)return w(new r("jwt malformed"));try{k=o(e,{complete:!0})}catch(e){return w(e)}if(!k)return w(new r("invalid token"));let C=k.header;if("function"==typeof t){if(!p)return w(new r("verify must be called asynchronous if secret or public key is provided as a callback"));_=t}else _=function(e,i){return i(null,t)};return _(C,function(t,o){let p;if(t)return w(new r("error in secret or public key callback: "+t.message));let _=""!==T[2].trim();if(!_&&o)return w(new r("jwt signature is required"));if(_&&!o)return w(new r("secret or public key must be provided"));if(!_&&!i.algorithms)return w(new r('please specify "none" in "algorithms" to verify unsigned tokens'));if(null!=o&&!(o instanceof f))try{o=g(o)}catch(e){try{o=m("string"==typeof o?Buffer.from(o):o)}catch(e){return w(new r("secretOrPublicKey is not valid key material"))}}if(i.algorithms||("secret"===o.type?i.algorithms=x:["rsa","rsa-pss"].includes(o.asymmetricKeyType)?i.algorithms=y:"ec"===o.asymmetricKeyType?i.algorithms=v:i.algorithms=b),-1===i.algorithms.indexOf(k.header.alg))return w(new r("invalid algorithm"));if(C.alg.startsWith("HS")&&"secret"!==o.type)return w(new r(`secretOrPublicKey must be a symmetric key when using ${C.alg}`));if(/^(?:RS|PS|ES)/.test(C.alg)&&"public"!==o.type)return w(new r(`secretOrPublicKey must be an asymmetric key when using ${C.alg}`));if(!i.allowInvalidAsymmetricKeyTypes)try{u(C.alg,o)}catch(e){return w(e)}try{p=d.verify(e,k.header.alg,o)}catch(e){return w(e)}if(!p)return w(new r("invalid signature"));let E=k.payload;if(void 0!==E.nbf&&!i.ignoreNotBefore){if("number"!=typeof E.nbf)return w(new r("invalid nbf value"));if(E.nbf>S+(i.clockTolerance||0))return w(new a("jwt not active",new Date(1e3*E.nbf)))}if(void 0!==E.exp&&!i.ignoreExpiration){if("number"!=typeof E.exp)return w(new r("invalid exp value"));if(S>=E.exp+(i.clockTolerance||0))return w(new s("jwt expired",new Date(1e3*E.exp)))}if(i.audience){let e=Array.isArray(i.audience)?i.audience:[i.audience];if(!(Array.isArray(E.aud)?E.aud:[E.aud]).some(function(t){return e.some(function(e){return e instanceof RegExp?e.test(t):e===t})}))return w(new r("jwt audience invalid. expected: "+e.join(" or ")))}if(i.issuer&&("string"==typeof i.issuer&&E.iss!==i.issuer||Array.isArray(i.issuer)&&-1===i.issuer.indexOf(E.iss)))return w(new r("jwt issuer invalid. expected: "+i.issuer));if(i.subject&&E.sub!==i.subject)return w(new r("jwt subject invalid. expected: "+i.subject));if(i.jwtid&&E.jti!==i.jwtid)return w(new r("jwt jwtid invalid. expected: "+i.jwtid));if(i.nonce&&E.nonce!==i.nonce)return w(new r("jwt nonce invalid. expected: "+i.nonce));if(i.maxAge){if("number"!=typeof E.iat)return w(new r("iat required when maxAge is specified"));let e=l(i.maxAge,E.iat);if(void 0===e)return w(new r('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(S>=e+(i.clockTolerance||0))return w(new s("maxAge exceeded",new Date(1e3*e)))}return!0===i.complete?w(null,{header:C,payload:E,signature:k.signature}):w(null,E)})}},14916:(e,t,i)=>{"use strict";var r=i(71364),a=i(5299).Buffer,s=i(6113),o=i(99810),l=i(73837),u="secret must be a string or buffer",p="key must be a string or a buffer",d="function"==typeof s.createPublicKey;function f(e){if(!a.isBuffer(e)&&"string"!=typeof e&&(!d||"object"!=typeof e||"string"!=typeof e.type||"string"!=typeof e.asymmetricKeyType||"function"!=typeof e.export))throw v(p)}function m(e){if(!a.isBuffer(e)&&"string"!=typeof e&&"object"!=typeof e)throw v("key must be a string, a buffer or an object")}function g(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function b(e){var t=4-(e=e.toString()).length%4;if(4!==t)for(var i=0;i<t;++i)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function v(e){var t=[].slice.call(arguments,1);return TypeError(l.format.bind(l,e).apply(null,t))}function y(e){var t;return t=e,a.isBuffer(t)||"string"==typeof t||(e=JSON.stringify(e)),e}function x(e){return function(t,i){(function(e){if(!a.isBuffer(e)&&"string"!=typeof e&&(!d||"object"!=typeof e||"secret"!==e.type||"function"!=typeof e.export))throw v(u)})(i),t=y(t);var r=s.createHmac("sha"+e,i);return g((r.update(t),r.digest("base64")))}}function w(e){return function(t,i,s){var o=x(e)(t,s);return r(a.from(i),a.from(o))}}function k(e){return function(t,i){m(i),t=y(t);var r=s.createSign("RSA-SHA"+e);return g((r.update(t),r.sign(i,"base64")))}}function _(e){return function(t,i,r){f(r),t=y(t),i=b(i);var a=s.createVerify("RSA-SHA"+e);return a.update(t),a.verify(r,i,"base64")}}function S(e){return function(t,i){m(i),t=y(t);var r=s.createSign("RSA-SHA"+e);return g((r.update(t),r.sign({key:i,padding:s.constants.RSA_PKCS1_PSS_PADDING,saltLength:s.constants.RSA_PSS_SALTLEN_DIGEST},"base64")))}}function T(e){return function(t,i,r){f(r),t=y(t),i=b(i);var a=s.createVerify("RSA-SHA"+e);return a.update(t),a.verify({key:r,padding:s.constants.RSA_PKCS1_PSS_PADDING,saltLength:s.constants.RSA_PSS_SALTLEN_DIGEST},i,"base64")}}function C(e){var t=k(e);return function(){var i=t.apply(null,arguments);return o.derToJose(i,"ES"+e)}}function E(e){var t=_(e);return function(i,r,a){return t(i,r=o.joseToDer(r,"ES"+e).toString("base64"),a)}}function R(){return function(){return""}}function j(){return function(e,t){return""===t}}d&&(p+=" or a KeyObject",u+="or a KeyObject"),e.exports=function(e){var t=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!t)throw v('"%s" is not a valid algorithm.\n  Supported algorithms are:\n  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".',e);var i=(t[1]||t[3]).toLowerCase(),r=t[2];return{sign:({hs:x,rs:k,ps:S,es:C,none:R})[i](r),verify:({hs:w,rs:_,ps:T,es:E,none:j})[i](r)}}},75945:(e,t,i)=>{var r=i(55562),a=i(46612);t.ALGORITHMS=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"],t.sign=r.sign,t.verify=a.verify,t.decode=a.decode,t.isValid=a.isValid,t.createSign=function(e){return new r(e)},t.createVerify=function(e){return new a(e)}},78450:(e,t,i)=>{"use strict";var r=i(5299).Buffer,a=i(12781);function s(e){if(this.buffer=null,this.writable=!0,this.readable=!0,!e)return this.buffer=r.alloc(0),this;if("function"==typeof e.pipe)return this.buffer=r.alloc(0),e.pipe(this),this;if(e.length||"object"==typeof e)return this.buffer=e,this.writable=!1,process.nextTick((function(){this.emit("end",e),this.readable=!1,this.emit("close")}).bind(this)),this;throw TypeError("Unexpected data type ("+typeof e+")")}i(73837).inherits(s,a),s.prototype.write=function(e){this.buffer=r.concat([this.buffer,r.from(e)]),this.emit("data",e)},s.prototype.end=function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1},e.exports=s},55562:(e,t,i)=>{"use strict";var r=i(5299).Buffer,a=i(78450),s=i(14916),o=i(12781),l=i(55047),u=i(73837);function p(e,t){return r.from(e,t).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function d(e){var t,i,r,a=e.header,o=e.payload,d=e.secret||e.privateKey,f=e.encoding,m=s(a.alg),g=(t=(t=f)||"utf8",i=p(l(a),"binary"),r=p(l(o),t),u.format("%s.%s",i,r)),b=m.sign(g,d);return u.format("%s.%s",g,b)}function f(e){var t=new a(e.secret||e.privateKey||e.key);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=t,this.payload=new a(e.payload),this.secret.once("close",(function(){!this.payload.writable&&this.readable&&this.sign()}).bind(this)),this.payload.once("close",(function(){!this.secret.writable&&this.readable&&this.sign()}).bind(this))}u.inherits(f,o),f.prototype.sign=function(){try{var e=d({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},f.sign=d,e.exports=f},55047:(e,t,i)=>{"use strict";var r=i(14300).Buffer;e.exports=function(e){return"string"==typeof e?e:"number"==typeof e||r.isBuffer(e)?e.toString():JSON.stringify(e)}},46612:(e,t,i)=>{"use strict";var r=i(5299).Buffer,a=i(78450),s=i(14916),o=i(12781),l=i(55047),u=i(73837),p=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function d(e){var t=e.split(".",1)[0];return function(e){if("[object Object]"===Object.prototype.toString.call(e))return e;try{return JSON.parse(e)}catch(e){return}}(r.from(t,"base64").toString("binary"))}function f(e){return e.split(".")[2]}function m(e){return p.test(e)&&!!d(e)}function g(e,t,i){if(!t){var r=Error("Missing algorithm parameter for jws.verify");throw r.code="MISSING_ALGORITHM",r}var a=f(e=l(e)),o=e.split(".",2).join(".");return s(t).verify(o,a,i)}function b(e,t){if(t=t||{},!m(e=l(e)))return null;var i,a,s=d(e);if(!s)return null;var o=(i=i||"utf8",a=e.split(".")[1],r.from(a,"base64").toString(i));return("JWT"===s.typ||t.json)&&(o=JSON.parse(o,t.encoding)),{header:s,payload:o,signature:f(e)}}function v(e){var t=new a((e=e||{}).secret||e.publicKey||e.key);this.readable=!0,this.algorithm=e.algorithm,this.encoding=e.encoding,this.secret=this.publicKey=this.key=t,this.signature=new a(e.signature),this.secret.once("close",(function(){!this.signature.writable&&this.readable&&this.verify()}).bind(this)),this.signature.once("close",(function(){!this.secret.writable&&this.readable&&this.verify()}).bind(this))}u.inherits(v,o),v.prototype.verify=function(){try{var e=g(this.signature.buffer,this.algorithm,this.key.buffer),t=b(this.signature.buffer,this.encoding);return this.emit("done",e,t),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},v.decode=b,v.isValid=m,v.verify=g,e.exports=v},87127:e=>{"use strict";var t,i,r=1/0,a=0/0,s=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,p=/^(?:0|[1-9]\d*)$/,d=parseInt;function f(e){return e!=e}var m=Object.prototype,g=m.hasOwnProperty,b=m.toString,v=m.propertyIsEnumerable,y=(t=Object.keys,i=Object,function(e){return t(i(e))}),x=Math.max,w=Array.isArray;function k(e){var t,i;return null!=e&&"number"==typeof(t=e.length)&&t>-1&&t%1==0&&t<=9007199254740991&&!("[object Function]"==(i=_(e)?b.call(e):"")||"[object GeneratorFunction]"==i)}function _(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function S(e){return!!e&&"object"==typeof e}e.exports=function(e,t,i,T){e=k(e)?e:(C=e)?function(e,t){for(var i=-1,r=e?e.length:0,a=Array(r);++i<r;)a[i]=t(e[i],i,e);return a}(k(C)?function(e,t){var i,r=w(e)||S(e)&&k(e)&&g.call(e,"callee")&&(!v.call(e,"callee")||"[object Arguments]"==b.call(e))?function(e,t){for(var i=-1,r=Array(e);++i<e;)r[i]=t(i);return r}(e.length,String):[],a=r.length,s=!!a;for(var o in e)g.call(e,o)&&!(s&&("length"==o||(i=null==(i=a)?9007199254740991:i)&&("number"==typeof o||p.test(o))&&o>-1&&o%1==0&&o<i))&&r.push(o);return r}(C):function(e){if(t=e&&e.constructor,e!==("function"==typeof t&&t.prototype||m))return y(e);var t,i=[];for(var r in Object(e))g.call(e,r)&&"constructor"!=r&&i.push(r);return i}(C),function(e){return C[e]}):[],i=i&&!T?(j=(R=(E=i)?(E=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||S(t)&&"[object Symbol]"==b.call(t))return a;if(_(e)){var t,i="function"==typeof e.valueOf?e.valueOf():e;e=_(i)?i+"":i}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var r=l.test(e);return r||u.test(e)?d(e.slice(2),r?2:8):o.test(e)?a:+e}(E))===r||E===-r?(E<0?-1:1)*17976931348623157e292:E==E?E:0:0===E?E:0)%1,R==R?j?R-j:R:0):0;var C,E,R,j,I,O=e.length;return i<0&&(i=x(O+i,0)),"string"==typeof(I=e)||!w(I)&&S(I)&&"[object String]"==b.call(I)?i<=O&&e.indexOf(t,i)>-1:!!O&&function(e,t,i){if(t!=t)return function(e,t,i,r){for(var a=e.length,s=i+(r?1:-1);r?s--:++s<a;)if(t(e[s],s,e))return s;return -1}(e,f,i);for(var r=i-1,a=e.length;++r<a;)if(e[r]===t)return r;return -1}(e,t,i)>-1}},89113:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){return!0===e||!1===e||!!e&&"object"==typeof e&&"[object Boolean]"==t.call(e)}},16919:e=>{"use strict";var t=1/0,i=0/0,r=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt,u=Object.prototype.toString;function p(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){var d,f,m;return"number"==typeof e&&e==(m=(f=(d=e)?(d=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==u.call(t))return i;if(p(e)){var t,d="function"==typeof e.valueOf?e.valueOf():e;e=p(d)?d+"":d}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var f=s.test(e);return f||o.test(e)?l(e.slice(2),f?2:8):a.test(e)?i:+e}(d))===t||d===-t?(d<0?-1:1)*17976931348623157e292:d==d?d:0:0===d?d:0)%1,f==f?m?f-m:f:0)}},7124:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){return"number"==typeof e||!!e&&"object"==typeof e&&"[object Number]"==t.call(e)}},23632:e=>{"use strict";var t,i,r=Object.prototype,a=Function.prototype.toString,s=r.hasOwnProperty,o=a.call(Object),l=r.toString,u=(t=Object.getPrototypeOf,i=Object,function(e){return t(i(e))});e.exports=function(e){if(!(e&&"object"==typeof e)||"[object Object]"!=l.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t=u(e);if(null===t)return!0;var i=s.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&a.call(i)==o}},40075:e=>{"use strict";var t=Object.prototype.toString,i=Array.isArray;e.exports=function(e){var r;return"string"==typeof e||!i(e)&&!!(r=e)&&"object"==typeof r&&"[object String]"==t.call(e)}},91453:e=>{"use strict";var t=1/0,i=0/0,r=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt,u=Object.prototype.toString;function p(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){return function(e,d){var f,m,g,b;if("function"!=typeof d)throw TypeError("Expected a function");return b=(g=(m=e)?(m=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==u.call(t))return i;if(p(e)){var t,d="function"==typeof e.valueOf?e.valueOf():e;e=p(d)?d+"":d}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var f=s.test(e);return f||o.test(e)?l(e.slice(2),f?2:8):a.test(e)?i:+e}(m))===t||m===-t?(m<0?-1:1)*17976931348623157e292:m==m?m:0:0===m?m:0)%1,e=g==g?b?g-b:g:0,function(){return--e>0&&(f=d.apply(this,arguments)),e<=1&&(d=void 0),f}}(2,e)}},22392:(e,t,i)=>{"use strict";var r=i(84032)(i(67598),"DataView");e.exports=r},75216:(e,t,i)=>{"use strict";var r=i(67931),a=i(48514),s=i(79633),o=i(6125),l=i(78410);function u(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=a,u.prototype.get=s,u.prototype.has=o,u.prototype.set=l,e.exports=u},32230:(e,t,i)=>{"use strict";var r=i(31547),a=i(30543),s=i(75046),o=i(45341),l=i(93205);function u(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=a,u.prototype.get=s,u.prototype.has=o,u.prototype.set=l,e.exports=u},67597:(e,t,i)=>{"use strict";var r=i(84032)(i(67598),"Map");e.exports=r},67830:(e,t,i)=>{"use strict";var r=i(61609),a=i(44135),s=i(52460),o=i(76269),l=i(81762);function u(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=a,u.prototype.get=s,u.prototype.has=o,u.prototype.set=l,e.exports=u},89840:(e,t,i)=>{"use strict";var r=i(84032)(i(67598),"Promise");e.exports=r},27542:(e,t,i)=>{"use strict";var r=i(84032)(i(67598),"Set");e.exports=r},35935:(e,t,i)=>{"use strict";var r=i(67830),a=i(34666),s=i(68760);function o(e){var t=-1,i=null==e?0:e.length;for(this.__data__=new r;++t<i;)this.add(e[t])}o.prototype.add=o.prototype.push=a,o.prototype.has=s,e.exports=o},92369:(e,t,i)=>{"use strict";var r=i(32230),a=i(36366),s=i(53102),o=i(4406),l=i(63311),u=i(46215);function p(e){var t=this.__data__=new r(e);this.size=t.size}p.prototype.clear=a,p.prototype.delete=s,p.prototype.get=o,p.prototype.has=l,p.prototype.set=u,e.exports=p},46377:(e,t,i)=>{"use strict";var r=i(67598).Symbol;e.exports=r},34728:(e,t,i)=>{"use strict";var r=i(67598).Uint8Array;e.exports=r},2082:(e,t,i)=>{"use strict";var r=i(84032)(i(67598),"WeakMap");e.exports=r},90717:e=>{"use strict";e.exports=function(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}},85376:e=>{"use strict";e.exports=function(e,t){for(var i=-1,r=null==e?0:e.length,a=0,s=[];++i<r;){var o=e[i];t(o,i,e)&&(s[a++]=o)}return s}},43254:(e,t,i)=>{"use strict";var r=i(39727);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},80265:e=>{"use strict";e.exports=function(e,t,i){for(var r=-1,a=null==e?0:e.length;++r<a;)if(i(t,e[r]))return!0;return!1}},63612:(e,t,i)=>{"use strict";var r=i(17385),a=i(55095),s=i(71166),o=i(84458),l=i(44570),u=i(55789),p=Object.prototype.hasOwnProperty;e.exports=function(e,t){var i=s(e),d=!i&&a(e),f=!i&&!d&&o(e),m=!i&&!d&&!f&&u(e),g=i||d||f||m,b=g?r(e.length,String):[],v=b.length;for(var y in e)(t||p.call(e,y))&&!(g&&("length"==y||f&&("offset"==y||"parent"==y)||m&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||l(y,v)))&&b.push(y);return b}},65068:e=>{"use strict";e.exports=function(e,t){for(var i=-1,r=null==e?0:e.length,a=Array(r);++i<r;)a[i]=t(e[i],i,e);return a}},74409:e=>{"use strict";e.exports=function(e,t){for(var i=-1,r=t.length,a=e.length;++i<r;)e[a+i]=t[i];return e}},62976:e=>{"use strict";e.exports=function(e,t){for(var i=-1,r=null==e?0:e.length;++i<r;)if(t(e[i],i,e))return!0;return!1}},98699:(e,t,i)=>{"use strict";var r=i(50421),a=i(22249);e.exports=function(e,t,i){(void 0===i||a(e[t],i))&&(void 0!==i||t in e)||r(e,t,i)}},96907:(e,t,i)=>{"use strict";var r=i(50421),a=i(22249),s=Object.prototype.hasOwnProperty;e.exports=function(e,t,i){var o=e[t];s.call(e,t)&&a(o,i)&&(void 0!==i||t in e)||r(e,t,i)}},12708:(e,t,i)=>{"use strict";var r=i(22249);e.exports=function(e,t){for(var i=e.length;i--;)if(r(e[i][0],t))return i;return -1}},50421:(e,t,i)=>{"use strict";var r=i(11248);e.exports=function(e,t,i){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}},3206:(e,t,i)=>{"use strict";var r=i(60986),a=Object.create,s=function(){function e(){}return function(t){if(!r(t))return{};if(a)return a(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}();e.exports=s},89075:(e,t,i)=>{"use strict";var r=i(35935),a=i(43254),s=i(80265),o=i(65068),l=i(42454),u=i(66173);e.exports=function(e,t,i,p){var d=-1,f=a,m=!0,g=e.length,b=[],v=t.length;if(!g)return b;i&&(t=o(t,l(i))),p?(f=s,m=!1):t.length>=200&&(f=u,m=!1,t=new r(t));i:for(;++d<g;){var y=e[d],x=null==i?y:i(y);if(y=p||0!==y?y:0,m&&x==x){for(var w=v;w--;)if(t[w]===x)continue i;b.push(y)}else f(t,x,p)||b.push(y)}return b}},59064:(e,t,i)=>{"use strict";var r=i(17210),a=i(65470)(r);e.exports=a},35241:e=>{"use strict";e.exports=function(e,t,i,r){for(var a=e.length,s=i+(r?1:-1);r?s--:++s<a;)if(t(e[s],s,e))return s;return -1}},2572:(e,t,i)=>{"use strict";var r=i(74409),a=i(12183);e.exports=function e(t,i,s,o,l){var u=-1,p=t.length;for(s||(s=a),l||(l=[]);++u<p;){var d=t[u];i>0&&s(d)?i>1?e(d,i-1,s,o,l):r(l,d):o||(l[l.length]=d)}return l}},69077:(e,t,i)=>{"use strict";var r=i(80792)();e.exports=r},17210:(e,t,i)=>{"use strict";var r=i(69077),a=i(1290);e.exports=function(e,t){return e&&r(e,t,a)}},35915:(e,t,i)=>{"use strict";var r=i(96601),a=i(14711);e.exports=function(e,t){t=r(t,e);for(var i=0,s=t.length;null!=e&&i<s;)e=e[a(t[i++])];return i&&i==s?e:void 0}},30380:(e,t,i)=>{"use strict";var r=i(74409),a=i(71166);e.exports=function(e,t,i){var s=t(e);return a(e)?s:r(s,i(e))}},65945:(e,t,i)=>{"use strict";var r=i(46377),a=i(51370),s=i(33517),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?a(e):s(e)}},91414:e=>{"use strict";e.exports=function(e,t){return null!=e&&t in Object(e)}},39727:(e,t,i)=>{"use strict";var r=i(35241),a=i(17501),s=i(73048);e.exports=function(e,t,i){return t==t?s(e,t,i):r(e,a,i)}},10534:(e,t,i)=>{"use strict";var r=i(65945),a=i(12111);e.exports=function(e){return a(e)&&"[object Arguments]"==r(e)}},45417:(e,t,i)=>{"use strict";var r=i(65945),a=i(12111);e.exports=function(e){return a(e)&&"[object Date]"==r(e)}},29511:(e,t,i)=>{"use strict";var r=i(3049),a=i(12111);e.exports=function e(t,i,s,o,l){return t===i||(null!=t&&null!=i&&(a(t)||a(i))?r(t,i,s,o,e,l):t!=t&&i!=i)}},3049:(e,t,i)=>{"use strict";var r=i(92369),a=i(28053),s=i(65926),o=i(43136),l=i(50752),u=i(71166),p=i(84458),d=i(55789),f="[object Arguments]",m="[object Array]",g="[object Object]",b=Object.prototype.hasOwnProperty;e.exports=function(e,t,i,v,y,x){var w=u(e),k=u(t),_=w?m:l(e),S=k?m:l(t);_=_==f?g:_,S=S==f?g:S;var T=_==g,C=S==g,E=_==S;if(E&&p(e)){if(!p(t))return!1;w=!0,T=!1}if(E&&!T)return x||(x=new r),w||d(e)?a(e,t,i,v,y,x):s(e,t,_,i,v,y,x);if(!(1&i)){var R=T&&b.call(e,"__wrapped__"),j=C&&b.call(t,"__wrapped__");if(R||j){var I=R?e.value():e,O=j?t.value():t;return x||(x=new r),y(I,O,i,v,x)}}return!!E&&(x||(x=new r),o(e,t,i,v,y,x))}},94828:(e,t,i)=>{"use strict";var r=i(92369),a=i(29511);e.exports=function(e,t,i,s){var o=i.length,l=o,u=!s;if(null==e)return!l;for(e=Object(e);o--;){var p=i[o];if(u&&p[2]?p[1]!==e[p[0]]:!(p[0]in e))return!1}for(;++o<l;){var d=(p=i[o])[0],f=e[d],m=p[1];if(u&&p[2]){if(void 0===f&&!(d in e))return!1}else{var g=new r;if(s)var b=s(f,m,d,e,t,g);if(!(void 0===b?a(m,f,3,s,g):b))return!1}}return!0}},17501:e=>{"use strict";e.exports=function(e){return e!=e}},98471:(e,t,i)=>{"use strict";var r=i(51282),a=i(33297),s=i(60986),o=i(13318),l=/^\[object .+?Constructor\]$/,u=Object.prototype,p=Function.prototype.toString,d=u.hasOwnProperty,f=RegExp("^"+p.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!s(e)||a(e))&&(r(e)?f:l).test(o(e))}},60077:(e,t,i)=>{"use strict";var r=i(65945),a=i(19723),s=i(12111),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return s(e)&&a(e.length)&&!!o[r(e)]}},69373:(e,t,i)=>{"use strict";var r=i(10950),a=i(33002),s=i(87517),o=i(71166),l=i(14906);e.exports=function(e){return"function"==typeof e?e:null==e?s:"object"==typeof e?o(e)?a(e[0],e[1]):r(e):l(e)}},3425:(e,t,i)=>{"use strict";var r=i(45782),a=i(35793),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=[];for(var i in Object(e))s.call(e,i)&&"constructor"!=i&&t.push(i);return t}},21445:(e,t,i)=>{"use strict";var r=i(60986),a=i(45782),s=i(69990),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return s(e);var t=a(e),i=[];for(var l in e)"constructor"==l&&(t||!o.call(e,l))||i.push(l);return i}},72466:(e,t,i)=>{"use strict";var r=i(59064),a=i(40567);e.exports=function(e,t){var i=-1,s=a(e)?Array(e.length):[];return r(e,function(e,r,a){s[++i]=t(e,r,a)}),s}},10950:(e,t,i)=>{"use strict";var r=i(94828),a=i(39257),s=i(30273);e.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?s(t[0][0],t[0][1]):function(i){return i===e||r(i,e,t)}}},33002:(e,t,i)=>{"use strict";var r=i(29511),a=i(41365),s=i(95600),o=i(997),l=i(33954),u=i(30273),p=i(14711);e.exports=function(e,t){return o(e)&&l(t)?u(p(e),t):function(i){var o=a(i,e);return void 0===o&&o===t?s(i,e):r(t,o,3)}}},97004:(e,t,i)=>{"use strict";var r=i(92369),a=i(98699),s=i(69077),o=i(82019),l=i(60986),u=i(88283),p=i(80573);e.exports=function e(t,i,d,f,m){t!==i&&s(i,function(s,u){if(m||(m=new r),l(s))o(t,i,u,d,e,f,m);else{var g=f?f(p(t,u),s,u+"",t,i,m):void 0;void 0===g&&(g=s),a(t,u,g)}},u)}},82019:(e,t,i)=>{"use strict";var r=i(98699),a=i(63285),s=i(59174),o=i(74821),l=i(56692),u=i(55095),p=i(71166),d=i(92833),f=i(84458),m=i(51282),g=i(60986),b=i(24319),v=i(55789),y=i(80573),x=i(92455);e.exports=function(e,t,i,w,k,_,S){var T=y(e,i),C=y(t,i),E=S.get(C);if(E){r(e,i,E);return}var R=_?_(T,C,i+"",e,t,S):void 0,j=void 0===R;if(j){var I=p(C),O=!I&&f(C),P=!I&&!O&&v(C);R=C,I||O||P?p(T)?R=T:d(T)?R=o(T):O?(j=!1,R=a(C,!0)):P?(j=!1,R=s(C,!0)):R=[]:b(C)||u(C)?(R=T,u(T)?R=x(T):(!g(T)||m(T))&&(R=l(C))):j=!1}j&&(S.set(C,R),k(R,C,w,_,S),S.delete(C)),r(e,i,R)}},55335:(e,t,i)=>{"use strict";var r=i(65068),a=i(35915),s=i(69373),o=i(72466),l=i(66065),u=i(42454),p=i(38824),d=i(87517),f=i(71166);e.exports=function(e,t,i){t=t.length?r(t,function(e){return f(e)?function(t){return a(t,1===e.length?e[0]:e)}:e}):[d];var m=-1;return t=r(t,u(s)),l(o(e,function(e,i,a){return{criteria:r(t,function(t){return t(e)}),index:++m,value:e}}),function(e,t){return p(e,t,i)})}},24492:(e,t,i)=>{"use strict";var r=i(50001),a=i(95600);e.exports=function(e,t){return r(e,t,function(t,i){return a(e,i)})}},50001:(e,t,i)=>{"use strict";var r=i(35915),a=i(91808),s=i(96601);e.exports=function(e,t,i){for(var o=-1,l=t.length,u={};++o<l;){var p=t[o],d=r(e,p);i(d,p)&&a(u,s(p,e),d)}return u}},97787:e=>{"use strict";e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},67242:(e,t,i)=>{"use strict";var r=i(35915);e.exports=function(e){return function(t){return r(t,e)}}},85590:(e,t,i)=>{"use strict";var r=i(87517),a=i(71194),s=i(43394);e.exports=function(e,t){return s(a(e,t,r),e+"")}},91808:(e,t,i)=>{"use strict";var r=i(96907),a=i(96601),s=i(44570),o=i(60986),l=i(14711);e.exports=function(e,t,i,u){if(!o(e))return e;t=a(t,e);for(var p=-1,d=t.length,f=d-1,m=e;null!=m&&++p<d;){var g=l(t[p]),b=i;if("__proto__"===g||"constructor"===g||"prototype"===g)break;if(p!=f){var v=m[g];void 0===(b=u?u(v,g,m):void 0)&&(b=o(v)?v:s(t[p+1])?[]:{})}r(m,g,b),m=m[g]}return e}},36984:(e,t,i)=>{"use strict";var r=i(56853),a=i(11248),s=i(87517),o=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:s;e.exports=o},66065:e=>{"use strict";e.exports=function(e,t){var i=e.length;for(e.sort(t);i--;)e[i]=e[i].value;return e}},17385:e=>{"use strict";e.exports=function(e,t){for(var i=-1,r=Array(e);++i<e;)r[i]=t(i);return r}},46584:(e,t,i)=>{"use strict";var r=i(46377),a=i(65068),s=i(71166),o=i(56381),l=1/0,u=r?r.prototype:void 0,p=u?u.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(s(t))return a(t,e)+"";if(o(t))return p?p.call(t):"";var i=t+"";return"0"==i&&1/t==-l?"-0":i}},42454:e=>{"use strict";e.exports=function(e){return function(t){return e(t)}}},62634:(e,t,i)=>{"use strict";var r=i(35935),a=i(43254),s=i(80265),o=i(66173),l=i(86513),u=i(80185);e.exports=function(e,t,i){var p=-1,d=a,f=e.length,m=!0,g=[],b=g;if(i)m=!1,d=s;else if(f>=200){var v=t?null:l(e);if(v)return u(v);m=!1,d=o,b=new r}else b=t?[]:g;i:for(;++p<f;){var y=e[p],x=t?t(y):y;if(y=i||0!==y?y:0,m&&x==x){for(var w=b.length;w--;)if(b[w]===x)continue i;t&&b.push(x),g.push(y)}else d(b,x,i)||(b!==g&&b.push(x),g.push(y))}return g}},66173:e=>{"use strict";e.exports=function(e,t){return e.has(t)}},96601:(e,t,i)=>{"use strict";var r=i(71166),a=i(997),s=i(31110),o=i(64294);e.exports=function(e,t){return r(e)?e:a(e,t)?[e]:s(o(e))}},5083:(e,t,i)=>{"use strict";var r=i(34728);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},63285:(e,t,i)=>{"use strict";e=i.nmd(e);var r=i(67598),a=t&&!t.nodeType&&t,s=a&&e&&!e.nodeType&&e,o=s&&s.exports===a?r.Buffer:void 0,l=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var i=e.length,r=l?l(i):new e.constructor(i);return e.copy(r),r}},59174:(e,t,i)=>{"use strict";var r=i(5083);e.exports=function(e,t){var i=t?r(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}},83214:(e,t,i)=>{"use strict";var r=i(56381);e.exports=function(e,t){if(e!==t){var i=void 0!==e,a=null===e,s=e==e,o=r(e),l=void 0!==t,u=null===t,p=t==t,d=r(t);if(!u&&!d&&!o&&e>t||o&&l&&p&&!u&&!d||a&&l&&p||!i&&p||!s)return 1;if(!a&&!o&&!d&&e<t||d&&i&&s&&!a&&!o||u&&i&&s||!l&&s||!p)return -1}return 0}},38824:(e,t,i)=>{"use strict";var r=i(83214);e.exports=function(e,t,i){for(var a=-1,s=e.criteria,o=t.criteria,l=s.length,u=i.length;++a<l;){var p=r(s[a],o[a]);if(p){if(a>=u)return p;return p*("desc"==i[a]?-1:1)}}return e.index-t.index}},74821:e=>{"use strict";e.exports=function(e,t){var i=-1,r=e.length;for(t||(t=Array(r));++i<r;)t[i]=e[i];return t}},52760:(e,t,i)=>{"use strict";var r=i(96907),a=i(50421);e.exports=function(e,t,i,s){var o=!i;i||(i={});for(var l=-1,u=t.length;++l<u;){var p=t[l],d=s?s(i[p],e[p],p,i,e):void 0;void 0===d&&(d=e[p]),o?a(i,p,d):r(i,p,d)}return i}},88640:(e,t,i)=>{"use strict";var r=i(67598)["__core-js_shared__"];e.exports=r},40983:(e,t,i)=>{"use strict";var r=i(85590),a=i(7647);e.exports=function(e){return r(function(t,i){var r=-1,s=i.length,o=s>1?i[s-1]:void 0,l=s>2?i[2]:void 0;for(o=e.length>3&&"function"==typeof o?(s--,o):void 0,l&&a(i[0],i[1],l)&&(o=s<3?void 0:o,s=1),t=Object(t);++r<s;){var u=i[r];u&&e(t,u,r,o)}return t})}},65470:(e,t,i)=>{"use strict";var r=i(40567);e.exports=function(e,t){return function(i,a){if(null==i)return i;if(!r(i))return e(i,a);for(var s=i.length,o=t?s:-1,l=Object(i);(t?o--:++o<s)&&!1!==a(l[o],o,l););return i}}},80792:e=>{"use strict";e.exports=function(e){return function(t,i,r){for(var a=-1,s=Object(t),o=r(t),l=o.length;l--;){var u=o[e?l:++a];if(!1===i(s[u],u,s))break}return t}}},86513:(e,t,i)=>{"use strict";var r=i(27542),a=i(25296),s=i(80185),o=r&&1/s(new r([,-0]))[1]==1/0?function(e){return new r(e)}:a;e.exports=o},11248:(e,t,i)=>{"use strict";var r=i(84032),a=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=a},28053:(e,t,i)=>{"use strict";var r=i(35935),a=i(62976),s=i(66173);e.exports=function(e,t,i,o,l,u){var p=1&i,d=e.length,f=t.length;if(d!=f&&!(p&&f>d))return!1;var m=u.get(e),g=u.get(t);if(m&&g)return m==t&&g==e;var b=-1,v=!0,y=2&i?new r:void 0;for(u.set(e,t),u.set(t,e);++b<d;){var x=e[b],w=t[b];if(o)var k=p?o(w,x,b,t,e,u):o(x,w,b,e,t,u);if(void 0!==k){if(k)continue;v=!1;break}if(y){if(!a(t,function(e,t){if(!s(y,t)&&(x===e||l(x,e,i,o,u)))return y.push(t)})){v=!1;break}}else if(!(x===w||l(x,w,i,o,u))){v=!1;break}}return u.delete(e),u.delete(t),v}},65926:(e,t,i)=>{"use strict";var r=i(46377),a=i(34728),s=i(22249),o=i(28053),l=i(69299),u=i(80185),p=r?r.prototype:void 0,d=p?p.valueOf:void 0;e.exports=function(e,t,i,r,p,f,m){switch(i){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!f(new a(e),new a(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return s(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var g=l;case"[object Set]":var b=1&r;if(g||(g=u),e.size!=t.size&&!b)break;var v=m.get(e);if(v)return v==t;r|=2,m.set(e,t);var y=o(g(e),g(t),r,p,f,m);return m.delete(e),y;case"[object Symbol]":if(d)return d.call(e)==d.call(t)}return!1}},43136:(e,t,i)=>{"use strict";var r=i(65397),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,i,s,o,l){var u=1&i,p=r(e),d=p.length;if(d!=r(t).length&&!u)return!1;for(var f=d;f--;){var m=p[f];if(!(u?m in t:a.call(t,m)))return!1}var g=l.get(e),b=l.get(t);if(g&&b)return g==t&&b==e;var v=!0;l.set(e,t),l.set(t,e);for(var y=u;++f<d;){var x=e[m=p[f]],w=t[m];if(s)var k=u?s(w,x,m,t,e,l):s(x,w,m,e,t,l);if(!(void 0===k?x===w||o(x,w,i,s,l):k)){v=!1;break}y||(y="constructor"==m)}if(v&&!y){var _=e.constructor,S=t.constructor;_!=S&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof S&&S instanceof S)&&(v=!1)}return l.delete(e),l.delete(t),v}},25533:(e,t,i)=>{"use strict";var r=i(86113),a=i(71194),s=i(43394);e.exports=function(e){return s(a(e,void 0,r),e+"")}},22335:e=>{"use strict";var t="object"==typeof global&&global&&global.Object===Object&&global;e.exports=t},65397:(e,t,i)=>{"use strict";var r=i(30380),a=i(53420),s=i(1290);e.exports=function(e){return r(e,s,a)}},41373:(e,t,i)=>{"use strict";var r=i(22157);e.exports=function(e,t){var i=e.__data__;return r(t)?i["string"==typeof t?"string":"hash"]:i.map}},39257:(e,t,i)=>{"use strict";var r=i(33954),a=i(1290);e.exports=function(e){for(var t=a(e),i=t.length;i--;){var s=t[i],o=e[s];t[i]=[s,o,r(o)]}return t}},84032:(e,t,i)=>{"use strict";var r=i(98471),a=i(87868);e.exports=function(e,t){var i=a(e,t);return r(i)?i:void 0}},38167:(e,t,i)=>{"use strict";var r=i(1600)(Object.getPrototypeOf,Object);e.exports=r},51370:(e,t,i)=>{"use strict";var r=i(46377),a=Object.prototype,s=a.hasOwnProperty,o=a.toString,l=r?r.toStringTag:void 0;e.exports=function(e){var t=s.call(e,l),i=e[l];try{e[l]=void 0;var r=!0}catch(e){}var a=o.call(e);return r&&(t?e[l]=i:delete e[l]),a}},53420:(e,t,i)=>{"use strict";var r=i(85376),a=i(59276),s=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,l=o?function(e){return null==e?[]:r(o(e=Object(e)),function(t){return s.call(e,t)})}:a;e.exports=l},50752:(e,t,i)=>{"use strict";var r=i(22392),a=i(67597),s=i(89840),o=i(27542),l=i(2082),u=i(65945),p=i(13318),d="[object Map]",f="[object Promise]",m="[object Set]",g="[object WeakMap]",b="[object DataView]",v=p(r),y=p(a),x=p(s),w=p(o),k=p(l),_=u;(r&&_(new r(new ArrayBuffer(1)))!=b||a&&_(new a)!=d||s&&_(s.resolve())!=f||o&&_(new o)!=m||l&&_(new l)!=g)&&(_=function(e){var t=u(e),i="[object Object]"==t?e.constructor:void 0,r=i?p(i):"";if(r)switch(r){case v:return b;case y:return d;case x:return f;case w:return m;case k:return g}return t}),e.exports=_},87868:e=>{"use strict";e.exports=function(e,t){return null==e?void 0:e[t]}},8854:(e,t,i)=>{"use strict";var r=i(96601),a=i(55095),s=i(71166),o=i(44570),l=i(19723),u=i(14711);e.exports=function(e,t,i){t=r(t,e);for(var p=-1,d=t.length,f=!1;++p<d;){var m=u(t[p]);if(!(f=null!=e&&i(e,m)))break;e=e[m]}return f||++p!=d?f:!!(d=null==e?0:e.length)&&l(d)&&o(m,d)&&(s(e)||a(e))}},67931:(e,t,i)=>{"use strict";var r=i(65714);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},48514:e=>{"use strict";e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},79633:(e,t,i)=>{"use strict";var r=i(65714),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var i=t[e];return"__lodash_hash_undefined__"===i?void 0:i}return a.call(t,e)?t[e]:void 0}},6125:(e,t,i)=>{"use strict";var r=i(65714),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}},78410:(e,t,i)=>{"use strict";var r=i(65714);e.exports=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},56692:(e,t,i)=>{"use strict";var r=i(3206),a=i(38167),s=i(45782);e.exports=function(e){return"function"!=typeof e.constructor||s(e)?{}:r(a(e))}},12183:(e,t,i)=>{"use strict";var r=i(46377),a=i(55095),s=i(71166),o=r?r.isConcatSpreadable:void 0;e.exports=function(e){return s(e)||a(e)||!!(o&&e&&e[o])}},44570:e=>{"use strict";var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,i){var r=typeof e;return!!(i=null==i?9007199254740991:i)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<i}},7647:(e,t,i)=>{"use strict";var r=i(22249),a=i(40567),s=i(44570),o=i(60986);e.exports=function(e,t,i){if(!o(i))return!1;var l=typeof t;return("number"==l?!!(a(i)&&s(t,i.length)):"string"==l&&t in i)&&r(i[t],e)}},997:(e,t,i)=>{"use strict";var r=i(71166),a=i(56381),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var i=typeof e;return!!("number"==i||"symbol"==i||"boolean"==i||null==e||a(e))||o.test(e)||!s.test(e)||null!=t&&e in Object(t)}},22157:e=>{"use strict";e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},33297:(e,t,i)=>{"use strict";var r=i(88640),a=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!a&&a in e}},45782:e=>{"use strict";var t=Object.prototype;e.exports=function(e){var i=e&&e.constructor;return e===("function"==typeof i&&i.prototype||t)}},33954:(e,t,i)=>{"use strict";var r=i(60986);e.exports=function(e){return e==e&&!r(e)}},31547:e=>{"use strict";e.exports=function(){this.__data__=[],this.size=0}},30543:(e,t,i)=>{"use strict";var r=i(12708),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,i=r(t,e);return!(i<0)&&(i==t.length-1?t.pop():a.call(t,i,1),--this.size,!0)}},75046:(e,t,i)=>{"use strict";var r=i(12708);e.exports=function(e){var t=this.__data__,i=r(t,e);return i<0?void 0:t[i][1]}},45341:(e,t,i)=>{"use strict";var r=i(12708);e.exports=function(e){return r(this.__data__,e)>-1}},93205:(e,t,i)=>{"use strict";var r=i(12708);e.exports=function(e,t){var i=this.__data__,a=r(i,e);return a<0?(++this.size,i.push([e,t])):i[a][1]=t,this}},61609:(e,t,i)=>{"use strict";var r=i(75216),a=i(32230),s=i(67597);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(s||a),string:new r}}},44135:(e,t,i)=>{"use strict";var r=i(41373);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},52460:(e,t,i)=>{"use strict";var r=i(41373);e.exports=function(e){return r(this,e).get(e)}},76269:(e,t,i)=>{"use strict";var r=i(41373);e.exports=function(e){return r(this,e).has(e)}},81762:(e,t,i)=>{"use strict";var r=i(41373);e.exports=function(e,t){var i=r(this,e),a=i.size;return i.set(e,t),this.size+=i.size==a?0:1,this}},69299:e=>{"use strict";e.exports=function(e){var t=-1,i=Array(e.size);return e.forEach(function(e,r){i[++t]=[r,e]}),i}},30273:e=>{"use strict";e.exports=function(e,t){return function(i){return null!=i&&i[e]===t&&(void 0!==t||e in Object(i))}}},53207:(e,t,i)=>{"use strict";var r=i(84722);e.exports=function(e){var t=r(e,function(e){return 500===i.size&&i.clear(),e}),i=t.cache;return t}},65714:(e,t,i)=>{"use strict";var r=i(84032)(Object,"create");e.exports=r},35793:(e,t,i)=>{"use strict";var r=i(1600)(Object.keys,Object);e.exports=r},69990:e=>{"use strict";e.exports=function(e){var t=[];if(null!=e)for(var i in Object(e))t.push(i);return t}},63203:(e,t,i)=>{"use strict";e=i.nmd(e);var r=i(22335),a=t&&!t.nodeType&&t,s=a&&e&&!e.nodeType&&e,o=s&&s.exports===a&&r.process,l=function(){try{var e=s&&s.require&&s.require("util").types;if(e)return e;return o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=l},33517:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},1600:e=>{"use strict";e.exports=function(e,t){return function(i){return e(t(i))}}},71194:(e,t,i)=>{"use strict";var r=i(90717),a=Math.max;e.exports=function(e,t,i){return t=a(void 0===t?e.length-1:t,0),function(){for(var s=arguments,o=-1,l=a(s.length-t,0),u=Array(l);++o<l;)u[o]=s[t+o];o=-1;for(var p=Array(t+1);++o<t;)p[o]=s[o];return p[t]=i(u),r(e,this,p)}}},67598:(e,t,i)=>{"use strict";var r=i(22335),a="object"==typeof self&&self&&self.Object===Object&&self,s=r||a||Function("return this")();e.exports=s},80573:e=>{"use strict";e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},34666:e=>{"use strict";e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},68760:e=>{"use strict";e.exports=function(e){return this.__data__.has(e)}},80185:e=>{"use strict";e.exports=function(e){var t=-1,i=Array(e.size);return e.forEach(function(e){i[++t]=e}),i}},43394:(e,t,i)=>{"use strict";var r=i(36984),a=i(60123)(r);e.exports=a},60123:e=>{"use strict";var t=Date.now;e.exports=function(e){var i=0,r=0;return function(){var a=t(),s=16-(a-r);if(r=a,s>0){if(++i>=800)return arguments[0]}else i=0;return e.apply(void 0,arguments)}}},36366:(e,t,i)=>{"use strict";var r=i(32230);e.exports=function(){this.__data__=new r,this.size=0}},53102:e=>{"use strict";e.exports=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}},4406:e=>{"use strict";e.exports=function(e){return this.__data__.get(e)}},63311:e=>{"use strict";e.exports=function(e){return this.__data__.has(e)}},46215:(e,t,i)=>{"use strict";var r=i(32230),a=i(67597),s=i(67830);e.exports=function(e,t){var i=this.__data__;if(i instanceof r){var o=i.__data__;if(!a||o.length<199)return o.push([e,t]),this.size=++i.size,this;i=this.__data__=new s(o)}return i.set(e,t),this.size=i.size,this}},73048:e=>{"use strict";e.exports=function(e,t,i){for(var r=i-1,a=e.length;++r<a;)if(e[r]===t)return r;return -1}},31110:(e,t,i)=>{"use strict";var r=i(53207),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,o=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,function(e,i,r,a){t.push(r?a.replace(s,"$1"):i||e)}),t});e.exports=o},14711:(e,t,i)=>{"use strict";var r=i(56381),a=1/0;e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}},13318:e=>{"use strict";var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},56853:e=>{"use strict";e.exports=function(e){return function(){return e}}},22249:e=>{"use strict";e.exports=function(e,t){return e===t||e!=e&&t!=t}},86113:(e,t,i)=>{"use strict";var r=i(2572);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},41365:(e,t,i)=>{"use strict";var r=i(35915);e.exports=function(e,t,i){var a=null==e?void 0:r(e,t);return void 0===a?i:a}},95600:(e,t,i)=>{"use strict";var r=i(91414),a=i(8854);e.exports=function(e,t){return null!=e&&a(e,t,r)}},87517:e=>{"use strict";e.exports=function(e){return e}},55095:(e,t,i)=>{"use strict";var r=i(10534),a=i(12111),s=Object.prototype,o=s.hasOwnProperty,l=s.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return a(e)&&o.call(e,"callee")&&!l.call(e,"callee")};e.exports=u},71166:e=>{"use strict";var t=Array.isArray;e.exports=t},40567:(e,t,i)=>{"use strict";var r=i(51282),a=i(19723);e.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},92833:(e,t,i)=>{"use strict";var r=i(40567),a=i(12111);e.exports=function(e){return a(e)&&r(e)}},84458:(e,t,i)=>{"use strict";e=i.nmd(e);var r=i(67598),a=i(66012),s=t&&!t.nodeType&&t,o=s&&e&&!e.nodeType&&e,l=o&&o.exports===s?r.Buffer:void 0,u=l?l.isBuffer:void 0;e.exports=u||a},1529:(e,t,i)=>{"use strict";var r=i(45417),a=i(42454),s=i(63203),o=s&&s.isDate,l=o?a(o):r;e.exports=l},1149:(e,t,i)=>{"use strict";var r=i(29511);e.exports=function(e,t){return r(e,t)}},51282:(e,t,i)=>{"use strict";var r=i(65945),a=i(60986);e.exports=function(e){if(!a(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},19723:e=>{"use strict";e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},60986:e=>{"use strict";e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},12111:e=>{"use strict";e.exports=function(e){return null!=e&&"object"==typeof e}},24319:(e,t,i)=>{"use strict";var r=i(65945),a=i(38167),s=i(12111),o=Object.prototype,l=Function.prototype.toString,u=o.hasOwnProperty,p=l.call(Object);e.exports=function(e){if(!s(e)||"[object Object]"!=r(e))return!1;var t=a(e);if(null===t)return!0;var i=u.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&l.call(i)==p}},62055:(e,t,i)=>{"use strict";var r=i(65945),a=i(71166),s=i(12111);e.exports=function(e){return"string"==typeof e||!a(e)&&s(e)&&"[object String]"==r(e)}},56381:(e,t,i)=>{"use strict";var r=i(65945),a=i(12111);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},55789:(e,t,i)=>{"use strict";var r=i(60077),a=i(42454),s=i(63203),o=s&&s.isTypedArray,l=o?a(o):r;e.exports=l},1290:(e,t,i)=>{"use strict";var r=i(63612),a=i(3425),s=i(40567);e.exports=function(e){return s(e)?r(e):a(e)}},88283:(e,t,i)=>{"use strict";var r=i(63612),a=i(21445),s=i(40567);e.exports=function(e){return s(e)?r(e,!0):a(e)}},10182:e=>{"use strict";e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},84722:(e,t,i)=>{"use strict";var r=i(67830);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw TypeError("Expected a function");var i=function(){var r=arguments,a=t?t.apply(this,r):r[0],s=i.cache;if(s.has(a))return s.get(a);var o=e.apply(this,r);return i.cache=s.set(a,o)||s,o};return i.cache=new(a.Cache||r),i}a.Cache=r,e.exports=a},2203:(e,t,i)=>{"use strict";var r=i(97004),a=i(40983)(function(e,t,i){r(e,t,i)});e.exports=a},25296:e=>{"use strict";e.exports=function(){}},81741:(e,t,i)=>{"use strict";var r=i(24492),a=i(25533)(function(e,t){return null==e?{}:r(e,t)});e.exports=a},14906:(e,t,i)=>{"use strict";var r=i(97787),a=i(67242),s=i(997),o=i(14711);e.exports=function(e){return s(e)?r(o(e)):a(e)}},50847:(e,t,i)=>{"use strict";var r=i(91808);e.exports=function(e,t,i){return null==e?e:r(e,t,i)}},16476:(e,t,i)=>{"use strict";var r=i(2572),a=i(55335),s=i(85590),o=i(7647),l=s(function(e,t){if(null==e)return[];var i=t.length;return i>1&&o(e,t[0],t[1])?t=[]:i>2&&o(t[0],t[1],t[2])&&(t=[t[0]]),a(e,r(t,1),[])});e.exports=l},59276:e=>{"use strict";e.exports=function(){return[]}},66012:e=>{"use strict";e.exports=function(){return!1}},92455:(e,t,i)=>{"use strict";var r=i(52760),a=i(88283);e.exports=function(e){return r(e,a(e))}},64294:(e,t,i)=>{"use strict";var r=i(46584);e.exports=function(e){return null==e?"":r(e)}},59828:(e,t,i)=>{"use strict";var r=i(62634);e.exports=function(e){return e&&e.length?r(e):[]}},99541:(e,t,i)=>{"use strict";var r=i(69373),a=i(62634);e.exports=function(e,t){return e&&e.length?a(e,r(t,2)):[]}},96472:(e,t,i)=>{"use strict";var r=i(89075),a=i(85590),s=i(92833),o=a(function(e,t){return s(e)?r(e,t):[]});e.exports=o},68818:(e,t,i)=>{"use strict";/*!
 * mime-db
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015-2022 Douglas Christopher Wilson
 * MIT Licensed
 */e.exports=i(40572)},63830:(e,t,i)=>{"use strict";/*!
 * mime-types
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var r=i(68818),a=i(71017).extname,s=/^\s*([^;\s]*)(?:;|\s|$)/,o=/^text\//i;function l(e){if(!e||"string"!=typeof e)return!1;var t=s.exec(e),i=t&&r[t[1].toLowerCase()];return i&&i.charset?i.charset:!!(t&&o.test(t[1]))&&"UTF-8"}t.charset=l,t.charsets={lookup:l},t.contentType=function(e){if(!e||"string"!=typeof e)return!1;var i=-1===e.indexOf("/")?t.lookup(e):e;if(!i)return!1;if(-1===i.indexOf("charset")){var r=t.charset(i);r&&(i+="; charset="+r.toLowerCase())}return i},t.extension=function(e){if(!e||"string"!=typeof e)return!1;var i=s.exec(e),r=i&&t.extensions[i[1].toLowerCase()];return!!r&&!!r.length&&r[0]},t.extensions=Object.create(null),t.lookup=function(e){if(!e||"string"!=typeof e)return!1;var i=a("x."+e).toLowerCase().substr(1);return!!i&&(t.types[i]||!1)},t.types=Object.create(null),function(e,t){var i=["nginx","apache",void 0,"iana"];Object.keys(r).forEach(function(a){var s=r[a],o=s.extensions;if(o&&o.length){e[a]=o;for(var l=0;l<o.length;l++){var u=o[l];if(t[u]){var p=i.indexOf(r[t[u]].source),d=i.indexOf(s.source);if("application/octet-stream"!==t[u]&&(p>d||p===d&&"application/"===t[u].substr(0,12)))continue}t[u]=a}}})}(t.extensions,t.types)},58476:e=>{"use strict";function t(e,t,i,r){return Math.round(e/i)+" "+r+(t>=1.5*i?"s":"")}e.exports=function(e,i){i=i||{};var r,a,s=typeof e;if("string"===s&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var i=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"weeks":case"week":case"w":return 6048e5*i;case"days":case"day":case"d":return 864e5*i;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*i;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*i;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}(e);if("number"===s&&isFinite(e))return i.long?(r=Math.abs(e))>=864e5?t(e,r,864e5,"day"):r>=36e5?t(e,r,36e5,"hour"):r>=6e4?t(e,r,6e4,"minute"):r>=1e3?t(e,r,1e3,"second"):e+" ms":(a=Math.abs(e))>=864e5?Math.round(e/864e5)+"d":a>=36e5?Math.round(e/36e5)+"h":a>=6e4?Math.round(e/6e4)+"m":a>=1e3?Math.round(e/1e3)+"s":e+"ms";throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},8428:(e,t,i)=>{"use strict";var r=i(14767);i.o(r,"useParams")&&i.d(t,{useParams:function(){return r.useParams}}),i.o(r,"usePathname")&&i.d(t,{usePathname:function(){return r.usePathname}})},21541:(e,t,i)=>{"use strict";var r=i(40378);function a(){}function s(){}s.resetWarningCache=a,e.exports=function(){function e(e,t,i,a,s,o){if(o!==r){var l=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var i={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:a};return i.PropTypes=i,i}},7470:(e,t,i)=>{"use strict";e.exports=i(21541)()},40378:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},86886:(e,t,i)=>{"use strict";var r=i(57310).parse,a={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},s=String.prototype.endsWith||function(e){return e.length<=this.length&&-1!==this.indexOf(e,this.length-e.length)};function o(e){return process.env[e.toLowerCase()]||process.env[e.toUpperCase()]||""}t.j=function(e){var t,i,l,u="string"==typeof e?r(e):e||{},p=u.protocol,d=u.host,f=u.port;if("string"!=typeof d||!d||"string"!=typeof p||(p=p.split(":",1)[0],t=d=d.replace(/:\d*$/,""),i=f=parseInt(f)||a[p]||0,!(!(l=(o("npm_config_no_proxy")||o("no_proxy")).toLowerCase())||"*"!==l&&l.split(/[,\s]/).every(function(e){if(!e)return!0;var r=e.match(/^(.+):(\d+)$/),a=r?r[1]:e,o=r?parseInt(r[2]):0;return!!o&&o!==i||(/^[.*]/.test(a)?("*"===a.charAt(0)&&(a=a.slice(1)),!s.call(t,a)):t!==a)}))))return"";var m=o("npm_config_"+p+"_proxy")||o(p+"_proxy")||o("npm_config_proxy")||o("all_proxy");return m&&-1===m.indexOf("://")&&(m=p+"://"+m),m}},5299:(e,t,i)=>{"use strict";/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var r=i(14300),a=r.Buffer;function s(e,t){for(var i in e)t[i]=e[i]}function o(e,t,i){return a(e,t,i)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=r:(s(r,t),t.Buffer=o),o.prototype=Object.create(a.prototype),s(a,o),o.from=function(e,t,i){if("number"==typeof e)throw TypeError("Argument must not be a number");return a(e,t,i)},o.alloc=function(e,t,i){if("number"!=typeof e)throw TypeError("Argument must be a number");var r=a(e);return void 0!==t?"string"==typeof i?r.fill(t,i):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return a(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return r.SlowBuffer(e)}},14819:e=>{"use strict";var t=e.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=(null!=e.raddr?" raddr %s rport %d":"%v%v")+(null!=e.tcptype?" tcptype %s":"%v"),null!=e.generation&&(t+=" generation %d"),t+=(null!=e["network-id"]?" network-id %d":"%v")+(null!=e["network-cost"]?" network-cost %d":"%v")}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){return"mediaclk:"+((null!=e.id?"id=%s %s":"%v%s")+(null!=e.mediaClockValue?"=%s":"")+(null!=e.rateNumerator?" rate=%s":""))+(null!=e.rateDenominator?"/%s":"")}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(t).forEach(function(e){t[e].forEach(function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")})})},37242:(e,t,i)=>{var r=i(63986),a=i(2216);t.cW=a,t.Qc=r.parse,r.parseParams,r.parseFmtpConfig,r.parsePayloads,r.parseRemoteCandidates,r.parseImageAttributes,r.parseSimulcastStreamList},63986:(e,t,i)=>{var r=function(e){return String(Number(e))===e?Number(e):e},a=function(e,t,i,a){if(a&&!i)t[a]=r(e[1]);else for(var s=0;s<i.length;s+=1)null!=e[s+1]&&(t[i[s]]=r(e[s+1]))},s=function(e,t,i){var r=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:r&&!t[e.name]&&(t[e.name]={});var s=e.push?{}:r?t[e.name]:t;a(i.match(e.reg),s,e.names,e.name),e.push&&t[e.push].push(s)},o=i(14819),l=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},i=[],r=t;return e.split(/(\r\n|\r|\n)/).filter(l).forEach(function(e){var t=e[0],a=e.slice(2);"m"===t&&(i.push({rtp:[],fmtp:[]}),r=i[i.length-1]);for(var l=0;l<(o[t]||[]).length;l+=1){var u=o[t][l];if(u.reg.test(a))return s(u,r,a)}}),t.media=i,t};var u=function(e,t){var i=t.split(/=(.+)/,2);return 2===i.length?e[i[0]]=r(i[1]):1===i.length&&t.length>1&&(e[i[0]]=void 0),e};t.parseParams=function(e){return e.split(/;\s?/).reduce(u,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(e){return e.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(e){for(var t=[],i=e.split(" ").map(r),a=0;a<i.length;a+=3)t.push({component:i[a],ip:i[a+1],port:i[a+2]});return t},t.parseImageAttributes=function(e){return e.split(" ").map(function(e){return e.substring(1,e.length-1).split(",").reduce(u,{})})},t.parseSimulcastStreamList=function(e){return e.split(";").map(function(e){return e.split(",").map(function(e){var t,i=!1;return"~"!==e[0]?t=r(e):(t=r(e.substring(1,e.length)),i=!0),{scid:t,paused:i}})})}},2216:(e,t,i)=>{"use strict";var r=i(14819),a=/%[sdv%]/g,s=function(e){var t=1,i=arguments,r=i.length;return e.replace(a,function(e){if(t>=r)return e;var a=i[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(a);case"%d":return Number(a);case"%v":return""}})},o=function(e,t,i){var r=[e+"="+(t.format instanceof Function?t.format(t.push?i:i[t.name]):t.format)];if(t.names)for(var a=0;a<t.names.length;a+=1){var o=t.names[a];t.name?r.push(i[t.name][o]):r.push(i[t.names[a]])}else r.push(i[t.name]);return s.apply(null,r)},l=["v","o","s","i","u","e","p","c","b","t","r","z","a"],u=["i","c","b","a"];e.exports=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach(function(e){null==e.payloads&&(e.payloads="")});var i=t.outerOrder||l,a=t.innerOrder||u,s=[];return i.forEach(function(t){r[t].forEach(function(i){i.name in e&&null!=e[i.name]?s.push(o(t,i,e)):i.push in e&&null!=e[i.push]&&e[i.push].forEach(function(e){s.push(o(t,i,e))})})}),e.media.forEach(function(e){s.push(o("m",r.m[0],e)),a.forEach(function(t){r[t].forEach(function(i){i.name in e&&null!=e[i.name]?s.push(o(t,i,e)):i.push in e&&null!=e[i.push]&&e[i.push].forEach(function(e){s.push(o(t,i,e))})})})}),s.join("\r\n")+"\r\n"}},1388:e=>{"use strict";let t={};t.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map(e=>e.trim())},t.splitSections=function(e){return e.split("\nm=").map((e,t)=>(t>0?"m="+e:e).trim()+"\r\n")},t.getDescription=function(e){let i=t.splitSections(e);return i&&i[0]},t.getMediaSections=function(e){let i=t.splitSections(e);return i.shift(),i},t.matchPrefix=function(e,i){return t.splitLines(e).filter(e=>0===e.indexOf(i))},t.parseCandidate=function(e){let t;let i={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:{1:"rtp",2:"rtcp"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]};for(let e=8;e<t.length;e+=2)switch(t[e]){case"raddr":i.relatedAddress=t[e+1];break;case"rport":i.relatedPort=parseInt(t[e+1],10);break;case"tcptype":i.tcpType=t[e+1];break;case"ufrag":i.ufrag=t[e+1],i.usernameFragment=t[e+1];break;default:void 0===i[t[e]]&&(i[t[e]]=t[e+1])}return i},t.writeCandidate=function(e){let t=[];t.push(e.foundation);let i=e.component;"rtp"===i?t.push(1):"rtcp"===i?t.push(2):t.push(i),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);let r=e.type;return t.push("typ"),t.push(r),"host"!==r&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substring(14).split(" ")},t.parseRtpMap=function(e){let t=e.substring(9).split(" "),i={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),i.name=t[0],i.clockRate=parseInt(t[1],10),i.channels=3===t.length?parseInt(t[2],10):1,i.numChannels=i.channels,i},t.writeRtpMap=function(e){let t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);let i=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==i?"/"+i:"")+"\r\n"},t.parseExtmap=function(e){let t=e.substring(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1],attributes:t.slice(2).join(" ")}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+(e.attributes?" "+e.attributes:"")+"\r\n"},t.parseFmtp=function(e){let t;let i={},r=e.substring(e.indexOf(" ")+1).split(";");for(let e=0;e<r.length;e++)i[(t=r[e].trim().split("="))[0].trim()]=t[1];return i},t.writeFmtp=function(e){let t="",i=e.payloadType;if(void 0!==e.preferredPayloadType&&(i=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){let r=[];Object.keys(e.parameters).forEach(t=>{void 0!==e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)}),t+="a=fmtp:"+i+" "+r.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){let t=e.substring(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){let t="",i=e.payloadType;return void 0!==e.preferredPayloadType&&(i=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(e=>{t+="a=rtcp-fb:"+i+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"}),t},t.parseSsrcMedia=function(e){let t=e.indexOf(" "),i={ssrc:parseInt(e.substring(7,t),10)},r=e.indexOf(":",t);return r>-1?(i.attribute=e.substring(t+1,r),i.value=e.substring(r+1)):i.attribute=e.substring(t+1),i},t.parseSsrcGroup=function(e){let t=e.substring(13).split(" ");return{semantics:t.shift(),ssrcs:t.map(e=>parseInt(e,10))}},t.getMid=function(e){let i=t.matchPrefix(e,"a=mid:")[0];if(i)return i.substring(6)},t.parseFingerprint=function(e){let t=e.substring(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},t.getDtlsParameters=function(e,i){return{role:"auto",fingerprints:t.matchPrefix(e+i,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){let i="a=setup:"+t+"\r\n";return e.fingerprints.forEach(e=>{i+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"}),i},t.parseCryptoLine=function(e){let t=e.substring(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;let t=e.substring(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,i){return t.matchPrefix(e+i,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,i){let r=t.matchPrefix(e+i,"a=ice-ufrag:")[0],a=t.matchPrefix(e+i,"a=ice-pwd:")[0];return r&&a?{usernameFragment:r.substring(12),password:a.substring(10)}:null},t.writeIceParameters=function(e){let t="a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n";return e.iceLite&&(t+="a=ice-lite\r\n"),t},t.parseRtpParameters=function(e){let i={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=t.splitLines(e)[0].split(" ");i.profile=r[2];for(let a=3;a<r.length;a++){let s=r[a],o=t.matchPrefix(e,"a=rtpmap:"+s+" ")[0];if(o){let r=t.parseRtpMap(o),a=t.matchPrefix(e,"a=fmtp:"+s+" ");switch(r.parameters=a.length?t.parseFmtp(a[0]):{},r.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+s+" ").map(t.parseRtcpFb),i.codecs.push(r),r.name.toUpperCase()){case"RED":case"ULPFEC":i.fecMechanisms.push(r.name.toUpperCase())}}}t.matchPrefix(e,"a=extmap:").forEach(e=>{i.headerExtensions.push(t.parseExtmap(e))});let a=t.matchPrefix(e,"a=rtcp-fb:* ").map(t.parseRtcpFb);return i.codecs.forEach(e=>{a.forEach(t=>{e.rtcpFeedback.find(e=>e.type===t.type&&e.parameter===t.parameter)||e.rtcpFeedback.push(t)})}),i},t.writeRtpDescription=function(e,i){let r="";r+="m="+e+" "+(i.codecs.length>0?"9":"0")+" "+(i.profile||"UDP/TLS/RTP/SAVPF")+" "+i.codecs.map(e=>void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType).join(" ")+"\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\n",i.codecs.forEach(e=>{r+=t.writeRtpMap(e)+t.writeFmtp(e)+t.writeRtcpFb(e)});let a=0;return i.codecs.forEach(e=>{e.maxptime>a&&(a=e.maxptime)}),a>0&&(r+="a=maxptime:"+a+"\r\n"),i.headerExtensions&&i.headerExtensions.forEach(e=>{r+=t.writeExtmap(e)}),r},t.parseRtpEncodingParameters=function(e){let i;let r=[],a=t.parseRtpParameters(e),s=-1!==a.fecMechanisms.indexOf("RED"),o=-1!==a.fecMechanisms.indexOf("ULPFEC"),l=t.matchPrefix(e,"a=ssrc:").map(e=>t.parseSsrcMedia(e)).filter(e=>"cname"===e.attribute),u=l.length>0&&l[0].ssrc,p=t.matchPrefix(e,"a=ssrc-group:FID").map(e=>e.substring(17).split(" ").map(e=>parseInt(e,10)));p.length>0&&p[0].length>1&&p[0][0]===u&&(i=p[0][1]),a.codecs.forEach(e=>{if("RTX"===e.name.toUpperCase()&&e.parameters.apt){let t={ssrc:u,codecPayloadType:parseInt(e.parameters.apt,10)};u&&i&&(t.rtx={ssrc:i}),r.push(t),s&&((t=JSON.parse(JSON.stringify(t))).fec={ssrc:u,mechanism:o?"red+ulpfec":"red"},r.push(t))}}),0===r.length&&u&&r.push({ssrc:u});let d=t.matchPrefix(e,"b=");return d.length&&(d=0===d[0].indexOf("b=TIAS:")?parseInt(d[0].substring(7),10):0===d[0].indexOf("b=AS:")?950*parseInt(d[0].substring(5),10)-16e3:void 0,r.forEach(e=>{e.maxBitrate=d})),r},t.parseRtcpParameters=function(e){let i={},r=t.matchPrefix(e,"a=ssrc:").map(e=>t.parseSsrcMedia(e)).filter(e=>"cname"===e.attribute)[0];r&&(i.cname=r.value,i.ssrc=r.ssrc);let a=t.matchPrefix(e,"a=rtcp-rsize");i.reducedSize=a.length>0,i.compound=0===a.length;let s=t.matchPrefix(e,"a=rtcp-mux");return i.mux=s.length>0,i},t.writeRtcpParameters=function(e){let t="";return e.reducedSize&&(t+="a=rtcp-rsize\r\n"),e.mux&&(t+="a=rtcp-mux\r\n"),void 0!==e.ssrc&&e.cname&&(t+="a=ssrc:"+e.ssrc+" cname:"+e.cname+"\r\n"),t},t.parseMsid=function(e){let i;let r=t.matchPrefix(e,"a=msid:");if(1===r.length)return{stream:(i=r[0].substring(7).split(" "))[0],track:i[1]};let a=t.matchPrefix(e,"a=ssrc:").map(e=>t.parseSsrcMedia(e)).filter(e=>"msid"===e.attribute);if(a.length>0)return{stream:(i=a[0].value.split(" "))[0],track:i[1]}},t.parseSctpDescription=function(e){let i;let r=t.parseMLine(e),a=t.matchPrefix(e,"a=max-message-size:");a.length>0&&(i=parseInt(a[0].substring(19),10)),isNaN(i)&&(i=65536);let s=t.matchPrefix(e,"a=sctp-port:");if(s.length>0)return{port:parseInt(s[0].substring(12),10),protocol:r.fmt,maxMessageSize:i};let o=t.matchPrefix(e,"a=sctpmap:");if(o.length>0){let e=o[0].substring(10).split(" ");return{port:parseInt(e[0],10),protocol:e[1],maxMessageSize:i}}},t.writeSctpDescription=function(e,t){let i=[];return i="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&i.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),i.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(e,i,r){return"v=0\r\no="+(r||"thisisadapterortc")+" "+(e||t.generateSessionId())+" "+(void 0!==i?i:2)+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.getDirection=function(e,i){let r=t.splitLines(e);for(let e=0;e<r.length;e++)switch(r[e]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[e].substring(2)}return i?t.getDirection(i):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substring(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){let i=t.splitLines(e)[0].substring(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},t.parseOLine=function(e){let i=t.matchPrefix(e,"o=")[0].substring(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},t.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;let i=t.splitLines(e);for(let e=0;e<i.length;e++)if(i[e].length<2||"="!==i[e].charAt(1))return!1;return!0},e.exports=t},55778:(e,t,i)=>{"use strict";let r=Symbol("SemVer ANY");class a{static get ANY(){return r}constructor(e,t){if(t=s(t),e instanceof a){if(!!t.loose===e.loose)return e;e=e.value}p("comparator",e=e.trim().split(/\s+/).join(" "),t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,p("comp",this)}parse(e){let t=this.options.loose?o[l.COMPARATORLOOSE]:o[l.COMPARATOR],i=e.match(t);if(!i)throw TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==i[1]?i[1]:"","="===this.operator&&(this.operator=""),i[2]?this.semver=new d(i[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(p("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"==typeof e)try{e=new d(e,this.options)}catch(e){return!1}return u(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof a))throw TypeError("a Comparator is required");return""===this.operator?""===this.value||new f(e.value,t).test(this.value):""===e.operator?""===e.value||new f(this.value,t).test(e.semver):!((t=s(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||u(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||u(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">"))}}e.exports=a;let s=i(52275),{safeRe:o,t:l}=i(81770),u=i(2015),p=i(61472),d=i(88331),f=i(41037)},41037:(e,t,i)=>{"use strict";class r{constructor(e,t){if(t=s(t),e instanceof r){if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;return new r(e.raw,t)}if(e instanceof o)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let e=this.set[0];if(this.set=this.set.filter(e=>!y(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1){for(let e of this.set)if(1===e.length&&x(e[0])){this.set=[e];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let t=((this.options.includePrerelease&&b)|(this.options.loose&&v))+":"+e,i=a.get(t);if(i)return i;let r=this.options.loose,s=r?p[d.HYPHENRANGELOOSE]:p[d.HYPHENRANGE];l("hyphen replace",e=e.replace(s,P(this.options.includePrerelease))),l("comparator trim",e=e.replace(p[d.COMPARATORTRIM],f)),l("tilde trim",e=e.replace(p[d.TILDETRIM],m)),l("caret trim",e=e.replace(p[d.CARETTRIM],g));let u=e.split(" ").map(e=>k(e,this.options)).join(" ").split(/\s+/).map(e=>O(e,this.options));r&&(u=u.filter(e=>(l("loose invalid filter",e,this.options),!!e.match(p[d.COMPARATORLOOSE])))),l("range list",u);let x=new Map;for(let e of u.map(e=>new o(e,this.options))){if(y(e))return[e];x.set(e.value,e)}x.size>1&&x.has("")&&x.delete("");let w=[...x.values()];return a.set(t,w),w}intersects(e,t){if(!(e instanceof r))throw TypeError("a Range is required");return this.set.some(i=>w(i,t)&&e.set.some(e=>w(e,t)&&i.every(i=>e.every(e=>i.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(N(this.set[t],e,this.options))return!0;return!1}}e.exports=r;let a=new(i(47671))({max:1e3}),s=i(52275),o=i(55778),l=i(61472),u=i(88331),{safeRe:p,t:d,comparatorTrimReplace:f,tildeTrimReplace:m,caretTrimReplace:g}=i(81770),{FLAG_INCLUDE_PRERELEASE:b,FLAG_LOOSE:v}=i(2169),y=e=>"<0.0.0-0"===e.value,x=e=>""===e.value,w=(e,t)=>{let i=!0,r=e.slice(),a=r.pop();for(;i&&r.length;)i=r.every(e=>a.intersects(e,t)),a=r.pop();return i},k=(e,t)=>(l("comp",e,t),l("caret",e=C(e,t)),l("tildes",e=S(e,t)),l("xrange",e=R(e,t)),l("stars",e=I(e,t)),e),_=e=>!e||"x"===e.toLowerCase()||"*"===e,S=(e,t)=>e.trim().split(/\s+/).map(e=>T(e,t)).join(" "),T=(e,t)=>{let i=t.loose?p[d.TILDELOOSE]:p[d.TILDE];return e.replace(i,(t,i,r,a,s)=>{let o;return l("tilde",e,t,i,r,a,s),_(i)?o="":_(r)?o=`>=${i}.0.0 <${+i+1}.0.0-0`:_(a)?o=`>=${i}.${r}.0 <${i}.${+r+1}.0-0`:s?(l("replaceTilde pr",s),o=`>=${i}.${r}.${a}-${s} <${i}.${+r+1}.0-0`):o=`>=${i}.${r}.${a} <${i}.${+r+1}.0-0`,l("tilde return",o),o})},C=(e,t)=>e.trim().split(/\s+/).map(e=>E(e,t)).join(" "),E=(e,t)=>{l("caret",e,t);let i=t.loose?p[d.CARETLOOSE]:p[d.CARET],r=t.includePrerelease?"-0":"";return e.replace(i,(t,i,a,s,o)=>{let u;return l("caret",e,t,i,a,s,o),_(i)?u="":_(a)?u=`>=${i}.0.0${r} <${+i+1}.0.0-0`:_(s)?u="0"===i?`>=${i}.${a}.0${r} <${i}.${+a+1}.0-0`:`>=${i}.${a}.0${r} <${+i+1}.0.0-0`:o?(l("replaceCaret pr",o),u="0"===i?"0"===a?`>=${i}.${a}.${s}-${o} <${i}.${a}.${+s+1}-0`:`>=${i}.${a}.${s}-${o} <${i}.${+a+1}.0-0`:`>=${i}.${a}.${s}-${o} <${+i+1}.0.0-0`):(l("no pr"),u="0"===i?"0"===a?`>=${i}.${a}.${s}${r} <${i}.${a}.${+s+1}-0`:`>=${i}.${a}.${s}${r} <${i}.${+a+1}.0-0`:`>=${i}.${a}.${s} <${+i+1}.0.0-0`),l("caret return",u),u})},R=(e,t)=>(l("replaceXRanges",e,t),e.split(/\s+/).map(e=>j(e,t)).join(" ")),j=(e,t)=>{e=e.trim();let i=t.loose?p[d.XRANGELOOSE]:p[d.XRANGE];return e.replace(i,(i,r,a,s,o,u)=>{l("xRange",e,i,r,a,s,o,u);let p=_(a),d=p||_(s),f=d||_(o);return"="===r&&f&&(r=""),u=t.includePrerelease?"-0":"",p?i=">"===r||"<"===r?"<0.0.0-0":"*":r&&f?(d&&(s=0),o=0,">"===r?(r=">=",d?(a=+a+1,s=0):s=+s+1,o=0):"<="===r&&(r="<",d?a=+a+1:s=+s+1),"<"===r&&(u="-0"),i=`${r+a}.${s}.${o}${u}`):d?i=`>=${a}.0.0${u} <${+a+1}.0.0-0`:f&&(i=`>=${a}.${s}.0${u} <${a}.${+s+1}.0-0`),l("xRange return",i),i})},I=(e,t)=>(l("replaceStars",e,t),e.trim().replace(p[d.STAR],"")),O=(e,t)=>(l("replaceGTE0",e,t),e.trim().replace(p[t.includePrerelease?d.GTE0PRE:d.GTE0],"")),P=e=>(t,i,r,a,s,o,l,u,p,d,f,m,g)=>(i=_(r)?"":_(a)?`>=${r}.0.0${e?"-0":""}`:_(s)?`>=${r}.${a}.0${e?"-0":""}`:o?`>=${i}`:`>=${i}${e?"-0":""}`,u=_(p)?"":_(d)?`<${+p+1}.0.0-0`:_(f)?`<${p}.${+d+1}.0-0`:m?`<=${p}.${d}.${f}-${m}`:e?`<${p}.${d}.${+f+1}-0`:`<=${u}`,`${i} ${u}`.trim()),N=(e,t,i)=>{for(let i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(t.prerelease.length&&!i.includePrerelease){for(let i=0;i<e.length;i++)if(l(e[i].semver),e[i].semver!==o.ANY&&e[i].semver.prerelease.length>0){let r=e[i].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0}},88331:(e,t,i)=>{"use strict";let r=i(61472),{MAX_LENGTH:a,MAX_SAFE_INTEGER:s}=i(2169),{safeRe:o,t:l}=i(81770),u=i(52275),{compareIdentifiers:p}=i(37651);class d{constructor(e,t){if(t=u(t),e instanceof d){if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>a)throw TypeError(`version is longer than ${a} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let i=e.trim().match(t.loose?o[l.LOOSE]:o[l.FULL]);if(!i)throw TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>s||this.major<0)throw TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){let t=+e;if(t>=0&&t<s)return t}return e}):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof d)){if("string"==typeof e&&e===this.version)return 0;e=new d(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof d||(e=new d(e,this.options)),p(this.major,e.major)||p(this.minor,e.minor)||p(this.patch,e.patch)}comparePre(e){if(e instanceof d||(e=new d(e,this.options)),this.prerelease.length&&!e.prerelease.length)return -1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let i=this.prerelease[t],a=e.prerelease[t];if(r("prerelease compare",t,i,a),void 0===i&&void 0===a)return 0;if(void 0===a)return 1;if(void 0===i)return -1;if(i===a)continue;else return p(i,a)}while(++t)}compareBuild(e){e instanceof d||(e=new d(e,this.options));let t=0;do{let i=this.build[t],a=e.build[t];if(r("prerelease compare",t,i,a),void 0===i&&void 0===a)return 0;if(void 0===a)return 1;if(void 0===i)return -1;if(i===a)continue;else return p(i,a)}while(++t)}inc(e,t,i){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,i);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,i);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,i),this.inc("pre",t,i);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,i),this.inc("pre",t,i);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{let e=Number(i)?1:0;if(!t&&!1===i)throw Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let r=this.prerelease.length;for(;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(t===this.prerelease.join(".")&&!1===i)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let r=[t,e];!1===i&&(r=[t]),0===p(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=d},65292:(e,t,i)=>{"use strict";let r=i(74473);e.exports=(e,t)=>{let i=r(e.trim().replace(/^[=v]+/,""),t);return i?i.version:null}},2015:(e,t,i)=>{"use strict";let r=i(9637),a=i(12401),s=i(22650),o=i(17140),l=i(49759),u=i(77038);e.exports=(e,t,i,p)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof i&&(i=i.version),e===i;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof i&&(i=i.version),e!==i;case"":case"=":case"==":return r(e,i,p);case"!=":return a(e,i,p);case">":return s(e,i,p);case">=":return o(e,i,p);case"<":return l(e,i,p);case"<=":return u(e,i,p);default:throw TypeError(`Invalid operator: ${t}`)}}},29688:(e,t,i)=>{"use strict";let r=i(88331),a=i(74473),{safeRe:s,t:o}=i(81770);e.exports=(e,t)=>{if(e instanceof r)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let i=null;if((t=t||{}).rtl){let r;let a=t.includePrerelease?s[o.COERCERTLFULL]:s[o.COERCERTL];for(;(r=a.exec(e))&&(!i||i.index+i[0].length!==e.length);)i&&r.index+r[0].length===i.index+i[0].length||(i=r),a.lastIndex=r.index+r[1].length+r[2].length;a.lastIndex=-1}else i=e.match(t.includePrerelease?s[o.COERCEFULL]:s[o.COERCE]);if(null===i)return null;let l=i[2],u=i[3]||"0",p=i[4]||"0",d=t.includePrerelease&&i[5]?`-${i[5]}`:"",f=t.includePrerelease&&i[6]?`+${i[6]}`:"";return a(`${l}.${u}.${p}${d}${f}`,t)}},23820:(e,t,i)=>{"use strict";let r=i(88331);e.exports=(e,t,i)=>{let a=new r(e,i),s=new r(t,i);return a.compare(s)||a.compareBuild(s)}},30944:(e,t,i)=>{"use strict";let r=i(76637);e.exports=(e,t)=>r(e,t,!0)},76637:(e,t,i)=>{"use strict";let r=i(88331);e.exports=(e,t,i)=>new r(e,i).compare(new r(t,i))},18011:(e,t,i)=>{"use strict";let r=i(74473);e.exports=(e,t)=>{let i=r(e,null,!0),a=r(t,null,!0),s=i.compare(a);if(0===s)return null;let o=s>0,l=o?i:a,u=o?a:i,p=!!l.prerelease.length;if(u.prerelease.length&&!p)return u.patch||u.minor?l.patch?"patch":l.minor?"minor":"major":"major";let d=p?"pre":"";return i.major!==a.major?d+"major":i.minor!==a.minor?d+"minor":i.patch!==a.patch?d+"patch":"prerelease"}},9637:(e,t,i)=>{"use strict";let r=i(76637);e.exports=(e,t,i)=>0===r(e,t,i)},22650:(e,t,i)=>{"use strict";let r=i(76637);e.exports=(e,t,i)=>r(e,t,i)>0},17140:(e,t,i)=>{"use strict";let r=i(76637);e.exports=(e,t,i)=>r(e,t,i)>=0},1451:(e,t,i)=>{"use strict";let r=i(88331);e.exports=(e,t,i,a,s)=>{"string"==typeof i&&(s=a,a=i,i=void 0);try{return new r(e instanceof r?e.version:e,i).inc(t,a,s).version}catch(e){return null}}},49759:(e,t,i)=>{"use strict";let r=i(76637);e.exports=(e,t,i)=>0>r(e,t,i)},77038:(e,t,i)=>{"use strict";let r=i(76637);e.exports=(e,t,i)=>0>=r(e,t,i)},4082:(e,t,i)=>{"use strict";let r=i(88331);e.exports=(e,t)=>new r(e,t).major},42323:(e,t,i)=>{"use strict";let r=i(88331);e.exports=(e,t)=>new r(e,t).minor},12401:(e,t,i)=>{"use strict";let r=i(76637);e.exports=(e,t,i)=>0!==r(e,t,i)},74473:(e,t,i)=>{"use strict";let r=i(88331);e.exports=(e,t,i=!1)=>{if(e instanceof r)return e;try{return new r(e,t)}catch(e){if(!i)return null;throw e}}},86527:(e,t,i)=>{"use strict";let r=i(88331);e.exports=(e,t)=>new r(e,t).patch},9722:(e,t,i)=>{"use strict";let r=i(74473);e.exports=(e,t)=>{let i=r(e,t);return i&&i.prerelease.length?i.prerelease:null}},92131:(e,t,i)=>{"use strict";let r=i(76637);e.exports=(e,t,i)=>r(t,e,i)},15349:(e,t,i)=>{"use strict";let r=i(23820);e.exports=(e,t)=>e.sort((e,i)=>r(i,e,t))},45044:(e,t,i)=>{"use strict";let r=i(41037);e.exports=(e,t,i)=>{try{t=new r(t,i)}catch(e){return!1}return t.test(e)}},95760:(e,t,i)=>{"use strict";let r=i(23820);e.exports=(e,t)=>e.sort((e,i)=>r(e,i,t))},5047:(e,t,i)=>{"use strict";let r=i(74473);e.exports=(e,t)=>{let i=r(e,t);return i?i.version:null}},86952:(e,t,i)=>{"use strict";let r=i(81770),a=i(2169),s=i(88331),o=i(37651),l=i(74473),u=i(5047),p=i(65292),d=i(1451),f=i(18011),m=i(4082),g=i(42323),b=i(86527),v=i(9722),y=i(76637),x=i(92131),w=i(30944),k=i(23820),_=i(95760),S=i(15349),T=i(22650),C=i(49759),E=i(9637),R=i(12401),j=i(17140),I=i(77038),O=i(2015),P=i(29688),N=i(55778),A=i(41037),D=i(45044),L=i(94342),U=i(82261),M=i(92419),F=i(19039),$=i(12531),B=i(36937),q=i(36677),V=i(6390),z=i(80107),W=i(60947),H=i(66762);e.exports={parse:l,valid:u,clean:p,inc:d,diff:f,major:m,minor:g,patch:b,prerelease:v,compare:y,rcompare:x,compareLoose:w,compareBuild:k,sort:_,rsort:S,gt:T,lt:C,eq:E,neq:R,gte:j,lte:I,cmp:O,coerce:P,Comparator:N,Range:A,satisfies:D,toComparators:L,maxSatisfying:U,minSatisfying:M,minVersion:F,validRange:$,outside:B,gtr:q,ltr:V,intersects:z,simplifyRange:W,subset:H,SemVer:s,re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:a.SEMVER_SPEC_VERSION,RELEASE_TYPES:a.RELEASE_TYPES,compareIdentifiers:o.compareIdentifiers,rcompareIdentifiers:o.rcompareIdentifiers}},2169:e=>{"use strict";let t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},61472:e=>{"use strict";let t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},37651:e=>{"use strict";let t=/^[0-9]+$/,i=(e,i)=>{let r=t.test(e),a=t.test(i);return r&&a&&(e=+e,i=+i),e===i?0:r&&!a?-1:a&&!r?1:e<i?-1:1};e.exports={compareIdentifiers:i,rcompareIdentifiers:(e,t)=>i(t,e)}},52275:e=>{"use strict";let t=Object.freeze({loose:!0}),i=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:i},81770:(e,t,i)=>{"use strict";let{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:a,MAX_LENGTH:s}=i(2169),o=i(61472),l=(t=e.exports={}).re=[],u=t.safeRe=[],p=t.src=[],d=t.t={},f=0,m="[a-zA-Z0-9-]",g=[["\\s",1],["\\d",s],[m,a]],b=e=>{for(let[t,i]of g)e=e.split(`${t}*`).join(`${t}{0,${i}}`).split(`${t}+`).join(`${t}{1,${i}}`);return e},v=(e,t,i)=>{let r=b(t),a=f++;o(e,a,t),d[e]=a,p[a]=t,l[a]=new RegExp(t,i?"g":void 0),u[a]=new RegExp(r,i?"g":void 0)};v("NUMERICIDENTIFIER","0|[1-9]\\d*"),v("NUMERICIDENTIFIERLOOSE","\\d+"),v("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${m}*`),v("MAINVERSION",`(${p[d.NUMERICIDENTIFIER]})\\.(${p[d.NUMERICIDENTIFIER]})\\.(${p[d.NUMERICIDENTIFIER]})`),v("MAINVERSIONLOOSE",`(${p[d.NUMERICIDENTIFIERLOOSE]})\\.(${p[d.NUMERICIDENTIFIERLOOSE]})\\.(${p[d.NUMERICIDENTIFIERLOOSE]})`),v("PRERELEASEIDENTIFIER",`(?:${p[d.NUMERICIDENTIFIER]}|${p[d.NONNUMERICIDENTIFIER]})`),v("PRERELEASEIDENTIFIERLOOSE",`(?:${p[d.NUMERICIDENTIFIERLOOSE]}|${p[d.NONNUMERICIDENTIFIER]})`),v("PRERELEASE",`(?:-(${p[d.PRERELEASEIDENTIFIER]}(?:\\.${p[d.PRERELEASEIDENTIFIER]})*))`),v("PRERELEASELOOSE",`(?:-?(${p[d.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${p[d.PRERELEASEIDENTIFIERLOOSE]})*))`),v("BUILDIDENTIFIER",`${m}+`),v("BUILD",`(?:\\+(${p[d.BUILDIDENTIFIER]}(?:\\.${p[d.BUILDIDENTIFIER]})*))`),v("FULLPLAIN",`v?${p[d.MAINVERSION]}${p[d.PRERELEASE]}?${p[d.BUILD]}?`),v("FULL",`^${p[d.FULLPLAIN]}$`),v("LOOSEPLAIN",`[v=\\s]*${p[d.MAINVERSIONLOOSE]}${p[d.PRERELEASELOOSE]}?${p[d.BUILD]}?`),v("LOOSE",`^${p[d.LOOSEPLAIN]}$`),v("GTLT","((?:<|>)?=?)"),v("XRANGEIDENTIFIERLOOSE",`${p[d.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),v("XRANGEIDENTIFIER",`${p[d.NUMERICIDENTIFIER]}|x|X|\\*`),v("XRANGEPLAIN",`[v=\\s]*(${p[d.XRANGEIDENTIFIER]})(?:\\.(${p[d.XRANGEIDENTIFIER]})(?:\\.(${p[d.XRANGEIDENTIFIER]})(?:${p[d.PRERELEASE]})?${p[d.BUILD]}?)?)?`),v("XRANGEPLAINLOOSE",`[v=\\s]*(${p[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${p[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${p[d.XRANGEIDENTIFIERLOOSE]})(?:${p[d.PRERELEASELOOSE]})?${p[d.BUILD]}?)?)?`),v("XRANGE",`^${p[d.GTLT]}\\s*${p[d.XRANGEPLAIN]}$`),v("XRANGELOOSE",`^${p[d.GTLT]}\\s*${p[d.XRANGEPLAINLOOSE]}$`),v("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),v("COERCE",`${p[d.COERCEPLAIN]}(?:$|[^\\d])`),v("COERCEFULL",p[d.COERCEPLAIN]+`(?:${p[d.PRERELEASE]})?`+`(?:${p[d.BUILD]})?`+"(?:$|[^\\d])"),v("COERCERTL",p[d.COERCE],!0),v("COERCERTLFULL",p[d.COERCEFULL],!0),v("LONETILDE","(?:~>?)"),v("TILDETRIM",`(\\s*)${p[d.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",v("TILDE",`^${p[d.LONETILDE]}${p[d.XRANGEPLAIN]}$`),v("TILDELOOSE",`^${p[d.LONETILDE]}${p[d.XRANGEPLAINLOOSE]}$`),v("LONECARET","(?:\\^)"),v("CARETTRIM",`(\\s*)${p[d.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",v("CARET",`^${p[d.LONECARET]}${p[d.XRANGEPLAIN]}$`),v("CARETLOOSE",`^${p[d.LONECARET]}${p[d.XRANGEPLAINLOOSE]}$`),v("COMPARATORLOOSE",`^${p[d.GTLT]}\\s*(${p[d.LOOSEPLAIN]})$|^$`),v("COMPARATOR",`^${p[d.GTLT]}\\s*(${p[d.FULLPLAIN]})$|^$`),v("COMPARATORTRIM",`(\\s*)${p[d.GTLT]}\\s*(${p[d.LOOSEPLAIN]}|${p[d.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",v("HYPHENRANGE",`^\\s*(${p[d.XRANGEPLAIN]})\\s+-\\s+(${p[d.XRANGEPLAIN]})\\s*$`),v("HYPHENRANGELOOSE",`^\\s*(${p[d.XRANGEPLAINLOOSE]})\\s+-\\s+(${p[d.XRANGEPLAINLOOSE]})\\s*$`),v("STAR","(<|>)?=?\\s*\\*"),v("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),v("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},47671:(e,t,i)=>{"use strict";let r=i(33207),a=Symbol("max"),s=Symbol("length"),o=Symbol("lengthCalculator"),l=Symbol("allowStale"),u=Symbol("maxAge"),p=Symbol("dispose"),d=Symbol("noDisposeOnSet"),f=Symbol("lruList"),m=Symbol("cache"),g=Symbol("updateAgeOnGet"),b=()=>1;class v{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw TypeError("max must be a non-negative number");this[a]=e.max||1/0;let t=e.length||b;if(this[o]="function"!=typeof t?b:t,this[l]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw TypeError("maxAge must be a number");this[u]=e.maxAge||0,this[p]=e.dispose,this[d]=e.noDisposeOnSet||!1,this[g]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw TypeError("max must be a non-negative number");this[a]=e||1/0,w(this)}get max(){return this[a]}set allowStale(e){this[l]=!!e}get allowStale(){return this[l]}set maxAge(e){if("number"!=typeof e)throw TypeError("maxAge must be a non-negative number");this[u]=e,w(this)}get maxAge(){return this[u]}set lengthCalculator(e){"function"!=typeof e&&(e=b),e!==this[o]&&(this[o]=e,this[s]=0,this[f].forEach(e=>{e.length=this[o](e.value,e.key),this[s]+=e.length})),w(this)}get lengthCalculator(){return this[o]}get length(){return this[s]}get itemCount(){return this[f].length}rforEach(e,t){t=t||this;for(let i=this[f].tail;null!==i;){let r=i.prev;S(this,e,i,t),i=r}}forEach(e,t){t=t||this;for(let i=this[f].head;null!==i;){let r=i.next;S(this,e,i,t),i=r}}keys(){return this[f].toArray().map(e=>e.key)}values(){return this[f].toArray().map(e=>e.value)}reset(){this[p]&&this[f]&&this[f].length&&this[f].forEach(e=>this[p](e.key,e.value)),this[m]=new Map,this[f]=new r,this[s]=0}dump(){return this[f].map(e=>!x(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[f]}set(e,t,i){if((i=i||this[u])&&"number"!=typeof i)throw TypeError("maxAge must be a number");let r=i?Date.now():0,l=this[o](t,e);if(this[m].has(e)){if(l>this[a])return k(this,this[m].get(e)),!1;let o=this[m].get(e).value;return this[p]&&!this[d]&&this[p](e,o.value),o.now=r,o.maxAge=i,o.value=t,this[s]+=l-o.length,o.length=l,this.get(e),w(this),!0}let g=new _(e,t,l,r,i);return g.length>this[a]?(this[p]&&this[p](e,t),!1):(this[s]+=g.length,this[f].unshift(g),this[m].set(e,this[f].head),w(this),!0)}has(e){return!!this[m].has(e)&&!x(this,this[m].get(e).value)}get(e){return y(this,e,!0)}peek(e){return y(this,e,!1)}pop(){let e=this[f].tail;return e?(k(this,e),e.value):null}del(e){k(this,this[m].get(e))}load(e){this.reset();let t=Date.now();for(let i=e.length-1;i>=0;i--){let r=e[i],a=r.e||0;if(0===a)this.set(r.k,r.v);else{let e=a-t;e>0&&this.set(r.k,r.v,e)}}}prune(){this[m].forEach((e,t)=>y(this,t,!1))}}let y=(e,t,i)=>{let r=e[m].get(t);if(r){let t=r.value;if(x(e,t)){if(k(e,r),!e[l])return}else i&&(e[g]&&(r.value.now=Date.now()),e[f].unshiftNode(r));return t.value}},x=(e,t)=>{if(!t||!t.maxAge&&!e[u])return!1;let i=Date.now()-t.now;return t.maxAge?i>t.maxAge:e[u]&&i>e[u]},w=e=>{if(e[s]>e[a])for(let t=e[f].tail;e[s]>e[a]&&null!==t;){let i=t.prev;k(e,t),t=i}},k=(e,t)=>{if(t){let i=t.value;e[p]&&e[p](i.key,i.value),e[s]-=i.length,e[m].delete(i.key),e[f].removeNode(t)}};class _{constructor(e,t,i,r,a){this.key=e,this.value=t,this.length=i,this.now=r,this.maxAge=a||0}}let S=(e,t,i,r)=>{let a=i.value;x(e,a)&&(k(e,i),e[l]||(a=void 0)),a&&t.call(r,a.value,a.key,e)};e.exports=v},36677:(e,t,i)=>{"use strict";let r=i(36937);e.exports=(e,t,i)=>r(e,t,">",i)},80107:(e,t,i)=>{"use strict";let r=i(41037);e.exports=(e,t,i)=>(e=new r(e,i),t=new r(t,i),e.intersects(t,i))},6390:(e,t,i)=>{"use strict";let r=i(36937);e.exports=(e,t,i)=>r(e,t,"<",i)},82261:(e,t,i)=>{"use strict";let r=i(88331),a=i(41037);e.exports=(e,t,i)=>{let s=null,o=null,l=null;try{l=new a(t,i)}catch(e){return null}return e.forEach(e=>{l.test(e)&&(!s||-1===o.compare(e))&&(o=new r(s=e,i))}),s}},92419:(e,t,i)=>{"use strict";let r=i(88331),a=i(41037);e.exports=(e,t,i)=>{let s=null,o=null,l=null;try{l=new a(t,i)}catch(e){return null}return e.forEach(e=>{l.test(e)&&(!s||1===o.compare(e))&&(o=new r(s=e,i))}),s}},19039:(e,t,i)=>{"use strict";let r=i(88331),a=i(41037),s=i(22650);e.exports=(e,t)=>{e=new a(e,t);let i=new r("0.0.0");if(e.test(i)||(i=new r("0.0.0-0"),e.test(i)))return i;i=null;for(let t=0;t<e.set.length;++t){let a=e.set[t],o=null;a.forEach(e=>{let t=new r(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!o||s(t,o))&&(o=t);break;case"<":case"<=":break;default:throw Error(`Unexpected operation: ${e.operator}`)}}),o&&(!i||s(i,o))&&(i=o)}return i&&e.test(i)?i:null}},36937:(e,t,i)=>{"use strict";let r=i(88331),a=i(55778),{ANY:s}=a,o=i(41037),l=i(45044),u=i(22650),p=i(49759),d=i(77038),f=i(17140);e.exports=(e,t,i,m)=>{let g,b,v,y,x;switch(e=new r(e,m),t=new o(t,m),i){case">":g=u,b=d,v=p,y=">",x=">=";break;case"<":g=p,b=f,v=u,y="<",x="<=";break;default:throw TypeError('Must provide a hilo val of "<" or ">"')}if(l(e,t,m))return!1;for(let i=0;i<t.set.length;++i){let r=t.set[i],o=null,l=null;if(r.forEach(e=>{e.semver===s&&(e=new a(">=0.0.0")),o=o||e,l=l||e,g(e.semver,o.semver,m)?o=e:v(e.semver,l.semver,m)&&(l=e)}),o.operator===y||o.operator===x||(!l.operator||l.operator===y)&&b(e,l.semver)||l.operator===x&&v(e,l.semver))return!1}return!0}},60947:(e,t,i)=>{"use strict";let r=i(45044),a=i(76637);e.exports=(e,t,i)=>{let s=[],o=null,l=null,u=e.sort((e,t)=>a(e,t,i));for(let e of u)r(e,t,i)?(l=e,o||(o=e)):(l&&s.push([o,l]),l=null,o=null);o&&s.push([o,null]);let p=[];for(let[e,t]of s)e===t?p.push(e):t||e!==u[0]?t?e===u[0]?p.push(`<=${t}`):p.push(`${e} - ${t}`):p.push(`>=${e}`):p.push("*");let d=p.join(" || "),f="string"==typeof t.raw?t.raw:String(t);return d.length<f.length?d:t}},66762:(e,t,i)=>{"use strict";let r=i(41037),a=i(55778),{ANY:s}=a,o=i(45044),l=i(76637),u=[new a(">=0.0.0-0")],p=[new a(">=0.0.0")],d=(e,t,i)=>{let r,a,d,g,b,v,y;if(e===t)return!0;if(1===e.length&&e[0].semver===s){if(1===t.length&&t[0].semver===s)return!0;e=i.includePrerelease?u:p}if(1===t.length&&t[0].semver===s){if(i.includePrerelease)return!0;t=p}let x=new Set;for(let t of e)">"===t.operator||">="===t.operator?r=f(r,t,i):"<"===t.operator||"<="===t.operator?a=m(a,t,i):x.add(t.semver);if(x.size>1||r&&a&&((d=l(r.semver,a.semver,i))>0||0===d&&(">="!==r.operator||"<="!==a.operator)))return null;for(let e of x){if(r&&!o(e,String(r),i)||a&&!o(e,String(a),i))return null;for(let r of t)if(!o(e,String(r),i))return!1;return!0}let w=!!a&&!i.includePrerelease&&!!a.semver.prerelease.length&&a.semver,k=!!r&&!i.includePrerelease&&!!r.semver.prerelease.length&&r.semver;for(let e of(w&&1===w.prerelease.length&&"<"===a.operator&&0===w.prerelease[0]&&(w=!1),t)){if(y=y||">"===e.operator||">="===e.operator,v=v||"<"===e.operator||"<="===e.operator,r){if(k&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===k.major&&e.semver.minor===k.minor&&e.semver.patch===k.patch&&(k=!1),">"===e.operator||">="===e.operator){if((g=f(r,e,i))===e&&g!==r)return!1}else if(">="===r.operator&&!o(r.semver,String(e),i))return!1}if(a){if(w&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===w.major&&e.semver.minor===w.minor&&e.semver.patch===w.patch&&(w=!1),"<"===e.operator||"<="===e.operator){if((b=m(a,e,i))===e&&b!==a)return!1}else if("<="===a.operator&&!o(a.semver,String(e),i))return!1}if(!e.operator&&(a||r)&&0!==d)return!1}return(!r||!v||!!a||0===d)&&(!a||!y||!!r||0===d)&&!k&&!w},f=(e,t,i)=>{if(!e)return t;let r=l(e.semver,t.semver,i);return r>0?e:r<0?t:">"===t.operator&&">="===e.operator?t:e},m=(e,t,i)=>{if(!e)return t;let r=l(e.semver,t.semver,i);return r<0?e:r>0?t:"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,i={})=>{if(e===t)return!0;e=new r(e,i),t=new r(t,i);let a=!1;n:for(let r of e.set){for(let e of t.set){let t=d(r,e,i);if(a=a||null!==t,t)continue n}if(a)return!1}return!0}},94342:(e,t,i)=>{"use strict";let r=i(41037);e.exports=(e,t)=>new r(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))},12531:(e,t,i)=>{"use strict";let r=i(41037);e.exports=(e,t)=>{try{return new r(e,t).range||"*"}catch(e){return null}}},12903:(e,t,i)=>{"use strict";var r;!function(a,s){var o="function",l="undefined",u="object",p="string",d="major",f="model",m="name",g="type",b="vendor",v="version",y="architecture",x="console",w="mobile",k="tablet",_="smarttv",S="wearable",T="embedded",C="Amazon",E="Apple",R="ASUS",j="BlackBerry",I="Browser",O="Chrome",P="Firefox",N="Google",A="Huawei",D="Microsoft",L="Motorola",U="Opera",M="Samsung",F="Sharp",$="Sony",B="Xiaomi",q="Zebra",V="Facebook",z="Chromium OS",W="Mac OS",H=function(e,t){var i={};for(var r in e)t[r]&&t[r].length%2==0?i[r]=t[r].concat(e[r]):i[r]=e[r];return i},G=function(e){for(var t={},i=0;i<e.length;i++)t[e[i].toUpperCase()]=e[i];return t},K=function(e,t){return typeof e===p&&-1!==Y(t).indexOf(Y(e))},Y=function(e){return e.toLowerCase()},J=function(e,t){if(typeof e===p)return e=e.replace(/^\s\s*/,""),typeof t===l?e:e.substring(0,500)},X=function(e,t){for(var i,r,a,l,p,d,f=0;f<t.length&&!p;){var m=t[f],g=t[f+1];for(i=r=0;i<m.length&&!p&&m[i];)if(p=m[i++].exec(e))for(a=0;a<g.length;a++)d=p[++r],typeof(l=g[a])===u&&l.length>0?2===l.length?typeof l[1]==o?this[l[0]]=l[1].call(this,d):this[l[0]]=l[1]:3===l.length?typeof l[1]!==o||l[1].exec&&l[1].test?this[l[0]]=d?d.replace(l[1],l[2]):s:this[l[0]]=d?l[1].call(this,d,l[2]):s:4===l.length&&(this[l[0]]=d?l[3].call(this,d.replace(l[1],l[2])):s):this[l]=d||s;f+=2}},Q=function(e,t){for(var i in t)if(typeof t[i]===u&&t[i].length>0){for(var r=0;r<t[i].length;r++)if(K(t[i][r],e))return"?"===i?s:i}else if(K(t[i],e))return"?"===i?s:i;return e},Z={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ee={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[v,[m,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[v,[m,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[m,v],[/opios[\/ ]+([\w\.]+)/i],[v,[m,U+" Mini"]],[/\bopr\/([\w\.]+)/i],[v,[m,U]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[v,[m,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[m,v],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[v,[m,"UC"+I]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[v,[m,"WeChat"]],[/konqueror\/([\w\.]+)/i],[v,[m,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[v,[m,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[v,[m,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[v,[m,"Smart Lenovo "+I]],[/(avast|avg)\/([\w\.]+)/i],[[m,/(.+)/,"$1 Secure "+I],v],[/\bfocus\/([\w\.]+)/i],[v,[m,P+" Focus"]],[/\bopt\/([\w\.]+)/i],[v,[m,U+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[v,[m,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[v,[m,"Dolphin"]],[/coast\/([\w\.]+)/i],[v,[m,U+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[v,[m,"MIUI "+I]],[/fxios\/([-\w\.]+)/i],[v,[m,P]],[/\bqihu|(qi?ho?o?|360)browser/i],[[m,"360 "+I]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[m,/(.+)/,"$1 "+I],v],[/samsungbrowser\/([\w\.]+)/i],[v,[m,M+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[m,/_/g," "],v],[/metasr[\/ ]?([\d\.]+)/i],[v,[m,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[m,"Sogou Mobile"],v],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[m,v],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[m],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[m,V],v],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[m,v],[/\bgsa\/([\w\.]+) .*safari\//i],[v,[m,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[v,[m,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[v,[m,O+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[m,O+" WebView"],v],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[v,[m,"Android "+I]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[m,v],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[v,[m,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[v,m],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[m,[v,Q,{"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[m,v],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[m,"Netscape"],v],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[v,[m,P+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[m,v],[/(cobalt)\/([\w\.]+)/i],[m,[v,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[y,"amd64"]],[/(ia32(?=;))/i],[[y,Y]],[/((?:i[346]|x)86)[;\)]/i],[[y,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[y,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[y,"armhf"]],[/windows (ce|mobile); ppc;/i],[[y,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[y,/ower/,"",Y]],[/(sun4\w)[;\)]/i],[[y,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[y,Y]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[b,M],[g,k]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[f,[b,M],[g,w]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[b,E],[g,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[b,E],[g,k]],[/(macintosh);/i],[f,[b,E]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[b,F],[g,w]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[b,A],[g,k]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[b,A],[g,w]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[f,/_/g," "],[b,B],[g,w]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[b,B],[g,k]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[b,"OPPO"],[g,w]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[b,"Vivo"],[g,w]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[f,[b,"Realme"],[g,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[b,L],[g,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[b,L],[g,k]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[b,"LG"],[g,k]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[b,"LG"],[g,w]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[b,"Lenovo"],[g,k]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[b,"Nokia"],[g,w]],[/(pixel c)\b/i],[f,[b,N],[g,k]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[b,N],[g,w]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[b,$],[g,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[b,$],[g,k]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[b,"OnePlus"],[g,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[b,C],[g,k]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[b,C],[g,w]],[/(playbook);[-\w\),; ]+(rim)/i],[f,b,[g,k]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[b,j],[g,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[b,R],[g,k]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[b,R],[g,w]],[/(nexus 9)/i],[f,[b,"HTC"],[g,k]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[b,[f,/_/g," "],[g,w]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[b,"Acer"],[g,k]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[b,"Meizu"],[g,w]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[f,[b,"Ulefone"],[g,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[b,f,[g,w]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[b,f,[g,k]],[/(surface duo)/i],[f,[b,D],[g,k]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[b,"Fairphone"],[g,w]],[/(u304aa)/i],[f,[b,"AT&T"],[g,w]],[/\bsie-(\w*)/i],[f,[b,"Siemens"],[g,w]],[/\b(rct\w+) b/i],[f,[b,"RCA"],[g,k]],[/\b(venue[\d ]{2,7}) b/i],[f,[b,"Dell"],[g,k]],[/\b(q(?:mv|ta)\w+) b/i],[f,[b,"Verizon"],[g,k]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[b,"Barnes & Noble"],[g,k]],[/\b(tm\d{3}\w+) b/i],[f,[b,"NuVision"],[g,k]],[/\b(k88) b/i],[f,[b,"ZTE"],[g,k]],[/\b(nx\d{3}j) b/i],[f,[b,"ZTE"],[g,w]],[/\b(gen\d{3}) b.+49h/i],[f,[b,"Swiss"],[g,w]],[/\b(zur\d{3}) b/i],[f,[b,"Swiss"],[g,k]],[/\b((zeki)?tb.*\b) b/i],[f,[b,"Zeki"],[g,k]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[b,"Dragon Touch"],f,[g,k]],[/\b(ns-?\w{0,9}) b/i],[f,[b,"Insignia"],[g,k]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[b,"NextBook"],[g,k]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[b,"Voice"],f,[g,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[b,"LvTel"],f,[g,w]],[/\b(ph-1) /i],[f,[b,"Essential"],[g,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[b,"Envizen"],[g,k]],[/\b(trio[-\w\. ]+) b/i],[f,[b,"MachSpeed"],[g,k]],[/\btu_(1491) b/i],[f,[b,"Rotor"],[g,k]],[/(shield[\w ]+) b/i],[f,[b,"Nvidia"],[g,k]],[/(sprint) (\w+)/i],[b,f,[g,w]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[b,D],[g,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[b,q],[g,k]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[b,q],[g,w]],[/smart-tv.+(samsung)/i],[b,[g,_]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[b,M],[g,_]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[b,"LG"],[g,_]],[/(apple) ?tv/i],[b,[f,E+" TV"],[g,_]],[/crkey/i],[[f,O+"cast"],[b,N],[g,_]],[/droid.+aft(\w+)( bui|\))/i],[f,[b,C],[g,_]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[b,F],[g,_]],[/(bravia[\w ]+)( bui|\))/i],[f,[b,$],[g,_]],[/(mitv-\w{5}) bui/i],[f,[b,B],[g,_]],[/Hbbtv.*(technisat) (.*);/i],[b,f,[g,_]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[b,J],[f,J],[g,_]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[g,_]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[b,f,[g,x]],[/droid.+; (shield) bui/i],[f,[b,"Nvidia"],[g,x]],[/(playstation [345portablevi]+)/i],[f,[b,$],[g,x]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[b,D],[g,x]],[/((pebble))app/i],[b,f,[g,S]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[b,E],[g,S]],[/droid.+; (glass) \d/i],[f,[b,N],[g,S]],[/droid.+; (wt63?0{2,3})\)/i],[f,[b,q],[g,S]],[/(quest( 2| pro)?)/i],[f,[b,V],[g,S]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[b,[g,T]],[/(aeobc)\b/i],[f,[b,C],[g,T]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[f,[g,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[g,k]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[g,k]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[g,w]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[b,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[v,[m,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[v,[m,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[m,v],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[v,m]],os:[[/microsoft (windows) (vista|xp)/i],[m,v],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[m,[v,Q,Z]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[v,Q,Z],[m,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[v,/_/g,"."],[m,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[m,W],[v,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[v,m],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[m,v],[/\(bb(10);/i],[v,[m,j]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[v,[m,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[v,[m,P+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[v,[m,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[v,[m,"watchOS"]],[/crkey\/([\d\.]+)/i],[v,[m,O+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[m,z],v],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[m,v],[/(sunos) ?([\w\.\d]*)/i],[[m,"Solaris"],v],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[m,v]]},et=function(e,t){if(typeof e===u&&(t=e,e=s),!(this instanceof et))return new et(e,t).getResult();var i=typeof a!==l&&a.navigator?a.navigator:s,r=e||(i&&i.userAgent?i.userAgent:""),x=i&&i.userAgentData?i.userAgentData:s,_=t?H(ee,t):ee,S=i&&i.userAgent==r;return this.getBrowser=function(){var e,t={};return t[m]=s,t[v]=s,X.call(t,r,_.browser),t[d]=typeof(e=t[v])===p?e.replace(/[^\d\.]/g,"").split(".")[0]:s,S&&i&&i.brave&&typeof i.brave.isBrave==o&&(t[m]="Brave"),t},this.getCPU=function(){var e={};return e[y]=s,X.call(e,r,_.cpu),e},this.getDevice=function(){var e={};return e[b]=s,e[f]=s,e[g]=s,X.call(e,r,_.device),S&&!e[g]&&x&&x.mobile&&(e[g]=w),S&&"Macintosh"==e[f]&&i&&typeof i.standalone!==l&&i.maxTouchPoints&&i.maxTouchPoints>2&&(e[f]="iPad",e[g]=k),e},this.getEngine=function(){var e={};return e[m]=s,e[v]=s,X.call(e,r,_.engine),e},this.getOS=function(){var e={};return e[m]=s,e[v]=s,X.call(e,r,_.os),S&&!e[m]&&x&&"Unknown"!=x.platform&&(e[m]=x.platform.replace(/chrome os/i,z).replace(/macos/i,W)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===p&&e.length>500?J(e,500):e,this},this.setUA(r),this};et.VERSION="1.0.37",et.BROWSER=G([m,v,d]),et.CPU=G([y]),et.DEVICE=G([f,b,g,x,w,_,k,S,T]),et.ENGINE=et.OS=G([m,v]),typeof t!==l?(e.exports&&(t=e.exports=et),t.UAParser=et):i.amdO?s!==(r=(function(){return et}).call(t,i,t,e))&&(e.exports=r):typeof a!==l&&(a.UAParser=et);var ei=typeof a!==l&&(a.jQuery||a.Zepto);if(ei&&!ei.ua){var en=new et;ei.ua=en.getResult(),ei.ua.get=function(){return en.getUA()},ei.ua.set=function(e){en.setUA(e);var t=en.getResult();for(var i in t)ei.ua[i]=t[i]}}}(void 0)},42659:(e,t,i)=>{"use strict";let r=i(46458);r.createWebSocketStream=i(69057),r.Server=i(33054),r.Receiver=i(41250),r.Sender=i(38022),r.WebSocket=r,r.WebSocketServer=r.Server,e.exports=r},79704:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},33207:(e,t,i)=>{"use strict";function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach(function(e){t.push(e)});else if(arguments.length>0)for(var i=0,a=arguments.length;i<a;i++)t.push(arguments[i]);return t}function a(e,t,i,r){if(!(this instanceof a))return new a(e,t,i,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,i?(i.prev=this,this.next=i):this.next=null}e.exports=r,r.Node=a,r.create=r,r.prototype.removeNode=function(e){if(e.list!==this)throw Error("removing node which does not belong to this list");var t=e.next,i=e.prev;return t&&(t.prev=i),i&&(i.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=i),e.list.length--,e.next=null,e.prev=null,e.list=null,t},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var e,t=0,i=arguments.length;t<i;t++)e=arguments[t],this.tail=new a(e,this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length},r.prototype.unshift=function(){for(var e,t=0,i=arguments.length;t<i;t++)e=arguments[t],this.head=new a(e,null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var i=this.head,r=0;null!==i;r++)e.call(t,i.value,r,this),i=i.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var i=this.tail,r=this.length-1;null!==i;r--)e.call(t,i.value,r,this),i=i.prev},r.prototype.get=function(e){for(var t=0,i=this.head;null!==i&&t<e;t++)i=i.next;if(t===e&&null!==i)return i.value},r.prototype.getReverse=function(e){for(var t=0,i=this.tail;null!==i&&t<e;t++)i=i.prev;if(t===e&&null!==i)return i.value},r.prototype.map=function(e,t){t=t||this;for(var i=new r,a=this.head;null!==a;)i.push(e.call(t,a.value,this)),a=a.next;return i},r.prototype.mapReverse=function(e,t){t=t||this;for(var i=new r,a=this.tail;null!==a;)i.push(e.call(t,a.value,this)),a=a.prev;return i},r.prototype.reduce=function(e,t){var i,r=this.head;if(arguments.length>1)i=t;else if(this.head)r=this.head.next,i=this.head.value;else throw TypeError("Reduce of empty list with no initial value");for(var a=0;null!==r;a++)i=e(i,r.value,a),r=r.next;return i},r.prototype.reduceReverse=function(e,t){var i,r=this.tail;if(arguments.length>1)i=t;else if(this.tail)r=this.tail.prev,i=this.tail.value;else throw TypeError("Reduce of empty list with no initial value");for(var a=this.length-1;null!==r;a--)i=e(i,r.value,a),r=r.prev;return i},r.prototype.toArray=function(){for(var e=Array(this.length),t=0,i=this.head;null!==i;t++)e[t]=i.value,i=i.next;return e},r.prototype.toArrayReverse=function(){for(var e=Array(this.length),t=0,i=this.tail;null!==i;t++)e[t]=i.value,i=i.prev;return e},r.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var i=new r;if(t<e||t<0)return i;e<0&&(e=0),t>this.length&&(t=this.length);for(var a=0,s=this.head;null!==s&&a<e;a++)s=s.next;for(;null!==s&&a<t;a++,s=s.next)i.push(s.value);return i},r.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var i=new r;if(t<e||t<0)return i;e<0&&(e=0),t>this.length&&(t=this.length);for(var a=this.length,s=this.tail;null!==s&&a>t;a--)s=s.prev;for(;null!==s&&a>e;a--,s=s.prev)i.push(s.value);return i},r.prototype.splice=function(e,t,...i){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,s=this.head;null!==s&&r<e;r++)s=s.next;for(var o=[],r=0;s&&r<t;r++)o.push(s.value),s=this.removeNode(s);null===s&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var r=0;r<i.length;r++)s=function(e,t,i){var r=t===e.head?new a(i,null,t,e):new a(i,t,t.next,e);return null===r.next&&(e.tail=r),null===r.prev&&(e.head=r),e.length++,r}(this,s,i[r]);return o},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,i=e;null!==i;i=i.prev){var r=i.prev;i.prev=i.next,i.next=r}return this.head=t,this.tail=e,this};try{i(79704)(r)}catch(e){}},82917:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s,metadata:()=>a});var r=i(25036);i(40002),i(67272);let a={title:"Create Next App",description:"Generated by create next app"};function s({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{children:e})})}},20520:(e,t,i)=>{"use strict";i.r(t),i.d(t,{$$typeof:()=>s,__esModule:()=>a,default:()=>o});let r=(0,i(86843).createProxy)(String.raw`C:\Users\abdqudus\Desktop\projects\video\app\room\[roomId]\page.tsx`),{__esModule:a,$$typeof:s}=r,o=r.default},67272:()=>{},40572:e=>{"use strict";e.exports=JSON.parse('{"application/1d-interleaved-parityfec":{"source":"iana"},"application/3gpdash-qoe-report+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/3gpp-ims+xml":{"source":"iana","compressible":true},"application/3gpphal+json":{"source":"iana","compressible":true},"application/3gpphalforms+json":{"source":"iana","compressible":true},"application/a2l":{"source":"iana"},"application/ace+cbor":{"source":"iana"},"application/activemessage":{"source":"iana"},"application/activity+json":{"source":"iana","compressible":true},"application/alto-costmap+json":{"source":"iana","compressible":true},"application/alto-costmapfilter+json":{"source":"iana","compressible":true},"application/alto-directory+json":{"source":"iana","compressible":true},"application/alto-endpointcost+json":{"source":"iana","compressible":true},"application/alto-endpointcostparams+json":{"source":"iana","compressible":true},"application/alto-endpointprop+json":{"source":"iana","compressible":true},"application/alto-endpointpropparams+json":{"source":"iana","compressible":true},"application/alto-error+json":{"source":"iana","compressible":true},"application/alto-networkmap+json":{"source":"iana","compressible":true},"application/alto-networkmapfilter+json":{"source":"iana","compressible":true},"application/alto-updatestreamcontrol+json":{"source":"iana","compressible":true},"application/alto-updatestreamparams+json":{"source":"iana","compressible":true},"application/aml":{"source":"iana"},"application/andrew-inset":{"source":"iana","extensions":["ez"]},"application/applefile":{"source":"iana"},"application/applixware":{"source":"apache","extensions":["aw"]},"application/at+jwt":{"source":"iana"},"application/atf":{"source":"iana"},"application/atfx":{"source":"iana"},"application/atom+xml":{"source":"iana","compressible":true,"extensions":["atom"]},"application/atomcat+xml":{"source":"iana","compressible":true,"extensions":["atomcat"]},"application/atomdeleted+xml":{"source":"iana","compressible":true,"extensions":["atomdeleted"]},"application/atomicmail":{"source":"iana"},"application/atomsvc+xml":{"source":"iana","compressible":true,"extensions":["atomsvc"]},"application/atsc-dwd+xml":{"source":"iana","compressible":true,"extensions":["dwd"]},"application/atsc-dynamic-event-message":{"source":"iana"},"application/atsc-held+xml":{"source":"iana","compressible":true,"extensions":["held"]},"application/atsc-rdt+json":{"source":"iana","compressible":true},"application/atsc-rsat+xml":{"source":"iana","compressible":true,"extensions":["rsat"]},"application/atxml":{"source":"iana"},"application/auth-policy+xml":{"source":"iana","compressible":true},"application/bacnet-xdd+zip":{"source":"iana","compressible":false},"application/batch-smtp":{"source":"iana"},"application/bdoc":{"compressible":false,"extensions":["bdoc"]},"application/beep+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/calendar+json":{"source":"iana","compressible":true},"application/calendar+xml":{"source":"iana","compressible":true,"extensions":["xcs"]},"application/call-completion":{"source":"iana"},"application/cals-1840":{"source":"iana"},"application/captive+json":{"source":"iana","compressible":true},"application/cbor":{"source":"iana"},"application/cbor-seq":{"source":"iana"},"application/cccex":{"source":"iana"},"application/ccmp+xml":{"source":"iana","compressible":true},"application/ccxml+xml":{"source":"iana","compressible":true,"extensions":["ccxml"]},"application/cdfx+xml":{"source":"iana","compressible":true,"extensions":["cdfx"]},"application/cdmi-capability":{"source":"iana","extensions":["cdmia"]},"application/cdmi-container":{"source":"iana","extensions":["cdmic"]},"application/cdmi-domain":{"source":"iana","extensions":["cdmid"]},"application/cdmi-object":{"source":"iana","extensions":["cdmio"]},"application/cdmi-queue":{"source":"iana","extensions":["cdmiq"]},"application/cdni":{"source":"iana"},"application/cea":{"source":"iana"},"application/cea-2018+xml":{"source":"iana","compressible":true},"application/cellml+xml":{"source":"iana","compressible":true},"application/cfw":{"source":"iana"},"application/city+json":{"source":"iana","compressible":true},"application/clr":{"source":"iana"},"application/clue+xml":{"source":"iana","compressible":true},"application/clue_info+xml":{"source":"iana","compressible":true},"application/cms":{"source":"iana"},"application/cnrp+xml":{"source":"iana","compressible":true},"application/coap-group+json":{"source":"iana","compressible":true},"application/coap-payload":{"source":"iana"},"application/commonground":{"source":"iana"},"application/conference-info+xml":{"source":"iana","compressible":true},"application/cose":{"source":"iana"},"application/cose-key":{"source":"iana"},"application/cose-key-set":{"source":"iana"},"application/cpl+xml":{"source":"iana","compressible":true,"extensions":["cpl"]},"application/csrattrs":{"source":"iana"},"application/csta+xml":{"source":"iana","compressible":true},"application/cstadata+xml":{"source":"iana","compressible":true},"application/csvm+json":{"source":"iana","compressible":true},"application/cu-seeme":{"source":"apache","extensions":["cu"]},"application/cwt":{"source":"iana"},"application/cybercash":{"source":"iana"},"application/dart":{"compressible":true},"application/dash+xml":{"source":"iana","compressible":true,"extensions":["mpd"]},"application/dash-patch+xml":{"source":"iana","compressible":true,"extensions":["mpp"]},"application/dashdelta":{"source":"iana"},"application/davmount+xml":{"source":"iana","compressible":true,"extensions":["davmount"]},"application/dca-rft":{"source":"iana"},"application/dcd":{"source":"iana"},"application/dec-dx":{"source":"iana"},"application/dialog-info+xml":{"source":"iana","compressible":true},"application/dicom":{"source":"iana"},"application/dicom+json":{"source":"iana","compressible":true},"application/dicom+xml":{"source":"iana","compressible":true},"application/dii":{"source":"iana"},"application/dit":{"source":"iana"},"application/dns":{"source":"iana"},"application/dns+json":{"source":"iana","compressible":true},"application/dns-message":{"source":"iana"},"application/docbook+xml":{"source":"apache","compressible":true,"extensions":["dbk"]},"application/dots+cbor":{"source":"iana"},"application/dskpp+xml":{"source":"iana","compressible":true},"application/dssc+der":{"source":"iana","extensions":["dssc"]},"application/dssc+xml":{"source":"iana","compressible":true,"extensions":["xdssc"]},"application/dvcs":{"source":"iana"},"application/ecmascript":{"source":"iana","compressible":true,"extensions":["es","ecma"]},"application/edi-consent":{"source":"iana"},"application/edi-x12":{"source":"iana","compressible":false},"application/edifact":{"source":"iana","compressible":false},"application/efi":{"source":"iana"},"application/elm+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/elm+xml":{"source":"iana","compressible":true},"application/emergencycalldata.cap+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/emergencycalldata.comment+xml":{"source":"iana","compressible":true},"application/emergencycalldata.control+xml":{"source":"iana","compressible":true},"application/emergencycalldata.deviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.ecall.msd":{"source":"iana"},"application/emergencycalldata.providerinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.serviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.subscriberinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.veds+xml":{"source":"iana","compressible":true},"application/emma+xml":{"source":"iana","compressible":true,"extensions":["emma"]},"application/emotionml+xml":{"source":"iana","compressible":true,"extensions":["emotionml"]},"application/encaprtp":{"source":"iana"},"application/epp+xml":{"source":"iana","compressible":true},"application/epub+zip":{"source":"iana","compressible":false,"extensions":["epub"]},"application/eshop":{"source":"iana"},"application/exi":{"source":"iana","extensions":["exi"]},"application/expect-ct-report+json":{"source":"iana","compressible":true},"application/express":{"source":"iana","extensions":["exp"]},"application/fastinfoset":{"source":"iana"},"application/fastsoap":{"source":"iana"},"application/fdt+xml":{"source":"iana","compressible":true,"extensions":["fdt"]},"application/fhir+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/fhir+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/fido.trusted-apps+json":{"compressible":true},"application/fits":{"source":"iana"},"application/flexfec":{"source":"iana"},"application/font-sfnt":{"source":"iana"},"application/font-tdpfr":{"source":"iana","extensions":["pfr"]},"application/font-woff":{"source":"iana","compressible":false},"application/framework-attributes+xml":{"source":"iana","compressible":true},"application/geo+json":{"source":"iana","compressible":true,"extensions":["geojson"]},"application/geo+json-seq":{"source":"iana"},"application/geopackage+sqlite3":{"source":"iana"},"application/geoxacml+xml":{"source":"iana","compressible":true},"application/gltf-buffer":{"source":"iana"},"application/gml+xml":{"source":"iana","compressible":true,"extensions":["gml"]},"application/gpx+xml":{"source":"apache","compressible":true,"extensions":["gpx"]},"application/gxf":{"source":"apache","extensions":["gxf"]},"application/gzip":{"source":"iana","compressible":false,"extensions":["gz"]},"application/h224":{"source":"iana"},"application/held+xml":{"source":"iana","compressible":true},"application/hjson":{"extensions":["hjson"]},"application/http":{"source":"iana"},"application/hyperstudio":{"source":"iana","extensions":["stk"]},"application/ibe-key-request+xml":{"source":"iana","compressible":true},"application/ibe-pkg-reply+xml":{"source":"iana","compressible":true},"application/ibe-pp-data":{"source":"iana"},"application/iges":{"source":"iana"},"application/im-iscomposing+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/index":{"source":"iana"},"application/index.cmd":{"source":"iana"},"application/index.obj":{"source":"iana"},"application/index.response":{"source":"iana"},"application/index.vnd":{"source":"iana"},"application/inkml+xml":{"source":"iana","compressible":true,"extensions":["ink","inkml"]},"application/iotp":{"source":"iana"},"application/ipfix":{"source":"iana","extensions":["ipfix"]},"application/ipp":{"source":"iana"},"application/isup":{"source":"iana"},"application/its+xml":{"source":"iana","compressible":true,"extensions":["its"]},"application/java-archive":{"source":"apache","compressible":false,"extensions":["jar","war","ear"]},"application/java-serialized-object":{"source":"apache","compressible":false,"extensions":["ser"]},"application/java-vm":{"source":"apache","compressible":false,"extensions":["class"]},"application/javascript":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["js","mjs"]},"application/jf2feed+json":{"source":"iana","compressible":true},"application/jose":{"source":"iana"},"application/jose+json":{"source":"iana","compressible":true},"application/jrd+json":{"source":"iana","compressible":true},"application/jscalendar+json":{"source":"iana","compressible":true},"application/json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["json","map"]},"application/json-patch+json":{"source":"iana","compressible":true},"application/json-seq":{"source":"iana"},"application/json5":{"extensions":["json5"]},"application/jsonml+json":{"source":"apache","compressible":true,"extensions":["jsonml"]},"application/jwk+json":{"source":"iana","compressible":true},"application/jwk-set+json":{"source":"iana","compressible":true},"application/jwt":{"source":"iana"},"application/kpml-request+xml":{"source":"iana","compressible":true},"application/kpml-response+xml":{"source":"iana","compressible":true},"application/ld+json":{"source":"iana","compressible":true,"extensions":["jsonld"]},"application/lgr+xml":{"source":"iana","compressible":true,"extensions":["lgr"]},"application/link-format":{"source":"iana"},"application/load-control+xml":{"source":"iana","compressible":true},"application/lost+xml":{"source":"iana","compressible":true,"extensions":["lostxml"]},"application/lostsync+xml":{"source":"iana","compressible":true},"application/lpf+zip":{"source":"iana","compressible":false},"application/lxf":{"source":"iana"},"application/mac-binhex40":{"source":"iana","extensions":["hqx"]},"application/mac-compactpro":{"source":"apache","extensions":["cpt"]},"application/macwriteii":{"source":"iana"},"application/mads+xml":{"source":"iana","compressible":true,"extensions":["mads"]},"application/manifest+json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["webmanifest"]},"application/marc":{"source":"iana","extensions":["mrc"]},"application/marcxml+xml":{"source":"iana","compressible":true,"extensions":["mrcx"]},"application/mathematica":{"source":"iana","extensions":["ma","nb","mb"]},"application/mathml+xml":{"source":"iana","compressible":true,"extensions":["mathml"]},"application/mathml-content+xml":{"source":"iana","compressible":true},"application/mathml-presentation+xml":{"source":"iana","compressible":true},"application/mbms-associated-procedure-description+xml":{"source":"iana","compressible":true},"application/mbms-deregister+xml":{"source":"iana","compressible":true},"application/mbms-envelope+xml":{"source":"iana","compressible":true},"application/mbms-msk+xml":{"source":"iana","compressible":true},"application/mbms-msk-response+xml":{"source":"iana","compressible":true},"application/mbms-protection-description+xml":{"source":"iana","compressible":true},"application/mbms-reception-report+xml":{"source":"iana","compressible":true},"application/mbms-register+xml":{"source":"iana","compressible":true},"application/mbms-register-response+xml":{"source":"iana","compressible":true},"application/mbms-schedule+xml":{"source":"iana","compressible":true},"application/mbms-user-service-description+xml":{"source":"iana","compressible":true},"application/mbox":{"source":"iana","extensions":["mbox"]},"application/media-policy-dataset+xml":{"source":"iana","compressible":true,"extensions":["mpf"]},"application/media_control+xml":{"source":"iana","compressible":true},"application/mediaservercontrol+xml":{"source":"iana","compressible":true,"extensions":["mscml"]},"application/merge-patch+json":{"source":"iana","compressible":true},"application/metalink+xml":{"source":"apache","compressible":true,"extensions":["metalink"]},"application/metalink4+xml":{"source":"iana","compressible":true,"extensions":["meta4"]},"application/mets+xml":{"source":"iana","compressible":true,"extensions":["mets"]},"application/mf4":{"source":"iana"},"application/mikey":{"source":"iana"},"application/mipc":{"source":"iana"},"application/missing-blocks+cbor-seq":{"source":"iana"},"application/mmt-aei+xml":{"source":"iana","compressible":true,"extensions":["maei"]},"application/mmt-usd+xml":{"source":"iana","compressible":true,"extensions":["musd"]},"application/mods+xml":{"source":"iana","compressible":true,"extensions":["mods"]},"application/moss-keys":{"source":"iana"},"application/moss-signature":{"source":"iana"},"application/mosskey-data":{"source":"iana"},"application/mosskey-request":{"source":"iana"},"application/mp21":{"source":"iana","extensions":["m21","mp21"]},"application/mp4":{"source":"iana","extensions":["mp4s","m4p"]},"application/mpeg4-generic":{"source":"iana"},"application/mpeg4-iod":{"source":"iana"},"application/mpeg4-iod-xmt":{"source":"iana"},"application/mrb-consumer+xml":{"source":"iana","compressible":true},"application/mrb-publish+xml":{"source":"iana","compressible":true},"application/msc-ivr+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msc-mixer+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msword":{"source":"iana","compressible":false,"extensions":["doc","dot"]},"application/mud+json":{"source":"iana","compressible":true},"application/multipart-core":{"source":"iana"},"application/mxf":{"source":"iana","extensions":["mxf"]},"application/n-quads":{"source":"iana","extensions":["nq"]},"application/n-triples":{"source":"iana","extensions":["nt"]},"application/nasdata":{"source":"iana"},"application/news-checkgroups":{"source":"iana","charset":"US-ASCII"},"application/news-groupinfo":{"source":"iana","charset":"US-ASCII"},"application/news-transmission":{"source":"iana"},"application/nlsml+xml":{"source":"iana","compressible":true},"application/node":{"source":"iana","extensions":["cjs"]},"application/nss":{"source":"iana"},"application/oauth-authz-req+jwt":{"source":"iana"},"application/oblivious-dns-message":{"source":"iana"},"application/ocsp-request":{"source":"iana"},"application/ocsp-response":{"source":"iana"},"application/octet-stream":{"source":"iana","compressible":false,"extensions":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{"source":"iana","extensions":["oda"]},"application/odm+xml":{"source":"iana","compressible":true},"application/odx":{"source":"iana"},"application/oebps-package+xml":{"source":"iana","compressible":true,"extensions":["opf"]},"application/ogg":{"source":"iana","compressible":false,"extensions":["ogx"]},"application/omdoc+xml":{"source":"apache","compressible":true,"extensions":["omdoc"]},"application/onenote":{"source":"apache","extensions":["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{"source":"iana","compressible":true},"application/oscore":{"source":"iana"},"application/oxps":{"source":"iana","extensions":["oxps"]},"application/p21":{"source":"iana"},"application/p21+zip":{"source":"iana","compressible":false},"application/p2p-overlay+xml":{"source":"iana","compressible":true,"extensions":["relo"]},"application/parityfec":{"source":"iana"},"application/passport":{"source":"iana"},"application/patch-ops-error+xml":{"source":"iana","compressible":true,"extensions":["xer"]},"application/pdf":{"source":"iana","compressible":false,"extensions":["pdf"]},"application/pdx":{"source":"iana"},"application/pem-certificate-chain":{"source":"iana"},"application/pgp-encrypted":{"source":"iana","compressible":false,"extensions":["pgp"]},"application/pgp-keys":{"source":"iana","extensions":["asc"]},"application/pgp-signature":{"source":"iana","extensions":["asc","sig"]},"application/pics-rules":{"source":"apache","extensions":["prf"]},"application/pidf+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pidf-diff+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pkcs10":{"source":"iana","extensions":["p10"]},"application/pkcs12":{"source":"iana"},"application/pkcs7-mime":{"source":"iana","extensions":["p7m","p7c"]},"application/pkcs7-signature":{"source":"iana","extensions":["p7s"]},"application/pkcs8":{"source":"iana","extensions":["p8"]},"application/pkcs8-encrypted":{"source":"iana"},"application/pkix-attr-cert":{"source":"iana","extensions":["ac"]},"application/pkix-cert":{"source":"iana","extensions":["cer"]},"application/pkix-crl":{"source":"iana","extensions":["crl"]},"application/pkix-pkipath":{"source":"iana","extensions":["pkipath"]},"application/pkixcmp":{"source":"iana","extensions":["pki"]},"application/pls+xml":{"source":"iana","compressible":true,"extensions":["pls"]},"application/poc-settings+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/postscript":{"source":"iana","compressible":true,"extensions":["ai","eps","ps"]},"application/ppsp-tracker+json":{"source":"iana","compressible":true},"application/problem+json":{"source":"iana","compressible":true},"application/problem+xml":{"source":"iana","compressible":true},"application/provenance+xml":{"source":"iana","compressible":true,"extensions":["provx"]},"application/prs.alvestrand.titrax-sheet":{"source":"iana"},"application/prs.cww":{"source":"iana","extensions":["cww"]},"application/prs.cyn":{"source":"iana","charset":"7-BIT"},"application/prs.hpub+zip":{"source":"iana","compressible":false},"application/prs.nprend":{"source":"iana"},"application/prs.plucker":{"source":"iana"},"application/prs.rdf-xml-crypt":{"source":"iana"},"application/prs.xsf+xml":{"source":"iana","compressible":true},"application/pskc+xml":{"source":"iana","compressible":true,"extensions":["pskcxml"]},"application/pvd+json":{"source":"iana","compressible":true},"application/qsig":{"source":"iana"},"application/raml+yaml":{"compressible":true,"extensions":["raml"]},"application/raptorfec":{"source":"iana"},"application/rdap+json":{"source":"iana","compressible":true},"application/rdf+xml":{"source":"iana","compressible":true,"extensions":["rdf","owl"]},"application/reginfo+xml":{"source":"iana","compressible":true,"extensions":["rif"]},"application/relax-ng-compact-syntax":{"source":"iana","extensions":["rnc"]},"application/remote-printing":{"source":"iana"},"application/reputon+json":{"source":"iana","compressible":true},"application/resource-lists+xml":{"source":"iana","compressible":true,"extensions":["rl"]},"application/resource-lists-diff+xml":{"source":"iana","compressible":true,"extensions":["rld"]},"application/rfc+xml":{"source":"iana","compressible":true},"application/riscos":{"source":"iana"},"application/rlmi+xml":{"source":"iana","compressible":true},"application/rls-services+xml":{"source":"iana","compressible":true,"extensions":["rs"]},"application/route-apd+xml":{"source":"iana","compressible":true,"extensions":["rapd"]},"application/route-s-tsid+xml":{"source":"iana","compressible":true,"extensions":["sls"]},"application/route-usd+xml":{"source":"iana","compressible":true,"extensions":["rusd"]},"application/rpki-ghostbusters":{"source":"iana","extensions":["gbr"]},"application/rpki-manifest":{"source":"iana","extensions":["mft"]},"application/rpki-publication":{"source":"iana"},"application/rpki-roa":{"source":"iana","extensions":["roa"]},"application/rpki-updown":{"source":"iana"},"application/rsd+xml":{"source":"apache","compressible":true,"extensions":["rsd"]},"application/rss+xml":{"source":"apache","compressible":true,"extensions":["rss"]},"application/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"application/rtploopback":{"source":"iana"},"application/rtx":{"source":"iana"},"application/samlassertion+xml":{"source":"iana","compressible":true},"application/samlmetadata+xml":{"source":"iana","compressible":true},"application/sarif+json":{"source":"iana","compressible":true},"application/sarif-external-properties+json":{"source":"iana","compressible":true},"application/sbe":{"source":"iana"},"application/sbml+xml":{"source":"iana","compressible":true,"extensions":["sbml"]},"application/scaip+xml":{"source":"iana","compressible":true},"application/scim+json":{"source":"iana","compressible":true},"application/scvp-cv-request":{"source":"iana","extensions":["scq"]},"application/scvp-cv-response":{"source":"iana","extensions":["scs"]},"application/scvp-vp-request":{"source":"iana","extensions":["spq"]},"application/scvp-vp-response":{"source":"iana","extensions":["spp"]},"application/sdp":{"source":"iana","extensions":["sdp"]},"application/secevent+jwt":{"source":"iana"},"application/senml+cbor":{"source":"iana"},"application/senml+json":{"source":"iana","compressible":true},"application/senml+xml":{"source":"iana","compressible":true,"extensions":["senmlx"]},"application/senml-etch+cbor":{"source":"iana"},"application/senml-etch+json":{"source":"iana","compressible":true},"application/senml-exi":{"source":"iana"},"application/sensml+cbor":{"source":"iana"},"application/sensml+json":{"source":"iana","compressible":true},"application/sensml+xml":{"source":"iana","compressible":true,"extensions":["sensmlx"]},"application/sensml-exi":{"source":"iana"},"application/sep+xml":{"source":"iana","compressible":true},"application/sep-exi":{"source":"iana"},"application/session-info":{"source":"iana"},"application/set-payment":{"source":"iana"},"application/set-payment-initiation":{"source":"iana","extensions":["setpay"]},"application/set-registration":{"source":"iana"},"application/set-registration-initiation":{"source":"iana","extensions":["setreg"]},"application/sgml":{"source":"iana"},"application/sgml-open-catalog":{"source":"iana"},"application/shf+xml":{"source":"iana","compressible":true,"extensions":["shf"]},"application/sieve":{"source":"iana","extensions":["siv","sieve"]},"application/simple-filter+xml":{"source":"iana","compressible":true},"application/simple-message-summary":{"source":"iana"},"application/simplesymbolcontainer":{"source":"iana"},"application/sipc":{"source":"iana"},"application/slate":{"source":"iana"},"application/smil":{"source":"iana"},"application/smil+xml":{"source":"iana","compressible":true,"extensions":["smi","smil"]},"application/smpte336m":{"source":"iana"},"application/soap+fastinfoset":{"source":"iana"},"application/soap+xml":{"source":"iana","compressible":true},"application/sparql-query":{"source":"iana","extensions":["rq"]},"application/sparql-results+xml":{"source":"iana","compressible":true,"extensions":["srx"]},"application/spdx+json":{"source":"iana","compressible":true},"application/spirits-event+xml":{"source":"iana","compressible":true},"application/sql":{"source":"iana"},"application/srgs":{"source":"iana","extensions":["gram"]},"application/srgs+xml":{"source":"iana","compressible":true,"extensions":["grxml"]},"application/sru+xml":{"source":"iana","compressible":true,"extensions":["sru"]},"application/ssdl+xml":{"source":"apache","compressible":true,"extensions":["ssdl"]},"application/ssml+xml":{"source":"iana","compressible":true,"extensions":["ssml"]},"application/stix+json":{"source":"iana","compressible":true},"application/swid+xml":{"source":"iana","compressible":true,"extensions":["swidtag"]},"application/tamp-apex-update":{"source":"iana"},"application/tamp-apex-update-confirm":{"source":"iana"},"application/tamp-community-update":{"source":"iana"},"application/tamp-community-update-confirm":{"source":"iana"},"application/tamp-error":{"source":"iana"},"application/tamp-sequence-adjust":{"source":"iana"},"application/tamp-sequence-adjust-confirm":{"source":"iana"},"application/tamp-status-query":{"source":"iana"},"application/tamp-status-response":{"source":"iana"},"application/tamp-update":{"source":"iana"},"application/tamp-update-confirm":{"source":"iana"},"application/tar":{"compressible":true},"application/taxii+json":{"source":"iana","compressible":true},"application/td+json":{"source":"iana","compressible":true},"application/tei+xml":{"source":"iana","compressible":true,"extensions":["tei","teicorpus"]},"application/tetra_isi":{"source":"iana"},"application/thraud+xml":{"source":"iana","compressible":true,"extensions":["tfi"]},"application/timestamp-query":{"source":"iana"},"application/timestamp-reply":{"source":"iana"},"application/timestamped-data":{"source":"iana","extensions":["tsd"]},"application/tlsrpt+gzip":{"source":"iana"},"application/tlsrpt+json":{"source":"iana","compressible":true},"application/tnauthlist":{"source":"iana"},"application/token-introspection+jwt":{"source":"iana"},"application/toml":{"compressible":true,"extensions":["toml"]},"application/trickle-ice-sdpfrag":{"source":"iana"},"application/trig":{"source":"iana","extensions":["trig"]},"application/ttml+xml":{"source":"iana","compressible":true,"extensions":["ttml"]},"application/tve-trigger":{"source":"iana"},"application/tzif":{"source":"iana"},"application/tzif-leap":{"source":"iana"},"application/ubjson":{"compressible":false,"extensions":["ubj"]},"application/ulpfec":{"source":"iana"},"application/urc-grpsheet+xml":{"source":"iana","compressible":true},"application/urc-ressheet+xml":{"source":"iana","compressible":true,"extensions":["rsheet"]},"application/urc-targetdesc+xml":{"source":"iana","compressible":true,"extensions":["td"]},"application/urc-uisocketdesc+xml":{"source":"iana","compressible":true},"application/vcard+json":{"source":"iana","compressible":true},"application/vcard+xml":{"source":"iana","compressible":true},"application/vemmi":{"source":"iana"},"application/vividence.scriptfile":{"source":"apache"},"application/vnd.1000minds.decision-model+xml":{"source":"iana","compressible":true,"extensions":["1km"]},"application/vnd.3gpp-prose+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc3ch+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-v2x-local-service-information":{"source":"iana"},"application/vnd.3gpp.5gnas":{"source":"iana"},"application/vnd.3gpp.access-transfer-events+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.bsf+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gmop+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gtpc":{"source":"iana"},"application/vnd.3gpp.interworking-data":{"source":"iana"},"application/vnd.3gpp.lpp":{"source":"iana"},"application/vnd.3gpp.mc-signalling-ear":{"source":"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-payload":{"source":"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-signalling":{"source":"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-floor-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-signed+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-init-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-transmission-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mid-call+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ngap":{"source":"iana"},"application/vnd.3gpp.pfcp":{"source":"iana"},"application/vnd.3gpp.pic-bw-large":{"source":"iana","extensions":["plb"]},"application/vnd.3gpp.pic-bw-small":{"source":"iana","extensions":["psb"]},"application/vnd.3gpp.pic-bw-var":{"source":"iana","extensions":["pvb"]},"application/vnd.3gpp.s1ap":{"source":"iana"},"application/vnd.3gpp.sms":{"source":"iana"},"application/vnd.3gpp.sms+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-ext+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.state-and-event-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ussd+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.bcmcsinfo+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.sms":{"source":"iana"},"application/vnd.3gpp2.tcap":{"source":"iana","extensions":["tcap"]},"application/vnd.3lightssoftware.imagescal":{"source":"iana"},"application/vnd.3m.post-it-notes":{"source":"iana","extensions":["pwn"]},"application/vnd.accpac.simply.aso":{"source":"iana","extensions":["aso"]},"application/vnd.accpac.simply.imp":{"source":"iana","extensions":["imp"]},"application/vnd.acucobol":{"source":"iana","extensions":["acu"]},"application/vnd.acucorp":{"source":"iana","extensions":["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{"source":"apache","compressible":false,"extensions":["air"]},"application/vnd.adobe.flash.movie":{"source":"iana"},"application/vnd.adobe.formscentral.fcdt":{"source":"iana","extensions":["fcdt"]},"application/vnd.adobe.fxp":{"source":"iana","extensions":["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{"source":"iana"},"application/vnd.adobe.xdp+xml":{"source":"iana","compressible":true,"extensions":["xdp"]},"application/vnd.adobe.xfdf":{"source":"iana","extensions":["xfdf"]},"application/vnd.aether.imp":{"source":"iana"},"application/vnd.afpc.afplinedata":{"source":"iana"},"application/vnd.afpc.afplinedata-pagedef":{"source":"iana"},"application/vnd.afpc.cmoca-cmresource":{"source":"iana"},"application/vnd.afpc.foca-charset":{"source":"iana"},"application/vnd.afpc.foca-codedfont":{"source":"iana"},"application/vnd.afpc.foca-codepage":{"source":"iana"},"application/vnd.afpc.modca":{"source":"iana"},"application/vnd.afpc.modca-cmtable":{"source":"iana"},"application/vnd.afpc.modca-formdef":{"source":"iana"},"application/vnd.afpc.modca-mediummap":{"source":"iana"},"application/vnd.afpc.modca-objectcontainer":{"source":"iana"},"application/vnd.afpc.modca-overlay":{"source":"iana"},"application/vnd.afpc.modca-pagesegment":{"source":"iana"},"application/vnd.age":{"source":"iana","extensions":["age"]},"application/vnd.ah-barcode":{"source":"iana"},"application/vnd.ahead.space":{"source":"iana","extensions":["ahead"]},"application/vnd.airzip.filesecure.azf":{"source":"iana","extensions":["azf"]},"application/vnd.airzip.filesecure.azs":{"source":"iana","extensions":["azs"]},"application/vnd.amadeus+json":{"source":"iana","compressible":true},"application/vnd.amazon.ebook":{"source":"apache","extensions":["azw"]},"application/vnd.amazon.mobi8-ebook":{"source":"iana"},"application/vnd.americandynamics.acc":{"source":"iana","extensions":["acc"]},"application/vnd.amiga.ami":{"source":"iana","extensions":["ami"]},"application/vnd.amundsen.maze+xml":{"source":"iana","compressible":true},"application/vnd.android.ota":{"source":"iana"},"application/vnd.android.package-archive":{"source":"apache","compressible":false,"extensions":["apk"]},"application/vnd.anki":{"source":"iana"},"application/vnd.anser-web-certificate-issue-initiation":{"source":"iana","extensions":["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{"source":"apache","extensions":["fti"]},"application/vnd.antix.game-component":{"source":"iana","extensions":["atx"]},"application/vnd.apache.arrow.file":{"source":"iana"},"application/vnd.apache.arrow.stream":{"source":"iana"},"application/vnd.apache.thrift.binary":{"source":"iana"},"application/vnd.apache.thrift.compact":{"source":"iana"},"application/vnd.apache.thrift.json":{"source":"iana"},"application/vnd.api+json":{"source":"iana","compressible":true},"application/vnd.aplextor.warrp+json":{"source":"iana","compressible":true},"application/vnd.apothekende.reservation+json":{"source":"iana","compressible":true},"application/vnd.apple.installer+xml":{"source":"iana","compressible":true,"extensions":["mpkg"]},"application/vnd.apple.keynote":{"source":"iana","extensions":["key"]},"application/vnd.apple.mpegurl":{"source":"iana","extensions":["m3u8"]},"application/vnd.apple.numbers":{"source":"iana","extensions":["numbers"]},"application/vnd.apple.pages":{"source":"iana","extensions":["pages"]},"application/vnd.apple.pkpass":{"compressible":false,"extensions":["pkpass"]},"application/vnd.arastra.swi":{"source":"iana"},"application/vnd.aristanetworks.swi":{"source":"iana","extensions":["swi"]},"application/vnd.artisan+json":{"source":"iana","compressible":true},"application/vnd.artsquare":{"source":"iana"},"application/vnd.astraea-software.iota":{"source":"iana","extensions":["iota"]},"application/vnd.audiograph":{"source":"iana","extensions":["aep"]},"application/vnd.autopackage":{"source":"iana"},"application/vnd.avalon+json":{"source":"iana","compressible":true},"application/vnd.avistar+xml":{"source":"iana","compressible":true},"application/vnd.balsamiq.bmml+xml":{"source":"iana","compressible":true,"extensions":["bmml"]},"application/vnd.balsamiq.bmpr":{"source":"iana"},"application/vnd.banana-accounting":{"source":"iana"},"application/vnd.bbf.usp.error":{"source":"iana"},"application/vnd.bbf.usp.msg":{"source":"iana"},"application/vnd.bbf.usp.msg+json":{"source":"iana","compressible":true},"application/vnd.bekitzur-stech+json":{"source":"iana","compressible":true},"application/vnd.bint.med-content":{"source":"iana"},"application/vnd.biopax.rdf+xml":{"source":"iana","compressible":true},"application/vnd.blink-idb-value-wrapper":{"source":"iana"},"application/vnd.blueice.multipass":{"source":"iana","extensions":["mpm"]},"application/vnd.bluetooth.ep.oob":{"source":"iana"},"application/vnd.bluetooth.le.oob":{"source":"iana"},"application/vnd.bmi":{"source":"iana","extensions":["bmi"]},"application/vnd.bpf":{"source":"iana"},"application/vnd.bpf3":{"source":"iana"},"application/vnd.businessobjects":{"source":"iana","extensions":["rep"]},"application/vnd.byu.uapi+json":{"source":"iana","compressible":true},"application/vnd.cab-jscript":{"source":"iana"},"application/vnd.canon-cpdl":{"source":"iana"},"application/vnd.canon-lips":{"source":"iana"},"application/vnd.capasystems-pg+json":{"source":"iana","compressible":true},"application/vnd.cendio.thinlinc.clientconf":{"source":"iana"},"application/vnd.century-systems.tcp_stream":{"source":"iana"},"application/vnd.chemdraw+xml":{"source":"iana","compressible":true,"extensions":["cdxml"]},"application/vnd.chess-pgn":{"source":"iana"},"application/vnd.chipnuts.karaoke-mmd":{"source":"iana","extensions":["mmd"]},"application/vnd.ciedi":{"source":"iana"},"application/vnd.cinderella":{"source":"iana","extensions":["cdy"]},"application/vnd.cirpack.isdn-ext":{"source":"iana"},"application/vnd.citationstyles.style+xml":{"source":"iana","compressible":true,"extensions":["csl"]},"application/vnd.claymore":{"source":"iana","extensions":["cla"]},"application/vnd.cloanto.rp9":{"source":"iana","extensions":["rp9"]},"application/vnd.clonk.c4group":{"source":"iana","extensions":["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{"source":"iana","extensions":["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{"source":"iana","extensions":["c11amz"]},"application/vnd.coffeescript":{"source":"iana"},"application/vnd.collabio.xodocuments.document":{"source":"iana"},"application/vnd.collabio.xodocuments.document-template":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation-template":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{"source":"iana"},"application/vnd.collection+json":{"source":"iana","compressible":true},"application/vnd.collection.doc+json":{"source":"iana","compressible":true},"application/vnd.collection.next+json":{"source":"iana","compressible":true},"application/vnd.comicbook+zip":{"source":"iana","compressible":false},"application/vnd.comicbook-rar":{"source":"iana"},"application/vnd.commerce-battelle":{"source":"iana"},"application/vnd.commonspace":{"source":"iana","extensions":["csp"]},"application/vnd.contact.cmsg":{"source":"iana","extensions":["cdbcmsg"]},"application/vnd.coreos.ignition+json":{"source":"iana","compressible":true},"application/vnd.cosmocaller":{"source":"iana","extensions":["cmc"]},"application/vnd.crick.clicker":{"source":"iana","extensions":["clkx"]},"application/vnd.crick.clicker.keyboard":{"source":"iana","extensions":["clkk"]},"application/vnd.crick.clicker.palette":{"source":"iana","extensions":["clkp"]},"application/vnd.crick.clicker.template":{"source":"iana","extensions":["clkt"]},"application/vnd.crick.clicker.wordbank":{"source":"iana","extensions":["clkw"]},"application/vnd.criticaltools.wbs+xml":{"source":"iana","compressible":true,"extensions":["wbs"]},"application/vnd.cryptii.pipe+json":{"source":"iana","compressible":true},"application/vnd.crypto-shade-file":{"source":"iana"},"application/vnd.cryptomator.encrypted":{"source":"iana"},"application/vnd.cryptomator.vault":{"source":"iana"},"application/vnd.ctc-posml":{"source":"iana","extensions":["pml"]},"application/vnd.ctct.ws+xml":{"source":"iana","compressible":true},"application/vnd.cups-pdf":{"source":"iana"},"application/vnd.cups-postscript":{"source":"iana"},"application/vnd.cups-ppd":{"source":"iana","extensions":["ppd"]},"application/vnd.cups-raster":{"source":"iana"},"application/vnd.cups-raw":{"source":"iana"},"application/vnd.curl":{"source":"iana"},"application/vnd.curl.car":{"source":"apache","extensions":["car"]},"application/vnd.curl.pcurl":{"source":"apache","extensions":["pcurl"]},"application/vnd.cyan.dean.root+xml":{"source":"iana","compressible":true},"application/vnd.cybank":{"source":"iana"},"application/vnd.cyclonedx+json":{"source":"iana","compressible":true},"application/vnd.cyclonedx+xml":{"source":"iana","compressible":true},"application/vnd.d2l.coursepackage1p0+zip":{"source":"iana","compressible":false},"application/vnd.d3m-dataset":{"source":"iana"},"application/vnd.d3m-problem":{"source":"iana"},"application/vnd.dart":{"source":"iana","compressible":true,"extensions":["dart"]},"application/vnd.data-vision.rdz":{"source":"iana","extensions":["rdz"]},"application/vnd.datapackage+json":{"source":"iana","compressible":true},"application/vnd.dataresource+json":{"source":"iana","compressible":true},"application/vnd.dbf":{"source":"iana","extensions":["dbf"]},"application/vnd.debian.binary-package":{"source":"iana"},"application/vnd.dece.data":{"source":"iana","extensions":["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{"source":"iana","compressible":true,"extensions":["uvt","uvvt"]},"application/vnd.dece.unspecified":{"source":"iana","extensions":["uvx","uvvx"]},"application/vnd.dece.zip":{"source":"iana","extensions":["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{"source":"iana","extensions":["fe_launch"]},"application/vnd.desmume.movie":{"source":"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{"source":"iana"},"application/vnd.dm.delegation+xml":{"source":"iana","compressible":true},"application/vnd.dna":{"source":"iana","extensions":["dna"]},"application/vnd.document+json":{"source":"iana","compressible":true},"application/vnd.dolby.mlp":{"source":"apache","extensions":["mlp"]},"application/vnd.dolby.mobile.1":{"source":"iana"},"application/vnd.dolby.mobile.2":{"source":"iana"},"application/vnd.doremir.scorecloud-binary-document":{"source":"iana"},"application/vnd.dpgraph":{"source":"iana","extensions":["dpg"]},"application/vnd.dreamfactory":{"source":"iana","extensions":["dfac"]},"application/vnd.drive+json":{"source":"iana","compressible":true},"application/vnd.ds-keypoint":{"source":"apache","extensions":["kpxx"]},"application/vnd.dtg.local":{"source":"iana"},"application/vnd.dtg.local.flash":{"source":"iana"},"application/vnd.dtg.local.html":{"source":"iana"},"application/vnd.dvb.ait":{"source":"iana","extensions":["ait"]},"application/vnd.dvb.dvbisl+xml":{"source":"iana","compressible":true},"application/vnd.dvb.dvbj":{"source":"iana"},"application/vnd.dvb.esgcontainer":{"source":"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess2":{"source":"iana"},"application/vnd.dvb.ipdcesgpdd":{"source":"iana"},"application/vnd.dvb.ipdcroaming":{"source":"iana"},"application/vnd.dvb.iptv.alfec-base":{"source":"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{"source":"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-container+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-generic+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-msglist+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-request+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-response+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-init+xml":{"source":"iana","compressible":true},"application/vnd.dvb.pfr":{"source":"iana"},"application/vnd.dvb.service":{"source":"iana","extensions":["svc"]},"application/vnd.dxr":{"source":"iana"},"application/vnd.dynageo":{"source":"iana","extensions":["geo"]},"application/vnd.dzr":{"source":"iana"},"application/vnd.easykaraoke.cdgdownload":{"source":"iana"},"application/vnd.ecdis-update":{"source":"iana"},"application/vnd.ecip.rlp":{"source":"iana"},"application/vnd.eclipse.ditto+json":{"source":"iana","compressible":true},"application/vnd.ecowin.chart":{"source":"iana","extensions":["mag"]},"application/vnd.ecowin.filerequest":{"source":"iana"},"application/vnd.ecowin.fileupdate":{"source":"iana"},"application/vnd.ecowin.series":{"source":"iana"},"application/vnd.ecowin.seriesrequest":{"source":"iana"},"application/vnd.ecowin.seriesupdate":{"source":"iana"},"application/vnd.efi.img":{"source":"iana"},"application/vnd.efi.iso":{"source":"iana"},"application/vnd.emclient.accessrequest+xml":{"source":"iana","compressible":true},"application/vnd.enliven":{"source":"iana","extensions":["nml"]},"application/vnd.enphase.envoy":{"source":"iana"},"application/vnd.eprints.data+xml":{"source":"iana","compressible":true},"application/vnd.epson.esf":{"source":"iana","extensions":["esf"]},"application/vnd.epson.msf":{"source":"iana","extensions":["msf"]},"application/vnd.epson.quickanime":{"source":"iana","extensions":["qam"]},"application/vnd.epson.salt":{"source":"iana","extensions":["slt"]},"application/vnd.epson.ssf":{"source":"iana","extensions":["ssf"]},"application/vnd.ericsson.quickcall":{"source":"iana"},"application/vnd.espass-espass+zip":{"source":"iana","compressible":false},"application/vnd.eszigno3+xml":{"source":"iana","compressible":true,"extensions":["es3","et3"]},"application/vnd.etsi.aoc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.asic-e+zip":{"source":"iana","compressible":false},"application/vnd.etsi.asic-s+zip":{"source":"iana","compressible":false},"application/vnd.etsi.cug+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvcommand+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-bc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-cod+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-npvr+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvservice+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsync+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvueprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mcid+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mheg5":{"source":"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{"source":"iana","compressible":true},"application/vnd.etsi.pstn+xml":{"source":"iana","compressible":true},"application/vnd.etsi.sci+xml":{"source":"iana","compressible":true},"application/vnd.etsi.simservs+xml":{"source":"iana","compressible":true},"application/vnd.etsi.timestamp-token":{"source":"iana"},"application/vnd.etsi.tsl+xml":{"source":"iana","compressible":true},"application/vnd.etsi.tsl.der":{"source":"iana"},"application/vnd.eu.kasparian.car+json":{"source":"iana","compressible":true},"application/vnd.eudora.data":{"source":"iana"},"application/vnd.evolv.ecig.profile":{"source":"iana"},"application/vnd.evolv.ecig.settings":{"source":"iana"},"application/vnd.evolv.ecig.theme":{"source":"iana"},"application/vnd.exstream-empower+zip":{"source":"iana","compressible":false},"application/vnd.exstream-package":{"source":"iana"},"application/vnd.ezpix-album":{"source":"iana","extensions":["ez2"]},"application/vnd.ezpix-package":{"source":"iana","extensions":["ez3"]},"application/vnd.f-secure.mobile":{"source":"iana"},"application/vnd.familysearch.gedcom+zip":{"source":"iana","compressible":false},"application/vnd.fastcopy-disk-image":{"source":"iana"},"application/vnd.fdf":{"source":"iana","extensions":["fdf"]},"application/vnd.fdsn.mseed":{"source":"iana","extensions":["mseed"]},"application/vnd.fdsn.seed":{"source":"iana","extensions":["seed","dataless"]},"application/vnd.ffsns":{"source":"iana"},"application/vnd.ficlab.flb+zip":{"source":"iana","compressible":false},"application/vnd.filmit.zfc":{"source":"iana"},"application/vnd.fints":{"source":"iana"},"application/vnd.firemonkeys.cloudcell":{"source":"iana"},"application/vnd.flographit":{"source":"iana","extensions":["gph"]},"application/vnd.fluxtime.clip":{"source":"iana","extensions":["ftc"]},"application/vnd.font-fontforge-sfd":{"source":"iana"},"application/vnd.framemaker":{"source":"iana","extensions":["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{"source":"iana","extensions":["fnc"]},"application/vnd.frogans.ltf":{"source":"iana","extensions":["ltf"]},"application/vnd.fsc.weblaunch":{"source":"iana","extensions":["fsc"]},"application/vnd.fujifilm.fb.docuworks":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.container":{"source":"iana"},"application/vnd.fujifilm.fb.jfi+xml":{"source":"iana","compressible":true},"application/vnd.fujitsu.oasys":{"source":"iana","extensions":["oas"]},"application/vnd.fujitsu.oasys2":{"source":"iana","extensions":["oa2"]},"application/vnd.fujitsu.oasys3":{"source":"iana","extensions":["oa3"]},"application/vnd.fujitsu.oasysgp":{"source":"iana","extensions":["fg5"]},"application/vnd.fujitsu.oasysprs":{"source":"iana","extensions":["bh2"]},"application/vnd.fujixerox.art-ex":{"source":"iana"},"application/vnd.fujixerox.art4":{"source":"iana"},"application/vnd.fujixerox.ddd":{"source":"iana","extensions":["ddd"]},"application/vnd.fujixerox.docuworks":{"source":"iana","extensions":["xdw"]},"application/vnd.fujixerox.docuworks.binder":{"source":"iana","extensions":["xbd"]},"application/vnd.fujixerox.docuworks.container":{"source":"iana"},"application/vnd.fujixerox.hbpl":{"source":"iana"},"application/vnd.fut-misnet":{"source":"iana"},"application/vnd.futoin+cbor":{"source":"iana"},"application/vnd.futoin+json":{"source":"iana","compressible":true},"application/vnd.fuzzysheet":{"source":"iana","extensions":["fzs"]},"application/vnd.genomatix.tuxedo":{"source":"iana","extensions":["txd"]},"application/vnd.gentics.grd+json":{"source":"iana","compressible":true},"application/vnd.geo+json":{"source":"iana","compressible":true},"application/vnd.geocube+xml":{"source":"iana","compressible":true},"application/vnd.geogebra.file":{"source":"iana","extensions":["ggb"]},"application/vnd.geogebra.slides":{"source":"iana"},"application/vnd.geogebra.tool":{"source":"iana","extensions":["ggt"]},"application/vnd.geometry-explorer":{"source":"iana","extensions":["gex","gre"]},"application/vnd.geonext":{"source":"iana","extensions":["gxt"]},"application/vnd.geoplan":{"source":"iana","extensions":["g2w"]},"application/vnd.geospace":{"source":"iana","extensions":["g3w"]},"application/vnd.gerber":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt-response":{"source":"iana"},"application/vnd.gmx":{"source":"iana","extensions":["gmx"]},"application/vnd.google-apps.document":{"compressible":false,"extensions":["gdoc"]},"application/vnd.google-apps.presentation":{"compressible":false,"extensions":["gslides"]},"application/vnd.google-apps.spreadsheet":{"compressible":false,"extensions":["gsheet"]},"application/vnd.google-earth.kml+xml":{"source":"iana","compressible":true,"extensions":["kml"]},"application/vnd.google-earth.kmz":{"source":"iana","compressible":false,"extensions":["kmz"]},"application/vnd.gov.sk.e-form+xml":{"source":"iana","compressible":true},"application/vnd.gov.sk.e-form+zip":{"source":"iana","compressible":false},"application/vnd.gov.sk.xmldatacontainer+xml":{"source":"iana","compressible":true},"application/vnd.grafeq":{"source":"iana","extensions":["gqf","gqs"]},"application/vnd.gridmp":{"source":"iana"},"application/vnd.groove-account":{"source":"iana","extensions":["gac"]},"application/vnd.groove-help":{"source":"iana","extensions":["ghf"]},"application/vnd.groove-identity-message":{"source":"iana","extensions":["gim"]},"application/vnd.groove-injector":{"source":"iana","extensions":["grv"]},"application/vnd.groove-tool-message":{"source":"iana","extensions":["gtm"]},"application/vnd.groove-tool-template":{"source":"iana","extensions":["tpl"]},"application/vnd.groove-vcard":{"source":"iana","extensions":["vcg"]},"application/vnd.hal+json":{"source":"iana","compressible":true},"application/vnd.hal+xml":{"source":"iana","compressible":true,"extensions":["hal"]},"application/vnd.handheld-entertainment+xml":{"source":"iana","compressible":true,"extensions":["zmm"]},"application/vnd.hbci":{"source":"iana","extensions":["hbci"]},"application/vnd.hc+json":{"source":"iana","compressible":true},"application/vnd.hcl-bireports":{"source":"iana"},"application/vnd.hdt":{"source":"iana"},"application/vnd.heroku+json":{"source":"iana","compressible":true},"application/vnd.hhe.lesson-player":{"source":"iana","extensions":["les"]},"application/vnd.hl7cda+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.hl7v2+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.hp-hpgl":{"source":"iana","extensions":["hpgl"]},"application/vnd.hp-hpid":{"source":"iana","extensions":["hpid"]},"application/vnd.hp-hps":{"source":"iana","extensions":["hps"]},"application/vnd.hp-jlyt":{"source":"iana","extensions":["jlt"]},"application/vnd.hp-pcl":{"source":"iana","extensions":["pcl"]},"application/vnd.hp-pclxl":{"source":"iana","extensions":["pclxl"]},"application/vnd.httphone":{"source":"iana"},"application/vnd.hydrostatix.sof-data":{"source":"iana","extensions":["sfd-hdstx"]},"application/vnd.hyper+json":{"source":"iana","compressible":true},"application/vnd.hyper-item+json":{"source":"iana","compressible":true},"application/vnd.hyperdrive+json":{"source":"iana","compressible":true},"application/vnd.hzn-3d-crossword":{"source":"iana"},"application/vnd.ibm.afplinedata":{"source":"iana"},"application/vnd.ibm.electronic-media":{"source":"iana"},"application/vnd.ibm.minipay":{"source":"iana","extensions":["mpy"]},"application/vnd.ibm.modcap":{"source":"iana","extensions":["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{"source":"iana","extensions":["irm"]},"application/vnd.ibm.secure-container":{"source":"iana","extensions":["sc"]},"application/vnd.iccprofile":{"source":"iana","extensions":["icc","icm"]},"application/vnd.ieee.1905":{"source":"iana"},"application/vnd.igloader":{"source":"iana","extensions":["igl"]},"application/vnd.imagemeter.folder+zip":{"source":"iana","compressible":false},"application/vnd.imagemeter.image+zip":{"source":"iana","compressible":false},"application/vnd.immervision-ivp":{"source":"iana","extensions":["ivp"]},"application/vnd.immervision-ivu":{"source":"iana","extensions":["ivu"]},"application/vnd.ims.imsccv1p1":{"source":"iana"},"application/vnd.ims.imsccv1p2":{"source":"iana"},"application/vnd.ims.imsccv1p3":{"source":"iana"},"application/vnd.ims.lis.v2.result+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy.id+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings.simple+json":{"source":"iana","compressible":true},"application/vnd.informedcontrol.rms+xml":{"source":"iana","compressible":true},"application/vnd.informix-visionary":{"source":"iana"},"application/vnd.infotech.project":{"source":"iana"},"application/vnd.infotech.project+xml":{"source":"iana","compressible":true},"application/vnd.innopath.wamp.notification":{"source":"iana"},"application/vnd.insors.igm":{"source":"iana","extensions":["igm"]},"application/vnd.intercon.formnet":{"source":"iana","extensions":["xpw","xpx"]},"application/vnd.intergeo":{"source":"iana","extensions":["i2g"]},"application/vnd.intertrust.digibox":{"source":"iana"},"application/vnd.intertrust.nncp":{"source":"iana"},"application/vnd.intu.qbo":{"source":"iana","extensions":["qbo"]},"application/vnd.intu.qfx":{"source":"iana","extensions":["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.conceptitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.knowledgeitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsmessage+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.packageitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.planningitem+xml":{"source":"iana","compressible":true},"application/vnd.ipunplugged.rcprofile":{"source":"iana","extensions":["rcprofile"]},"application/vnd.irepository.package+xml":{"source":"iana","compressible":true,"extensions":["irp"]},"application/vnd.is-xpr":{"source":"iana","extensions":["xpr"]},"application/vnd.isac.fcs":{"source":"iana","extensions":["fcs"]},"application/vnd.iso11783-10+zip":{"source":"iana","compressible":false},"application/vnd.jam":{"source":"iana","extensions":["jam"]},"application/vnd.japannet-directory-service":{"source":"iana"},"application/vnd.japannet-jpnstore-wakeup":{"source":"iana"},"application/vnd.japannet-payment-wakeup":{"source":"iana"},"application/vnd.japannet-registration":{"source":"iana"},"application/vnd.japannet-registration-wakeup":{"source":"iana"},"application/vnd.japannet-setstore-wakeup":{"source":"iana"},"application/vnd.japannet-verification":{"source":"iana"},"application/vnd.japannet-verification-wakeup":{"source":"iana"},"application/vnd.jcp.javame.midlet-rms":{"source":"iana","extensions":["rms"]},"application/vnd.jisp":{"source":"iana","extensions":["jisp"]},"application/vnd.joost.joda-archive":{"source":"iana","extensions":["joda"]},"application/vnd.jsk.isdn-ngn":{"source":"iana"},"application/vnd.kahootz":{"source":"iana","extensions":["ktz","ktr"]},"application/vnd.kde.karbon":{"source":"iana","extensions":["karbon"]},"application/vnd.kde.kchart":{"source":"iana","extensions":["chrt"]},"application/vnd.kde.kformula":{"source":"iana","extensions":["kfo"]},"application/vnd.kde.kivio":{"source":"iana","extensions":["flw"]},"application/vnd.kde.kontour":{"source":"iana","extensions":["kon"]},"application/vnd.kde.kpresenter":{"source":"iana","extensions":["kpr","kpt"]},"application/vnd.kde.kspread":{"source":"iana","extensions":["ksp"]},"application/vnd.kde.kword":{"source":"iana","extensions":["kwd","kwt"]},"application/vnd.kenameaapp":{"source":"iana","extensions":["htke"]},"application/vnd.kidspiration":{"source":"iana","extensions":["kia"]},"application/vnd.kinar":{"source":"iana","extensions":["kne","knp"]},"application/vnd.koan":{"source":"iana","extensions":["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{"source":"iana","extensions":["sse"]},"application/vnd.las":{"source":"iana"},"application/vnd.las.las+json":{"source":"iana","compressible":true},"application/vnd.las.las+xml":{"source":"iana","compressible":true,"extensions":["lasxml"]},"application/vnd.laszip":{"source":"iana"},"application/vnd.leap+json":{"source":"iana","compressible":true},"application/vnd.liberty-request+xml":{"source":"iana","compressible":true},"application/vnd.llamagraphics.life-balance.desktop":{"source":"iana","extensions":["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{"source":"iana","compressible":true,"extensions":["lbe"]},"application/vnd.logipipe.circuit+zip":{"source":"iana","compressible":false},"application/vnd.loom":{"source":"iana"},"application/vnd.lotus-1-2-3":{"source":"iana","extensions":["123"]},"application/vnd.lotus-approach":{"source":"iana","extensions":["apr"]},"application/vnd.lotus-freelance":{"source":"iana","extensions":["pre"]},"application/vnd.lotus-notes":{"source":"iana","extensions":["nsf"]},"application/vnd.lotus-organizer":{"source":"iana","extensions":["org"]},"application/vnd.lotus-screencam":{"source":"iana","extensions":["scm"]},"application/vnd.lotus-wordpro":{"source":"iana","extensions":["lwp"]},"application/vnd.macports.portpkg":{"source":"iana","extensions":["portpkg"]},"application/vnd.mapbox-vector-tile":{"source":"iana","extensions":["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.conftoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.license+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.mdcf":{"source":"iana"},"application/vnd.mason+json":{"source":"iana","compressible":true},"application/vnd.maxar.archive.3tz+zip":{"source":"iana","compressible":false},"application/vnd.maxmind.maxmind-db":{"source":"iana"},"application/vnd.mcd":{"source":"iana","extensions":["mcd"]},"application/vnd.medcalcdata":{"source":"iana","extensions":["mc1"]},"application/vnd.mediastation.cdkey":{"source":"iana","extensions":["cdkey"]},"application/vnd.meridian-slingshot":{"source":"iana"},"application/vnd.mfer":{"source":"iana","extensions":["mwf"]},"application/vnd.mfmp":{"source":"iana","extensions":["mfm"]},"application/vnd.micro+json":{"source":"iana","compressible":true},"application/vnd.micrografx.flo":{"source":"iana","extensions":["flo"]},"application/vnd.micrografx.igx":{"source":"iana","extensions":["igx"]},"application/vnd.microsoft.portable-executable":{"source":"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{"source":"iana"},"application/vnd.miele+json":{"source":"iana","compressible":true},"application/vnd.mif":{"source":"iana","extensions":["mif"]},"application/vnd.minisoft-hp3000-save":{"source":"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{"source":"iana"},"application/vnd.mobius.daf":{"source":"iana","extensions":["daf"]},"application/vnd.mobius.dis":{"source":"iana","extensions":["dis"]},"application/vnd.mobius.mbk":{"source":"iana","extensions":["mbk"]},"application/vnd.mobius.mqy":{"source":"iana","extensions":["mqy"]},"application/vnd.mobius.msl":{"source":"iana","extensions":["msl"]},"application/vnd.mobius.plc":{"source":"iana","extensions":["plc"]},"application/vnd.mobius.txf":{"source":"iana","extensions":["txf"]},"application/vnd.mophun.application":{"source":"iana","extensions":["mpn"]},"application/vnd.mophun.certificate":{"source":"iana","extensions":["mpc"]},"application/vnd.motorola.flexsuite":{"source":"iana"},"application/vnd.motorola.flexsuite.adsi":{"source":"iana"},"application/vnd.motorola.flexsuite.fis":{"source":"iana"},"application/vnd.motorola.flexsuite.gotap":{"source":"iana"},"application/vnd.motorola.flexsuite.kmr":{"source":"iana"},"application/vnd.motorola.flexsuite.ttc":{"source":"iana"},"application/vnd.motorola.flexsuite.wem":{"source":"iana"},"application/vnd.motorola.iprm":{"source":"iana"},"application/vnd.mozilla.xul+xml":{"source":"iana","compressible":true,"extensions":["xul"]},"application/vnd.ms-3mfdocument":{"source":"iana"},"application/vnd.ms-artgalry":{"source":"iana","extensions":["cil"]},"application/vnd.ms-asf":{"source":"iana"},"application/vnd.ms-cab-compressed":{"source":"iana","extensions":["cab"]},"application/vnd.ms-color.iccprofile":{"source":"apache"},"application/vnd.ms-excel":{"source":"iana","compressible":false,"extensions":["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{"source":"iana","extensions":["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{"source":"iana","extensions":["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{"source":"iana","extensions":["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{"source":"iana","extensions":["xltm"]},"application/vnd.ms-fontobject":{"source":"iana","compressible":true,"extensions":["eot"]},"application/vnd.ms-htmlhelp":{"source":"iana","extensions":["chm"]},"application/vnd.ms-ims":{"source":"iana","extensions":["ims"]},"application/vnd.ms-lrm":{"source":"iana","extensions":["lrm"]},"application/vnd.ms-office.activex+xml":{"source":"iana","compressible":true},"application/vnd.ms-officetheme":{"source":"iana","extensions":["thmx"]},"application/vnd.ms-opentype":{"source":"apache","compressible":true},"application/vnd.ms-outlook":{"compressible":false,"extensions":["msg"]},"application/vnd.ms-package.obfuscated-opentype":{"source":"apache"},"application/vnd.ms-pki.seccat":{"source":"apache","extensions":["cat"]},"application/vnd.ms-pki.stl":{"source":"apache","extensions":["stl"]},"application/vnd.ms-playready.initiator+xml":{"source":"iana","compressible":true},"application/vnd.ms-powerpoint":{"source":"iana","compressible":false,"extensions":["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{"source":"iana","extensions":["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{"source":"iana","extensions":["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{"source":"iana","extensions":["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{"source":"iana","extensions":["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{"source":"iana","extensions":["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{"source":"iana","compressible":true},"application/vnd.ms-printing.printticket+xml":{"source":"apache","compressible":true},"application/vnd.ms-printschematicket+xml":{"source":"iana","compressible":true},"application/vnd.ms-project":{"source":"iana","extensions":["mpp","mpt"]},"application/vnd.ms-tnef":{"source":"iana"},"application/vnd.ms-windows.devicepairing":{"source":"iana"},"application/vnd.ms-windows.nwprinting.oob":{"source":"iana"},"application/vnd.ms-windows.printerpairing":{"source":"iana"},"application/vnd.ms-windows.wsd.oob":{"source":"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.lic-resp":{"source":"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.meter-resp":{"source":"iana"},"application/vnd.ms-word.document.macroenabled.12":{"source":"iana","extensions":["docm"]},"application/vnd.ms-word.template.macroenabled.12":{"source":"iana","extensions":["dotm"]},"application/vnd.ms-works":{"source":"iana","extensions":["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{"source":"iana","extensions":["wpl"]},"application/vnd.ms-xpsdocument":{"source":"iana","compressible":false,"extensions":["xps"]},"application/vnd.msa-disk-image":{"source":"iana"},"application/vnd.mseq":{"source":"iana","extensions":["mseq"]},"application/vnd.msign":{"source":"iana"},"application/vnd.multiad.creator":{"source":"iana"},"application/vnd.multiad.creator.cif":{"source":"iana"},"application/vnd.music-niff":{"source":"iana"},"application/vnd.musician":{"source":"iana","extensions":["mus"]},"application/vnd.muvee.style":{"source":"iana","extensions":["msty"]},"application/vnd.mynfc":{"source":"iana","extensions":["taglet"]},"application/vnd.nacamar.ybrid+json":{"source":"iana","compressible":true},"application/vnd.ncd.control":{"source":"iana"},"application/vnd.ncd.reference":{"source":"iana"},"application/vnd.nearst.inv+json":{"source":"iana","compressible":true},"application/vnd.nebumind.line":{"source":"iana"},"application/vnd.nervana":{"source":"iana"},"application/vnd.netfpx":{"source":"iana"},"application/vnd.neurolanguage.nlu":{"source":"iana","extensions":["nlu"]},"application/vnd.nimn":{"source":"iana"},"application/vnd.nintendo.nitro.rom":{"source":"iana"},"application/vnd.nintendo.snes.rom":{"source":"iana"},"application/vnd.nitf":{"source":"iana","extensions":["ntf","nitf"]},"application/vnd.noblenet-directory":{"source":"iana","extensions":["nnd"]},"application/vnd.noblenet-sealer":{"source":"iana","extensions":["nns"]},"application/vnd.noblenet-web":{"source":"iana","extensions":["nnw"]},"application/vnd.nokia.catalogs":{"source":"iana"},"application/vnd.nokia.conml+wbxml":{"source":"iana"},"application/vnd.nokia.conml+xml":{"source":"iana","compressible":true},"application/vnd.nokia.iptv.config+xml":{"source":"iana","compressible":true},"application/vnd.nokia.isds-radio-presets":{"source":"iana"},"application/vnd.nokia.landmark+wbxml":{"source":"iana"},"application/vnd.nokia.landmark+xml":{"source":"iana","compressible":true},"application/vnd.nokia.landmarkcollection+xml":{"source":"iana","compressible":true},"application/vnd.nokia.n-gage.ac+xml":{"source":"iana","compressible":true,"extensions":["ac"]},"application/vnd.nokia.n-gage.data":{"source":"iana","extensions":["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{"source":"iana","extensions":["n-gage"]},"application/vnd.nokia.ncd":{"source":"iana"},"application/vnd.nokia.pcd+wbxml":{"source":"iana"},"application/vnd.nokia.pcd+xml":{"source":"iana","compressible":true},"application/vnd.nokia.radio-preset":{"source":"iana","extensions":["rpst"]},"application/vnd.nokia.radio-presets":{"source":"iana","extensions":["rpss"]},"application/vnd.novadigm.edm":{"source":"iana","extensions":["edm"]},"application/vnd.novadigm.edx":{"source":"iana","extensions":["edx"]},"application/vnd.novadigm.ext":{"source":"iana","extensions":["ext"]},"application/vnd.ntt-local.content-share":{"source":"iana"},"application/vnd.ntt-local.file-transfer":{"source":"iana"},"application/vnd.ntt-local.ogw_remote-access":{"source":"iana"},"application/vnd.ntt-local.sip-ta_remote":{"source":"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{"source":"iana"},"application/vnd.oasis.opendocument.chart":{"source":"iana","extensions":["odc"]},"application/vnd.oasis.opendocument.chart-template":{"source":"iana","extensions":["otc"]},"application/vnd.oasis.opendocument.database":{"source":"iana","extensions":["odb"]},"application/vnd.oasis.opendocument.formula":{"source":"iana","extensions":["odf"]},"application/vnd.oasis.opendocument.formula-template":{"source":"iana","extensions":["odft"]},"application/vnd.oasis.opendocument.graphics":{"source":"iana","compressible":false,"extensions":["odg"]},"application/vnd.oasis.opendocument.graphics-template":{"source":"iana","extensions":["otg"]},"application/vnd.oasis.opendocument.image":{"source":"iana","extensions":["odi"]},"application/vnd.oasis.opendocument.image-template":{"source":"iana","extensions":["oti"]},"application/vnd.oasis.opendocument.presentation":{"source":"iana","compressible":false,"extensions":["odp"]},"application/vnd.oasis.opendocument.presentation-template":{"source":"iana","extensions":["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{"source":"iana","compressible":false,"extensions":["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{"source":"iana","extensions":["ots"]},"application/vnd.oasis.opendocument.text":{"source":"iana","compressible":false,"extensions":["odt"]},"application/vnd.oasis.opendocument.text-master":{"source":"iana","extensions":["odm"]},"application/vnd.oasis.opendocument.text-template":{"source":"iana","extensions":["ott"]},"application/vnd.oasis.opendocument.text-web":{"source":"iana","extensions":["oth"]},"application/vnd.obn":{"source":"iana"},"application/vnd.ocf+cbor":{"source":"iana"},"application/vnd.oci.image.manifest.v1+json":{"source":"iana","compressible":true},"application/vnd.oftn.l10n+json":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessdownload+xml":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessstreaming+xml":{"source":"iana","compressible":true},"application/vnd.oipf.cspg-hexbinary":{"source":"iana"},"application/vnd.oipf.dae.svg+xml":{"source":"iana","compressible":true},"application/vnd.oipf.dae.xhtml+xml":{"source":"iana","compressible":true},"application/vnd.oipf.mippvcontrolmessage+xml":{"source":"iana","compressible":true},"application/vnd.oipf.pae.gem":{"source":"iana"},"application/vnd.oipf.spdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.oipf.spdlist+xml":{"source":"iana","compressible":true},"application/vnd.oipf.ueprofile+xml":{"source":"iana","compressible":true},"application/vnd.oipf.userprofile+xml":{"source":"iana","compressible":true},"application/vnd.olpc-sugar":{"source":"iana","extensions":["xo"]},"application/vnd.oma-scws-config":{"source":"iana"},"application/vnd.oma-scws-http-request":{"source":"iana"},"application/vnd.oma-scws-http-response":{"source":"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.drm-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.imd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.ltkm":{"source":"iana"},"application/vnd.oma.bcast.notification+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.provisioningtrigger":{"source":"iana"},"application/vnd.oma.bcast.sgboot":{"source":"iana"},"application/vnd.oma.bcast.sgdd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sgdu":{"source":"iana"},"application/vnd.oma.bcast.simple-symbol-container":{"source":"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sprov+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.stkm":{"source":"iana"},"application/vnd.oma.cab-address-book+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-feature-handler+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-pcc+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-subs-invite+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-user-prefs+xml":{"source":"iana","compressible":true},"application/vnd.oma.dcd":{"source":"iana"},"application/vnd.oma.dcdc":{"source":"iana"},"application/vnd.oma.dd2+xml":{"source":"iana","compressible":true,"extensions":["dd2"]},"application/vnd.oma.drm.risd+xml":{"source":"iana","compressible":true},"application/vnd.oma.group-usage-list+xml":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+cbor":{"source":"iana"},"application/vnd.oma.lwm2m+json":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+tlv":{"source":"iana"},"application/vnd.oma.pal+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.detailed-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.final-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.groups+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.invocation-descriptor+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.optimized-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.push":{"source":"iana"},"application/vnd.oma.scidm.messages+xml":{"source":"iana","compressible":true},"application/vnd.oma.xcap-directory+xml":{"source":"iana","compressible":true},"application/vnd.omads-email+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-file+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-folder+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omaloc-supl-init":{"source":"iana"},"application/vnd.onepager":{"source":"iana"},"application/vnd.onepagertamp":{"source":"iana"},"application/vnd.onepagertamx":{"source":"iana"},"application/vnd.onepagertat":{"source":"iana"},"application/vnd.onepagertatp":{"source":"iana"},"application/vnd.onepagertatx":{"source":"iana"},"application/vnd.openblox.game+xml":{"source":"iana","compressible":true,"extensions":["obgx"]},"application/vnd.openblox.game-binary":{"source":"iana"},"application/vnd.openeye.oeb":{"source":"iana"},"application/vnd.openofficeorg.extension":{"source":"apache","extensions":["oxt"]},"application/vnd.openstreetmap.data+xml":{"source":"iana","compressible":true,"extensions":["osm"]},"application/vnd.opentimestamps.ots":{"source":"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawing+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{"source":"iana","compressible":false,"extensions":["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slide":{"source":"iana","extensions":["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{"source":"iana","extensions":["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.template":{"source":"iana","extensions":["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{"source":"iana","compressible":false,"extensions":["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{"source":"iana","extensions":["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.theme+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.vmldrawing":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{"source":"iana","compressible":false,"extensions":["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{"source":"iana","extensions":["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.core-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.relationships+xml":{"source":"iana","compressible":true},"application/vnd.oracle.resource+json":{"source":"iana","compressible":true},"application/vnd.orange.indata":{"source":"iana"},"application/vnd.osa.netdeploy":{"source":"iana"},"application/vnd.osgeo.mapguide.package":{"source":"iana","extensions":["mgp"]},"application/vnd.osgi.bundle":{"source":"iana"},"application/vnd.osgi.dp":{"source":"iana","extensions":["dp"]},"application/vnd.osgi.subsystem":{"source":"iana","extensions":["esa"]},"application/vnd.otps.ct-kip+xml":{"source":"iana","compressible":true},"application/vnd.oxli.countgraph":{"source":"iana"},"application/vnd.pagerduty+json":{"source":"iana","compressible":true},"application/vnd.palm":{"source":"iana","extensions":["pdb","pqa","oprc"]},"application/vnd.panoply":{"source":"iana"},"application/vnd.paos.xml":{"source":"iana"},"application/vnd.patentdive":{"source":"iana"},"application/vnd.patientecommsdoc":{"source":"iana"},"application/vnd.pawaafile":{"source":"iana","extensions":["paw"]},"application/vnd.pcos":{"source":"iana"},"application/vnd.pg.format":{"source":"iana","extensions":["str"]},"application/vnd.pg.osasli":{"source":"iana","extensions":["ei6"]},"application/vnd.piaccess.application-licence":{"source":"iana"},"application/vnd.picsel":{"source":"iana","extensions":["efif"]},"application/vnd.pmi.widget":{"source":"iana","extensions":["wg"]},"application/vnd.poc.group-advertisement+xml":{"source":"iana","compressible":true},"application/vnd.pocketlearn":{"source":"iana","extensions":["plf"]},"application/vnd.powerbuilder6":{"source":"iana","extensions":["pbd"]},"application/vnd.powerbuilder6-s":{"source":"iana"},"application/vnd.powerbuilder7":{"source":"iana"},"application/vnd.powerbuilder7-s":{"source":"iana"},"application/vnd.powerbuilder75":{"source":"iana"},"application/vnd.powerbuilder75-s":{"source":"iana"},"application/vnd.preminet":{"source":"iana"},"application/vnd.previewsystems.box":{"source":"iana","extensions":["box"]},"application/vnd.proteus.magazine":{"source":"iana","extensions":["mgz"]},"application/vnd.psfs":{"source":"iana"},"application/vnd.publishare-delta-tree":{"source":"iana","extensions":["qps"]},"application/vnd.pvi.ptid1":{"source":"iana","extensions":["ptid"]},"application/vnd.pwg-multiplexed":{"source":"iana"},"application/vnd.pwg-xhtml-print+xml":{"source":"iana","compressible":true},"application/vnd.qualcomm.brew-app-res":{"source":"iana"},"application/vnd.quarantainenet":{"source":"iana"},"application/vnd.quark.quarkxpress":{"source":"iana","extensions":["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{"source":"iana"},"application/vnd.radisys.moml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conn+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-stream+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-base+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-detect+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-group+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-speech+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-transform+xml":{"source":"iana","compressible":true},"application/vnd.rainstor.data":{"source":"iana"},"application/vnd.rapid":{"source":"iana"},"application/vnd.rar":{"source":"iana","extensions":["rar"]},"application/vnd.realvnc.bed":{"source":"iana","extensions":["bed"]},"application/vnd.recordare.musicxml":{"source":"iana","extensions":["mxl"]},"application/vnd.recordare.musicxml+xml":{"source":"iana","compressible":true,"extensions":["musicxml"]},"application/vnd.renlearn.rlprint":{"source":"iana"},"application/vnd.resilient.logic":{"source":"iana"},"application/vnd.restful+json":{"source":"iana","compressible":true},"application/vnd.rig.cryptonote":{"source":"iana","extensions":["cryptonote"]},"application/vnd.rim.cod":{"source":"apache","extensions":["cod"]},"application/vnd.rn-realmedia":{"source":"apache","extensions":["rm"]},"application/vnd.rn-realmedia-vbr":{"source":"apache","extensions":["rmvb"]},"application/vnd.route66.link66+xml":{"source":"iana","compressible":true,"extensions":["link66"]},"application/vnd.rs-274x":{"source":"iana"},"application/vnd.ruckus.download":{"source":"iana"},"application/vnd.s3sms":{"source":"iana"},"application/vnd.sailingtracker.track":{"source":"iana","extensions":["st"]},"application/vnd.sar":{"source":"iana"},"application/vnd.sbm.cid":{"source":"iana"},"application/vnd.sbm.mid2":{"source":"iana"},"application/vnd.scribus":{"source":"iana"},"application/vnd.sealed.3df":{"source":"iana"},"application/vnd.sealed.csf":{"source":"iana"},"application/vnd.sealed.doc":{"source":"iana"},"application/vnd.sealed.eml":{"source":"iana"},"application/vnd.sealed.mht":{"source":"iana"},"application/vnd.sealed.net":{"source":"iana"},"application/vnd.sealed.ppt":{"source":"iana"},"application/vnd.sealed.tiff":{"source":"iana"},"application/vnd.sealed.xls":{"source":"iana"},"application/vnd.sealedmedia.softseal.html":{"source":"iana"},"application/vnd.sealedmedia.softseal.pdf":{"source":"iana"},"application/vnd.seemail":{"source":"iana","extensions":["see"]},"application/vnd.seis+json":{"source":"iana","compressible":true},"application/vnd.sema":{"source":"iana","extensions":["sema"]},"application/vnd.semd":{"source":"iana","extensions":["semd"]},"application/vnd.semf":{"source":"iana","extensions":["semf"]},"application/vnd.shade-save-file":{"source":"iana"},"application/vnd.shana.informed.formdata":{"source":"iana","extensions":["ifm"]},"application/vnd.shana.informed.formtemplate":{"source":"iana","extensions":["itp"]},"application/vnd.shana.informed.interchange":{"source":"iana","extensions":["iif"]},"application/vnd.shana.informed.package":{"source":"iana","extensions":["ipk"]},"application/vnd.shootproof+json":{"source":"iana","compressible":true},"application/vnd.shopkick+json":{"source":"iana","compressible":true},"application/vnd.shp":{"source":"iana"},"application/vnd.shx":{"source":"iana"},"application/vnd.sigrok.session":{"source":"iana"},"application/vnd.simtech-mindmapper":{"source":"iana","extensions":["twd","twds"]},"application/vnd.siren+json":{"source":"iana","compressible":true},"application/vnd.smaf":{"source":"iana","extensions":["mmf"]},"application/vnd.smart.notebook":{"source":"iana"},"application/vnd.smart.teacher":{"source":"iana","extensions":["teacher"]},"application/vnd.snesdev-page-table":{"source":"iana"},"application/vnd.software602.filler.form+xml":{"source":"iana","compressible":true,"extensions":["fo"]},"application/vnd.software602.filler.form-xml-zip":{"source":"iana"},"application/vnd.solent.sdkm+xml":{"source":"iana","compressible":true,"extensions":["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{"source":"iana","extensions":["dxp"]},"application/vnd.spotfire.sfs":{"source":"iana","extensions":["sfs"]},"application/vnd.sqlite3":{"source":"iana"},"application/vnd.sss-cod":{"source":"iana"},"application/vnd.sss-dtf":{"source":"iana"},"application/vnd.sss-ntf":{"source":"iana"},"application/vnd.stardivision.calc":{"source":"apache","extensions":["sdc"]},"application/vnd.stardivision.draw":{"source":"apache","extensions":["sda"]},"application/vnd.stardivision.impress":{"source":"apache","extensions":["sdd"]},"application/vnd.stardivision.math":{"source":"apache","extensions":["smf"]},"application/vnd.stardivision.writer":{"source":"apache","extensions":["sdw","vor"]},"application/vnd.stardivision.writer-global":{"source":"apache","extensions":["sgl"]},"application/vnd.stepmania.package":{"source":"iana","extensions":["smzip"]},"application/vnd.stepmania.stepchart":{"source":"iana","extensions":["sm"]},"application/vnd.street-stream":{"source":"iana"},"application/vnd.sun.wadl+xml":{"source":"iana","compressible":true,"extensions":["wadl"]},"application/vnd.sun.xml.calc":{"source":"apache","extensions":["sxc"]},"application/vnd.sun.xml.calc.template":{"source":"apache","extensions":["stc"]},"application/vnd.sun.xml.draw":{"source":"apache","extensions":["sxd"]},"application/vnd.sun.xml.draw.template":{"source":"apache","extensions":["std"]},"application/vnd.sun.xml.impress":{"source":"apache","extensions":["sxi"]},"application/vnd.sun.xml.impress.template":{"source":"apache","extensions":["sti"]},"application/vnd.sun.xml.math":{"source":"apache","extensions":["sxm"]},"application/vnd.sun.xml.writer":{"source":"apache","extensions":["sxw"]},"application/vnd.sun.xml.writer.global":{"source":"apache","extensions":["sxg"]},"application/vnd.sun.xml.writer.template":{"source":"apache","extensions":["stw"]},"application/vnd.sus-calendar":{"source":"iana","extensions":["sus","susp"]},"application/vnd.svd":{"source":"iana","extensions":["svd"]},"application/vnd.swiftview-ics":{"source":"iana"},"application/vnd.sycle+xml":{"source":"iana","compressible":true},"application/vnd.syft+json":{"source":"iana","compressible":true},"application/vnd.symbian.install":{"source":"apache","extensions":["sis","sisx"]},"application/vnd.syncml+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xsm"]},"application/vnd.syncml.dm+wbxml":{"source":"iana","charset":"UTF-8","extensions":["bdm"]},"application/vnd.syncml.dm+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xdm"]},"application/vnd.syncml.dm.notification":{"source":"iana"},"application/vnd.syncml.dmddf+wbxml":{"source":"iana"},"application/vnd.syncml.dmddf+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{"source":"iana"},"application/vnd.syncml.dmtnds+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.syncml.ds.notification":{"source":"iana"},"application/vnd.tableschema+json":{"source":"iana","compressible":true},"application/vnd.tao.intent-module-archive":{"source":"iana","extensions":["tao"]},"application/vnd.tcpdump.pcap":{"source":"iana","extensions":["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{"source":"iana","compressible":true},"application/vnd.tmd.mediaflex.api+xml":{"source":"iana","compressible":true},"application/vnd.tml":{"source":"iana"},"application/vnd.tmobile-livetv":{"source":"iana","extensions":["tmo"]},"application/vnd.tri.onesource":{"source":"iana"},"application/vnd.trid.tpt":{"source":"iana","extensions":["tpt"]},"application/vnd.triscape.mxs":{"source":"iana","extensions":["mxs"]},"application/vnd.trueapp":{"source":"iana","extensions":["tra"]},"application/vnd.truedoc":{"source":"iana"},"application/vnd.ubisoft.webplayer":{"source":"iana"},"application/vnd.ufdl":{"source":"iana","extensions":["ufd","ufdl"]},"application/vnd.uiq.theme":{"source":"iana","extensions":["utz"]},"application/vnd.umajin":{"source":"iana","extensions":["umj"]},"application/vnd.unity":{"source":"iana","extensions":["unityweb"]},"application/vnd.uoml+xml":{"source":"iana","compressible":true,"extensions":["uoml"]},"application/vnd.uplanet.alert":{"source":"iana"},"application/vnd.uplanet.alert-wbxml":{"source":"iana"},"application/vnd.uplanet.bearer-choice":{"source":"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{"source":"iana"},"application/vnd.uplanet.cacheop":{"source":"iana"},"application/vnd.uplanet.cacheop-wbxml":{"source":"iana"},"application/vnd.uplanet.channel":{"source":"iana"},"application/vnd.uplanet.channel-wbxml":{"source":"iana"},"application/vnd.uplanet.list":{"source":"iana"},"application/vnd.uplanet.list-wbxml":{"source":"iana"},"application/vnd.uplanet.listcmd":{"source":"iana"},"application/vnd.uplanet.listcmd-wbxml":{"source":"iana"},"application/vnd.uplanet.signal":{"source":"iana"},"application/vnd.uri-map":{"source":"iana"},"application/vnd.valve.source.material":{"source":"iana"},"application/vnd.vcx":{"source":"iana","extensions":["vcx"]},"application/vnd.vd-study":{"source":"iana"},"application/vnd.vectorworks":{"source":"iana"},"application/vnd.vel+json":{"source":"iana","compressible":true},"application/vnd.verimatrix.vcas":{"source":"iana"},"application/vnd.veritone.aion+json":{"source":"iana","compressible":true},"application/vnd.veryant.thin":{"source":"iana"},"application/vnd.ves.encrypted":{"source":"iana"},"application/vnd.vidsoft.vidconference":{"source":"iana"},"application/vnd.visio":{"source":"iana","extensions":["vsd","vst","vss","vsw"]},"application/vnd.visionary":{"source":"iana","extensions":["vis"]},"application/vnd.vividence.scriptfile":{"source":"iana"},"application/vnd.vsf":{"source":"iana","extensions":["vsf"]},"application/vnd.wap.sic":{"source":"iana"},"application/vnd.wap.slc":{"source":"iana"},"application/vnd.wap.wbxml":{"source":"iana","charset":"UTF-8","extensions":["wbxml"]},"application/vnd.wap.wmlc":{"source":"iana","extensions":["wmlc"]},"application/vnd.wap.wmlscriptc":{"source":"iana","extensions":["wmlsc"]},"application/vnd.webturbo":{"source":"iana","extensions":["wtb"]},"application/vnd.wfa.dpp":{"source":"iana"},"application/vnd.wfa.p2p":{"source":"iana"},"application/vnd.wfa.wsc":{"source":"iana"},"application/vnd.windows.devicepairing":{"source":"iana"},"application/vnd.wmc":{"source":"iana"},"application/vnd.wmf.bootstrap":{"source":"iana"},"application/vnd.wolfram.mathematica":{"source":"iana"},"application/vnd.wolfram.mathematica.package":{"source":"iana"},"application/vnd.wolfram.player":{"source":"iana","extensions":["nbp"]},"application/vnd.wordperfect":{"source":"iana","extensions":["wpd"]},"application/vnd.wqd":{"source":"iana","extensions":["wqd"]},"application/vnd.wrq-hp3000-labelled":{"source":"iana"},"application/vnd.wt.stf":{"source":"iana","extensions":["stf"]},"application/vnd.wv.csp+wbxml":{"source":"iana"},"application/vnd.wv.csp+xml":{"source":"iana","compressible":true},"application/vnd.wv.ssp+xml":{"source":"iana","compressible":true},"application/vnd.xacml+json":{"source":"iana","compressible":true},"application/vnd.xara":{"source":"iana","extensions":["xar"]},"application/vnd.xfdl":{"source":"iana","extensions":["xfdl"]},"application/vnd.xfdl.webform":{"source":"iana"},"application/vnd.xmi+xml":{"source":"iana","compressible":true},"application/vnd.xmpie.cpkg":{"source":"iana"},"application/vnd.xmpie.dpkg":{"source":"iana"},"application/vnd.xmpie.plan":{"source":"iana"},"application/vnd.xmpie.ppkg":{"source":"iana"},"application/vnd.xmpie.xlim":{"source":"iana"},"application/vnd.yamaha.hv-dic":{"source":"iana","extensions":["hvd"]},"application/vnd.yamaha.hv-script":{"source":"iana","extensions":["hvs"]},"application/vnd.yamaha.hv-voice":{"source":"iana","extensions":["hvp"]},"application/vnd.yamaha.openscoreformat":{"source":"iana","extensions":["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{"source":"iana","compressible":true,"extensions":["osfpvg"]},"application/vnd.yamaha.remote-setup":{"source":"iana"},"application/vnd.yamaha.smaf-audio":{"source":"iana","extensions":["saf"]},"application/vnd.yamaha.smaf-phrase":{"source":"iana","extensions":["spf"]},"application/vnd.yamaha.through-ngn":{"source":"iana"},"application/vnd.yamaha.tunnel-udpencap":{"source":"iana"},"application/vnd.yaoweme":{"source":"iana"},"application/vnd.yellowriver-custom-menu":{"source":"iana","extensions":["cmp"]},"application/vnd.youtube.yt":{"source":"iana"},"application/vnd.zul":{"source":"iana","extensions":["zir","zirz"]},"application/vnd.zzazz.deck+xml":{"source":"iana","compressible":true,"extensions":["zaz"]},"application/voicexml+xml":{"source":"iana","compressible":true,"extensions":["vxml"]},"application/voucher-cms+json":{"source":"iana","compressible":true},"application/vq-rtcpxr":{"source":"iana"},"application/wasm":{"source":"iana","compressible":true,"extensions":["wasm"]},"application/watcherinfo+xml":{"source":"iana","compressible":true,"extensions":["wif"]},"application/webpush-options+json":{"source":"iana","compressible":true},"application/whoispp-query":{"source":"iana"},"application/whoispp-response":{"source":"iana"},"application/widget":{"source":"iana","extensions":["wgt"]},"application/winhlp":{"source":"apache","extensions":["hlp"]},"application/wita":{"source":"iana"},"application/wordperfect5.1":{"source":"iana"},"application/wsdl+xml":{"source":"iana","compressible":true,"extensions":["wsdl"]},"application/wspolicy+xml":{"source":"iana","compressible":true,"extensions":["wspolicy"]},"application/x-7z-compressed":{"source":"apache","compressible":false,"extensions":["7z"]},"application/x-abiword":{"source":"apache","extensions":["abw"]},"application/x-ace-compressed":{"source":"apache","extensions":["ace"]},"application/x-amf":{"source":"apache"},"application/x-apple-diskimage":{"source":"apache","extensions":["dmg"]},"application/x-arj":{"compressible":false,"extensions":["arj"]},"application/x-authorware-bin":{"source":"apache","extensions":["aab","x32","u32","vox"]},"application/x-authorware-map":{"source":"apache","extensions":["aam"]},"application/x-authorware-seg":{"source":"apache","extensions":["aas"]},"application/x-bcpio":{"source":"apache","extensions":["bcpio"]},"application/x-bdoc":{"compressible":false,"extensions":["bdoc"]},"application/x-bittorrent":{"source":"apache","extensions":["torrent"]},"application/x-blorb":{"source":"apache","extensions":["blb","blorb"]},"application/x-bzip":{"source":"apache","compressible":false,"extensions":["bz"]},"application/x-bzip2":{"source":"apache","compressible":false,"extensions":["bz2","boz"]},"application/x-cbr":{"source":"apache","extensions":["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{"source":"apache","extensions":["vcd"]},"application/x-cfs-compressed":{"source":"apache","extensions":["cfs"]},"application/x-chat":{"source":"apache","extensions":["chat"]},"application/x-chess-pgn":{"source":"apache","extensions":["pgn"]},"application/x-chrome-extension":{"extensions":["crx"]},"application/x-cocoa":{"source":"nginx","extensions":["cco"]},"application/x-compress":{"source":"apache"},"application/x-conference":{"source":"apache","extensions":["nsc"]},"application/x-cpio":{"source":"apache","extensions":["cpio"]},"application/x-csh":{"source":"apache","extensions":["csh"]},"application/x-deb":{"compressible":false},"application/x-debian-package":{"source":"apache","extensions":["deb","udeb"]},"application/x-dgc-compressed":{"source":"apache","extensions":["dgc"]},"application/x-director":{"source":"apache","extensions":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{"source":"apache","extensions":["wad"]},"application/x-dtbncx+xml":{"source":"apache","compressible":true,"extensions":["ncx"]},"application/x-dtbook+xml":{"source":"apache","compressible":true,"extensions":["dtb"]},"application/x-dtbresource+xml":{"source":"apache","compressible":true,"extensions":["res"]},"application/x-dvi":{"source":"apache","compressible":false,"extensions":["dvi"]},"application/x-envoy":{"source":"apache","extensions":["evy"]},"application/x-eva":{"source":"apache","extensions":["eva"]},"application/x-font-bdf":{"source":"apache","extensions":["bdf"]},"application/x-font-dos":{"source":"apache"},"application/x-font-framemaker":{"source":"apache"},"application/x-font-ghostscript":{"source":"apache","extensions":["gsf"]},"application/x-font-libgrx":{"source":"apache"},"application/x-font-linux-psf":{"source":"apache","extensions":["psf"]},"application/x-font-pcf":{"source":"apache","extensions":["pcf"]},"application/x-font-snf":{"source":"apache","extensions":["snf"]},"application/x-font-speedo":{"source":"apache"},"application/x-font-sunos-news":{"source":"apache"},"application/x-font-type1":{"source":"apache","extensions":["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{"source":"apache"},"application/x-freearc":{"source":"apache","extensions":["arc"]},"application/x-futuresplash":{"source":"apache","extensions":["spl"]},"application/x-gca-compressed":{"source":"apache","extensions":["gca"]},"application/x-glulx":{"source":"apache","extensions":["ulx"]},"application/x-gnumeric":{"source":"apache","extensions":["gnumeric"]},"application/x-gramps-xml":{"source":"apache","extensions":["gramps"]},"application/x-gtar":{"source":"apache","extensions":["gtar"]},"application/x-gzip":{"source":"apache"},"application/x-hdf":{"source":"apache","extensions":["hdf"]},"application/x-httpd-php":{"compressible":true,"extensions":["php"]},"application/x-install-instructions":{"source":"apache","extensions":["install"]},"application/x-iso9660-image":{"source":"apache","extensions":["iso"]},"application/x-iwork-keynote-sffkey":{"extensions":["key"]},"application/x-iwork-numbers-sffnumbers":{"extensions":["numbers"]},"application/x-iwork-pages-sffpages":{"extensions":["pages"]},"application/x-java-archive-diff":{"source":"nginx","extensions":["jardiff"]},"application/x-java-jnlp-file":{"source":"apache","compressible":false,"extensions":["jnlp"]},"application/x-javascript":{"compressible":true},"application/x-keepass2":{"extensions":["kdbx"]},"application/x-latex":{"source":"apache","compressible":false,"extensions":["latex"]},"application/x-lua-bytecode":{"extensions":["luac"]},"application/x-lzh-compressed":{"source":"apache","extensions":["lzh","lha"]},"application/x-makeself":{"source":"nginx","extensions":["run"]},"application/x-mie":{"source":"apache","extensions":["mie"]},"application/x-mobipocket-ebook":{"source":"apache","extensions":["prc","mobi"]},"application/x-mpegurl":{"compressible":false},"application/x-ms-application":{"source":"apache","extensions":["application"]},"application/x-ms-shortcut":{"source":"apache","extensions":["lnk"]},"application/x-ms-wmd":{"source":"apache","extensions":["wmd"]},"application/x-ms-wmz":{"source":"apache","extensions":["wmz"]},"application/x-ms-xbap":{"source":"apache","extensions":["xbap"]},"application/x-msaccess":{"source":"apache","extensions":["mdb"]},"application/x-msbinder":{"source":"apache","extensions":["obd"]},"application/x-mscardfile":{"source":"apache","extensions":["crd"]},"application/x-msclip":{"source":"apache","extensions":["clp"]},"application/x-msdos-program":{"extensions":["exe"]},"application/x-msdownload":{"source":"apache","extensions":["exe","dll","com","bat","msi"]},"application/x-msmediaview":{"source":"apache","extensions":["mvb","m13","m14"]},"application/x-msmetafile":{"source":"apache","extensions":["wmf","wmz","emf","emz"]},"application/x-msmoney":{"source":"apache","extensions":["mny"]},"application/x-mspublisher":{"source":"apache","extensions":["pub"]},"application/x-msschedule":{"source":"apache","extensions":["scd"]},"application/x-msterminal":{"source":"apache","extensions":["trm"]},"application/x-mswrite":{"source":"apache","extensions":["wri"]},"application/x-netcdf":{"source":"apache","extensions":["nc","cdf"]},"application/x-ns-proxy-autoconfig":{"compressible":true,"extensions":["pac"]},"application/x-nzb":{"source":"apache","extensions":["nzb"]},"application/x-perl":{"source":"nginx","extensions":["pl","pm"]},"application/x-pilot":{"source":"nginx","extensions":["prc","pdb"]},"application/x-pkcs12":{"source":"apache","compressible":false,"extensions":["p12","pfx"]},"application/x-pkcs7-certificates":{"source":"apache","extensions":["p7b","spc"]},"application/x-pkcs7-certreqresp":{"source":"apache","extensions":["p7r"]},"application/x-pki-message":{"source":"iana"},"application/x-rar-compressed":{"source":"apache","compressible":false,"extensions":["rar"]},"application/x-redhat-package-manager":{"source":"nginx","extensions":["rpm"]},"application/x-research-info-systems":{"source":"apache","extensions":["ris"]},"application/x-sea":{"source":"nginx","extensions":["sea"]},"application/x-sh":{"source":"apache","compressible":true,"extensions":["sh"]},"application/x-shar":{"source":"apache","extensions":["shar"]},"application/x-shockwave-flash":{"source":"apache","compressible":false,"extensions":["swf"]},"application/x-silverlight-app":{"source":"apache","extensions":["xap"]},"application/x-sql":{"source":"apache","extensions":["sql"]},"application/x-stuffit":{"source":"apache","compressible":false,"extensions":["sit"]},"application/x-stuffitx":{"source":"apache","extensions":["sitx"]},"application/x-subrip":{"source":"apache","extensions":["srt"]},"application/x-sv4cpio":{"source":"apache","extensions":["sv4cpio"]},"application/x-sv4crc":{"source":"apache","extensions":["sv4crc"]},"application/x-t3vm-image":{"source":"apache","extensions":["t3"]},"application/x-tads":{"source":"apache","extensions":["gam"]},"application/x-tar":{"source":"apache","compressible":true,"extensions":["tar"]},"application/x-tcl":{"source":"apache","extensions":["tcl","tk"]},"application/x-tex":{"source":"apache","extensions":["tex"]},"application/x-tex-tfm":{"source":"apache","extensions":["tfm"]},"application/x-texinfo":{"source":"apache","extensions":["texinfo","texi"]},"application/x-tgif":{"source":"apache","extensions":["obj"]},"application/x-ustar":{"source":"apache","extensions":["ustar"]},"application/x-virtualbox-hdd":{"compressible":true,"extensions":["hdd"]},"application/x-virtualbox-ova":{"compressible":true,"extensions":["ova"]},"application/x-virtualbox-ovf":{"compressible":true,"extensions":["ovf"]},"application/x-virtualbox-vbox":{"compressible":true,"extensions":["vbox"]},"application/x-virtualbox-vbox-extpack":{"compressible":false,"extensions":["vbox-extpack"]},"application/x-virtualbox-vdi":{"compressible":true,"extensions":["vdi"]},"application/x-virtualbox-vhd":{"compressible":true,"extensions":["vhd"]},"application/x-virtualbox-vmdk":{"compressible":true,"extensions":["vmdk"]},"application/x-wais-source":{"source":"apache","extensions":["src"]},"application/x-web-app-manifest+json":{"compressible":true,"extensions":["webapp"]},"application/x-www-form-urlencoded":{"source":"iana","compressible":true},"application/x-x509-ca-cert":{"source":"iana","extensions":["der","crt","pem"]},"application/x-x509-ca-ra-cert":{"source":"iana"},"application/x-x509-next-ca-cert":{"source":"iana"},"application/x-xfig":{"source":"apache","extensions":["fig"]},"application/x-xliff+xml":{"source":"apache","compressible":true,"extensions":["xlf"]},"application/x-xpinstall":{"source":"apache","compressible":false,"extensions":["xpi"]},"application/x-xz":{"source":"apache","extensions":["xz"]},"application/x-zmachine":{"source":"apache","extensions":["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{"source":"iana"},"application/xacml+xml":{"source":"iana","compressible":true},"application/xaml+xml":{"source":"apache","compressible":true,"extensions":["xaml"]},"application/xcap-att+xml":{"source":"iana","compressible":true,"extensions":["xav"]},"application/xcap-caps+xml":{"source":"iana","compressible":true,"extensions":["xca"]},"application/xcap-diff+xml":{"source":"iana","compressible":true,"extensions":["xdf"]},"application/xcap-el+xml":{"source":"iana","compressible":true,"extensions":["xel"]},"application/xcap-error+xml":{"source":"iana","compressible":true},"application/xcap-ns+xml":{"source":"iana","compressible":true,"extensions":["xns"]},"application/xcon-conference-info+xml":{"source":"iana","compressible":true},"application/xcon-conference-info-diff+xml":{"source":"iana","compressible":true},"application/xenc+xml":{"source":"iana","compressible":true,"extensions":["xenc"]},"application/xhtml+xml":{"source":"iana","compressible":true,"extensions":["xhtml","xht"]},"application/xhtml-voice+xml":{"source":"apache","compressible":true},"application/xliff+xml":{"source":"iana","compressible":true,"extensions":["xlf"]},"application/xml":{"source":"iana","compressible":true,"extensions":["xml","xsl","xsd","rng"]},"application/xml-dtd":{"source":"iana","compressible":true,"extensions":["dtd"]},"application/xml-external-parsed-entity":{"source":"iana"},"application/xml-patch+xml":{"source":"iana","compressible":true},"application/xmpp+xml":{"source":"iana","compressible":true},"application/xop+xml":{"source":"iana","compressible":true,"extensions":["xop"]},"application/xproc+xml":{"source":"apache","compressible":true,"extensions":["xpl"]},"application/xslt+xml":{"source":"iana","compressible":true,"extensions":["xsl","xslt"]},"application/xspf+xml":{"source":"apache","compressible":true,"extensions":["xspf"]},"application/xv+xml":{"source":"iana","compressible":true,"extensions":["mxml","xhvml","xvml","xvm"]},"application/yang":{"source":"iana","extensions":["yang"]},"application/yang-data+json":{"source":"iana","compressible":true},"application/yang-data+xml":{"source":"iana","compressible":true},"application/yang-patch+json":{"source":"iana","compressible":true},"application/yang-patch+xml":{"source":"iana","compressible":true},"application/yin+xml":{"source":"iana","compressible":true,"extensions":["yin"]},"application/zip":{"source":"iana","compressible":false,"extensions":["zip"]},"application/zlib":{"source":"iana"},"application/zstd":{"source":"iana"},"audio/1d-interleaved-parityfec":{"source":"iana"},"audio/32kadpcm":{"source":"iana"},"audio/3gpp":{"source":"iana","compressible":false,"extensions":["3gpp"]},"audio/3gpp2":{"source":"iana"},"audio/aac":{"source":"iana"},"audio/ac3":{"source":"iana"},"audio/adpcm":{"source":"apache","extensions":["adp"]},"audio/amr":{"source":"iana","extensions":["amr"]},"audio/amr-wb":{"source":"iana"},"audio/amr-wb+":{"source":"iana"},"audio/aptx":{"source":"iana"},"audio/asc":{"source":"iana"},"audio/atrac-advanced-lossless":{"source":"iana"},"audio/atrac-x":{"source":"iana"},"audio/atrac3":{"source":"iana"},"audio/basic":{"source":"iana","compressible":false,"extensions":["au","snd"]},"audio/bv16":{"source":"iana"},"audio/bv32":{"source":"iana"},"audio/clearmode":{"source":"iana"},"audio/cn":{"source":"iana"},"audio/dat12":{"source":"iana"},"audio/dls":{"source":"iana"},"audio/dsr-es201108":{"source":"iana"},"audio/dsr-es202050":{"source":"iana"},"audio/dsr-es202211":{"source":"iana"},"audio/dsr-es202212":{"source":"iana"},"audio/dv":{"source":"iana"},"audio/dvi4":{"source":"iana"},"audio/eac3":{"source":"iana"},"audio/encaprtp":{"source":"iana"},"audio/evrc":{"source":"iana"},"audio/evrc-qcp":{"source":"iana"},"audio/evrc0":{"source":"iana"},"audio/evrc1":{"source":"iana"},"audio/evrcb":{"source":"iana"},"audio/evrcb0":{"source":"iana"},"audio/evrcb1":{"source":"iana"},"audio/evrcnw":{"source":"iana"},"audio/evrcnw0":{"source":"iana"},"audio/evrcnw1":{"source":"iana"},"audio/evrcwb":{"source":"iana"},"audio/evrcwb0":{"source":"iana"},"audio/evrcwb1":{"source":"iana"},"audio/evs":{"source":"iana"},"audio/flexfec":{"source":"iana"},"audio/fwdred":{"source":"iana"},"audio/g711-0":{"source":"iana"},"audio/g719":{"source":"iana"},"audio/g722":{"source":"iana"},"audio/g7221":{"source":"iana"},"audio/g723":{"source":"iana"},"audio/g726-16":{"source":"iana"},"audio/g726-24":{"source":"iana"},"audio/g726-32":{"source":"iana"},"audio/g726-40":{"source":"iana"},"audio/g728":{"source":"iana"},"audio/g729":{"source":"iana"},"audio/g7291":{"source":"iana"},"audio/g729d":{"source":"iana"},"audio/g729e":{"source":"iana"},"audio/gsm":{"source":"iana"},"audio/gsm-efr":{"source":"iana"},"audio/gsm-hr-08":{"source":"iana"},"audio/ilbc":{"source":"iana"},"audio/ip-mr_v2.5":{"source":"iana"},"audio/isac":{"source":"apache"},"audio/l16":{"source":"iana"},"audio/l20":{"source":"iana"},"audio/l24":{"source":"iana","compressible":false},"audio/l8":{"source":"iana"},"audio/lpc":{"source":"iana"},"audio/melp":{"source":"iana"},"audio/melp1200":{"source":"iana"},"audio/melp2400":{"source":"iana"},"audio/melp600":{"source":"iana"},"audio/mhas":{"source":"iana"},"audio/midi":{"source":"apache","extensions":["mid","midi","kar","rmi"]},"audio/mobile-xmf":{"source":"iana","extensions":["mxmf"]},"audio/mp3":{"compressible":false,"extensions":["mp3"]},"audio/mp4":{"source":"iana","compressible":false,"extensions":["m4a","mp4a"]},"audio/mp4a-latm":{"source":"iana"},"audio/mpa":{"source":"iana"},"audio/mpa-robust":{"source":"iana"},"audio/mpeg":{"source":"iana","compressible":false,"extensions":["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{"source":"iana"},"audio/musepack":{"source":"apache"},"audio/ogg":{"source":"iana","compressible":false,"extensions":["oga","ogg","spx","opus"]},"audio/opus":{"source":"iana"},"audio/parityfec":{"source":"iana"},"audio/pcma":{"source":"iana"},"audio/pcma-wb":{"source":"iana"},"audio/pcmu":{"source":"iana"},"audio/pcmu-wb":{"source":"iana"},"audio/prs.sid":{"source":"iana"},"audio/qcelp":{"source":"iana"},"audio/raptorfec":{"source":"iana"},"audio/red":{"source":"iana"},"audio/rtp-enc-aescm128":{"source":"iana"},"audio/rtp-midi":{"source":"iana"},"audio/rtploopback":{"source":"iana"},"audio/rtx":{"source":"iana"},"audio/s3m":{"source":"apache","extensions":["s3m"]},"audio/scip":{"source":"iana"},"audio/silk":{"source":"apache","extensions":["sil"]},"audio/smv":{"source":"iana"},"audio/smv-qcp":{"source":"iana"},"audio/smv0":{"source":"iana"},"audio/sofa":{"source":"iana"},"audio/sp-midi":{"source":"iana"},"audio/speex":{"source":"iana"},"audio/t140c":{"source":"iana"},"audio/t38":{"source":"iana"},"audio/telephone-event":{"source":"iana"},"audio/tetra_acelp":{"source":"iana"},"audio/tetra_acelp_bb":{"source":"iana"},"audio/tone":{"source":"iana"},"audio/tsvcis":{"source":"iana"},"audio/uemclip":{"source":"iana"},"audio/ulpfec":{"source":"iana"},"audio/usac":{"source":"iana"},"audio/vdvi":{"source":"iana"},"audio/vmr-wb":{"source":"iana"},"audio/vnd.3gpp.iufp":{"source":"iana"},"audio/vnd.4sb":{"source":"iana"},"audio/vnd.audiokoz":{"source":"iana"},"audio/vnd.celp":{"source":"iana"},"audio/vnd.cisco.nse":{"source":"iana"},"audio/vnd.cmles.radio-events":{"source":"iana"},"audio/vnd.cns.anp1":{"source":"iana"},"audio/vnd.cns.inf1":{"source":"iana"},"audio/vnd.dece.audio":{"source":"iana","extensions":["uva","uvva"]},"audio/vnd.digital-winds":{"source":"iana","extensions":["eol"]},"audio/vnd.dlna.adts":{"source":"iana"},"audio/vnd.dolby.heaac.1":{"source":"iana"},"audio/vnd.dolby.heaac.2":{"source":"iana"},"audio/vnd.dolby.mlp":{"source":"iana"},"audio/vnd.dolby.mps":{"source":"iana"},"audio/vnd.dolby.pl2":{"source":"iana"},"audio/vnd.dolby.pl2x":{"source":"iana"},"audio/vnd.dolby.pl2z":{"source":"iana"},"audio/vnd.dolby.pulse.1":{"source":"iana"},"audio/vnd.dra":{"source":"iana","extensions":["dra"]},"audio/vnd.dts":{"source":"iana","extensions":["dts"]},"audio/vnd.dts.hd":{"source":"iana","extensions":["dtshd"]},"audio/vnd.dts.uhd":{"source":"iana"},"audio/vnd.dvb.file":{"source":"iana"},"audio/vnd.everad.plj":{"source":"iana"},"audio/vnd.hns.audio":{"source":"iana"},"audio/vnd.lucent.voice":{"source":"iana","extensions":["lvp"]},"audio/vnd.ms-playready.media.pya":{"source":"iana","extensions":["pya"]},"audio/vnd.nokia.mobile-xmf":{"source":"iana"},"audio/vnd.nortel.vbk":{"source":"iana"},"audio/vnd.nuera.ecelp4800":{"source":"iana","extensions":["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{"source":"iana","extensions":["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{"source":"iana","extensions":["ecelp9600"]},"audio/vnd.octel.sbc":{"source":"iana"},"audio/vnd.presonus.multitrack":{"source":"iana"},"audio/vnd.qcelp":{"source":"iana"},"audio/vnd.rhetorex.32kadpcm":{"source":"iana"},"audio/vnd.rip":{"source":"iana","extensions":["rip"]},"audio/vnd.rn-realaudio":{"compressible":false},"audio/vnd.sealedmedia.softseal.mpeg":{"source":"iana"},"audio/vnd.vmx.cvsd":{"source":"iana"},"audio/vnd.wave":{"compressible":false},"audio/vorbis":{"source":"iana","compressible":false},"audio/vorbis-config":{"source":"iana"},"audio/wav":{"compressible":false,"extensions":["wav"]},"audio/wave":{"compressible":false,"extensions":["wav"]},"audio/webm":{"source":"apache","compressible":false,"extensions":["weba"]},"audio/x-aac":{"source":"apache","compressible":false,"extensions":["aac"]},"audio/x-aiff":{"source":"apache","extensions":["aif","aiff","aifc"]},"audio/x-caf":{"source":"apache","compressible":false,"extensions":["caf"]},"audio/x-flac":{"source":"apache","extensions":["flac"]},"audio/x-m4a":{"source":"nginx","extensions":["m4a"]},"audio/x-matroska":{"source":"apache","extensions":["mka"]},"audio/x-mpegurl":{"source":"apache","extensions":["m3u"]},"audio/x-ms-wax":{"source":"apache","extensions":["wax"]},"audio/x-ms-wma":{"source":"apache","extensions":["wma"]},"audio/x-pn-realaudio":{"source":"apache","extensions":["ram","ra"]},"audio/x-pn-realaudio-plugin":{"source":"apache","extensions":["rmp"]},"audio/x-realaudio":{"source":"nginx","extensions":["ra"]},"audio/x-tta":{"source":"apache"},"audio/x-wav":{"source":"apache","extensions":["wav"]},"audio/xm":{"source":"apache","extensions":["xm"]},"chemical/x-cdx":{"source":"apache","extensions":["cdx"]},"chemical/x-cif":{"source":"apache","extensions":["cif"]},"chemical/x-cmdf":{"source":"apache","extensions":["cmdf"]},"chemical/x-cml":{"source":"apache","extensions":["cml"]},"chemical/x-csml":{"source":"apache","extensions":["csml"]},"chemical/x-pdb":{"source":"apache"},"chemical/x-xyz":{"source":"apache","extensions":["xyz"]},"font/collection":{"source":"iana","extensions":["ttc"]},"font/otf":{"source":"iana","compressible":true,"extensions":["otf"]},"font/sfnt":{"source":"iana"},"font/ttf":{"source":"iana","compressible":true,"extensions":["ttf"]},"font/woff":{"source":"iana","extensions":["woff"]},"font/woff2":{"source":"iana","extensions":["woff2"]},"image/aces":{"source":"iana","extensions":["exr"]},"image/apng":{"compressible":false,"extensions":["apng"]},"image/avci":{"source":"iana","extensions":["avci"]},"image/avcs":{"source":"iana","extensions":["avcs"]},"image/avif":{"source":"iana","compressible":false,"extensions":["avif"]},"image/bmp":{"source":"iana","compressible":true,"extensions":["bmp"]},"image/cgm":{"source":"iana","extensions":["cgm"]},"image/dicom-rle":{"source":"iana","extensions":["drle"]},"image/emf":{"source":"iana","extensions":["emf"]},"image/fits":{"source":"iana","extensions":["fits"]},"image/g3fax":{"source":"iana","extensions":["g3"]},"image/gif":{"source":"iana","compressible":false,"extensions":["gif"]},"image/heic":{"source":"iana","extensions":["heic"]},"image/heic-sequence":{"source":"iana","extensions":["heics"]},"image/heif":{"source":"iana","extensions":["heif"]},"image/heif-sequence":{"source":"iana","extensions":["heifs"]},"image/hej2k":{"source":"iana","extensions":["hej2"]},"image/hsj2":{"source":"iana","extensions":["hsj2"]},"image/ief":{"source":"iana","extensions":["ief"]},"image/jls":{"source":"iana","extensions":["jls"]},"image/jp2":{"source":"iana","compressible":false,"extensions":["jp2","jpg2"]},"image/jpeg":{"source":"iana","compressible":false,"extensions":["jpeg","jpg","jpe"]},"image/jph":{"source":"iana","extensions":["jph"]},"image/jphc":{"source":"iana","extensions":["jhc"]},"image/jpm":{"source":"iana","compressible":false,"extensions":["jpm"]},"image/jpx":{"source":"iana","compressible":false,"extensions":["jpx","jpf"]},"image/jxr":{"source":"iana","extensions":["jxr"]},"image/jxra":{"source":"iana","extensions":["jxra"]},"image/jxrs":{"source":"iana","extensions":["jxrs"]},"image/jxs":{"source":"iana","extensions":["jxs"]},"image/jxsc":{"source":"iana","extensions":["jxsc"]},"image/jxsi":{"source":"iana","extensions":["jxsi"]},"image/jxss":{"source":"iana","extensions":["jxss"]},"image/ktx":{"source":"iana","extensions":["ktx"]},"image/ktx2":{"source":"iana","extensions":["ktx2"]},"image/naplps":{"source":"iana"},"image/pjpeg":{"compressible":false},"image/png":{"source":"iana","compressible":false,"extensions":["png"]},"image/prs.btif":{"source":"iana","extensions":["btif"]},"image/prs.pti":{"source":"iana","extensions":["pti"]},"image/pwg-raster":{"source":"iana"},"image/sgi":{"source":"apache","extensions":["sgi"]},"image/svg+xml":{"source":"iana","compressible":true,"extensions":["svg","svgz"]},"image/t38":{"source":"iana","extensions":["t38"]},"image/tiff":{"source":"iana","compressible":false,"extensions":["tif","tiff"]},"image/tiff-fx":{"source":"iana","extensions":["tfx"]},"image/vnd.adobe.photoshop":{"source":"iana","compressible":true,"extensions":["psd"]},"image/vnd.airzip.accelerator.azv":{"source":"iana","extensions":["azv"]},"image/vnd.cns.inf2":{"source":"iana"},"image/vnd.dece.graphic":{"source":"iana","extensions":["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{"source":"iana","extensions":["djvu","djv"]},"image/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"image/vnd.dwg":{"source":"iana","extensions":["dwg"]},"image/vnd.dxf":{"source":"iana","extensions":["dxf"]},"image/vnd.fastbidsheet":{"source":"iana","extensions":["fbs"]},"image/vnd.fpx":{"source":"iana","extensions":["fpx"]},"image/vnd.fst":{"source":"iana","extensions":["fst"]},"image/vnd.fujixerox.edmics-mmr":{"source":"iana","extensions":["mmr"]},"image/vnd.fujixerox.edmics-rlc":{"source":"iana","extensions":["rlc"]},"image/vnd.globalgraphics.pgb":{"source":"iana"},"image/vnd.microsoft.icon":{"source":"iana","compressible":true,"extensions":["ico"]},"image/vnd.mix":{"source":"iana"},"image/vnd.mozilla.apng":{"source":"iana"},"image/vnd.ms-dds":{"compressible":true,"extensions":["dds"]},"image/vnd.ms-modi":{"source":"iana","extensions":["mdi"]},"image/vnd.ms-photo":{"source":"apache","extensions":["wdp"]},"image/vnd.net-fpx":{"source":"iana","extensions":["npx"]},"image/vnd.pco.b16":{"source":"iana","extensions":["b16"]},"image/vnd.radiance":{"source":"iana"},"image/vnd.sealed.png":{"source":"iana"},"image/vnd.sealedmedia.softseal.gif":{"source":"iana"},"image/vnd.sealedmedia.softseal.jpg":{"source":"iana"},"image/vnd.svf":{"source":"iana"},"image/vnd.tencent.tap":{"source":"iana","extensions":["tap"]},"image/vnd.valve.source.texture":{"source":"iana","extensions":["vtf"]},"image/vnd.wap.wbmp":{"source":"iana","extensions":["wbmp"]},"image/vnd.xiff":{"source":"iana","extensions":["xif"]},"image/vnd.zbrush.pcx":{"source":"iana","extensions":["pcx"]},"image/webp":{"source":"apache","extensions":["webp"]},"image/wmf":{"source":"iana","extensions":["wmf"]},"image/x-3ds":{"source":"apache","extensions":["3ds"]},"image/x-cmu-raster":{"source":"apache","extensions":["ras"]},"image/x-cmx":{"source":"apache","extensions":["cmx"]},"image/x-freehand":{"source":"apache","extensions":["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{"source":"apache","compressible":true,"extensions":["ico"]},"image/x-jng":{"source":"nginx","extensions":["jng"]},"image/x-mrsid-image":{"source":"apache","extensions":["sid"]},"image/x-ms-bmp":{"source":"nginx","compressible":true,"extensions":["bmp"]},"image/x-pcx":{"source":"apache","extensions":["pcx"]},"image/x-pict":{"source":"apache","extensions":["pic","pct"]},"image/x-portable-anymap":{"source":"apache","extensions":["pnm"]},"image/x-portable-bitmap":{"source":"apache","extensions":["pbm"]},"image/x-portable-graymap":{"source":"apache","extensions":["pgm"]},"image/x-portable-pixmap":{"source":"apache","extensions":["ppm"]},"image/x-rgb":{"source":"apache","extensions":["rgb"]},"image/x-tga":{"source":"apache","extensions":["tga"]},"image/x-xbitmap":{"source":"apache","extensions":["xbm"]},"image/x-xcf":{"compressible":false},"image/x-xpixmap":{"source":"apache","extensions":["xpm"]},"image/x-xwindowdump":{"source":"apache","extensions":["xwd"]},"message/cpim":{"source":"iana"},"message/delivery-status":{"source":"iana"},"message/disposition-notification":{"source":"iana","extensions":["disposition-notification"]},"message/external-body":{"source":"iana"},"message/feedback-report":{"source":"iana"},"message/global":{"source":"iana","extensions":["u8msg"]},"message/global-delivery-status":{"source":"iana","extensions":["u8dsn"]},"message/global-disposition-notification":{"source":"iana","extensions":["u8mdn"]},"message/global-headers":{"source":"iana","extensions":["u8hdr"]},"message/http":{"source":"iana","compressible":false},"message/imdn+xml":{"source":"iana","compressible":true},"message/news":{"source":"iana"},"message/partial":{"source":"iana","compressible":false},"message/rfc822":{"source":"iana","compressible":true,"extensions":["eml","mime"]},"message/s-http":{"source":"iana"},"message/sip":{"source":"iana"},"message/sipfrag":{"source":"iana"},"message/tracking-status":{"source":"iana"},"message/vnd.si.simp":{"source":"iana"},"message/vnd.wfa.wsc":{"source":"iana","extensions":["wsc"]},"model/3mf":{"source":"iana","extensions":["3mf"]},"model/e57":{"source":"iana"},"model/gltf+json":{"source":"iana","compressible":true,"extensions":["gltf"]},"model/gltf-binary":{"source":"iana","compressible":true,"extensions":["glb"]},"model/iges":{"source":"iana","compressible":false,"extensions":["igs","iges"]},"model/mesh":{"source":"iana","compressible":false,"extensions":["msh","mesh","silo"]},"model/mtl":{"source":"iana","extensions":["mtl"]},"model/obj":{"source":"iana","extensions":["obj"]},"model/step":{"source":"iana"},"model/step+xml":{"source":"iana","compressible":true,"extensions":["stpx"]},"model/step+zip":{"source":"iana","compressible":false,"extensions":["stpz"]},"model/step-xml+zip":{"source":"iana","compressible":false,"extensions":["stpxz"]},"model/stl":{"source":"iana","extensions":["stl"]},"model/vnd.collada+xml":{"source":"iana","compressible":true,"extensions":["dae"]},"model/vnd.dwf":{"source":"iana","extensions":["dwf"]},"model/vnd.flatland.3dml":{"source":"iana"},"model/vnd.gdl":{"source":"iana","extensions":["gdl"]},"model/vnd.gs-gdl":{"source":"apache"},"model/vnd.gs.gdl":{"source":"iana"},"model/vnd.gtw":{"source":"iana","extensions":["gtw"]},"model/vnd.moml+xml":{"source":"iana","compressible":true},"model/vnd.mts":{"source":"iana","extensions":["mts"]},"model/vnd.opengex":{"source":"iana","extensions":["ogex"]},"model/vnd.parasolid.transmit.binary":{"source":"iana","extensions":["x_b"]},"model/vnd.parasolid.transmit.text":{"source":"iana","extensions":["x_t"]},"model/vnd.pytha.pyox":{"source":"iana"},"model/vnd.rosette.annotated-data-model":{"source":"iana"},"model/vnd.sap.vds":{"source":"iana","extensions":["vds"]},"model/vnd.usdz+zip":{"source":"iana","compressible":false,"extensions":["usdz"]},"model/vnd.valve.source.compiled-map":{"source":"iana","extensions":["bsp"]},"model/vnd.vtu":{"source":"iana","extensions":["vtu"]},"model/vrml":{"source":"iana","compressible":false,"extensions":["wrl","vrml"]},"model/x3d+binary":{"source":"apache","compressible":false,"extensions":["x3db","x3dbz"]},"model/x3d+fastinfoset":{"source":"iana","extensions":["x3db"]},"model/x3d+vrml":{"source":"apache","compressible":false,"extensions":["x3dv","x3dvz"]},"model/x3d+xml":{"source":"iana","compressible":true,"extensions":["x3d","x3dz"]},"model/x3d-vrml":{"source":"iana","extensions":["x3dv"]},"multipart/alternative":{"source":"iana","compressible":false},"multipart/appledouble":{"source":"iana"},"multipart/byteranges":{"source":"iana"},"multipart/digest":{"source":"iana"},"multipart/encrypted":{"source":"iana","compressible":false},"multipart/form-data":{"source":"iana","compressible":false},"multipart/header-set":{"source":"iana"},"multipart/mixed":{"source":"iana"},"multipart/multilingual":{"source":"iana"},"multipart/parallel":{"source":"iana"},"multipart/related":{"source":"iana","compressible":false},"multipart/report":{"source":"iana"},"multipart/signed":{"source":"iana","compressible":false},"multipart/vnd.bint.med-plus":{"source":"iana"},"multipart/voice-message":{"source":"iana"},"multipart/x-mixed-replace":{"source":"iana"},"text/1d-interleaved-parityfec":{"source":"iana"},"text/cache-manifest":{"source":"iana","compressible":true,"extensions":["appcache","manifest"]},"text/calendar":{"source":"iana","extensions":["ics","ifb"]},"text/calender":{"compressible":true},"text/cmd":{"compressible":true},"text/coffeescript":{"extensions":["coffee","litcoffee"]},"text/cql":{"source":"iana"},"text/cql-expression":{"source":"iana"},"text/cql-identifier":{"source":"iana"},"text/css":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["css"]},"text/csv":{"source":"iana","compressible":true,"extensions":["csv"]},"text/csv-schema":{"source":"iana"},"text/directory":{"source":"iana"},"text/dns":{"source":"iana"},"text/ecmascript":{"source":"iana"},"text/encaprtp":{"source":"iana"},"text/enriched":{"source":"iana"},"text/fhirpath":{"source":"iana"},"text/flexfec":{"source":"iana"},"text/fwdred":{"source":"iana"},"text/gff3":{"source":"iana"},"text/grammar-ref-list":{"source":"iana"},"text/html":{"source":"iana","compressible":true,"extensions":["html","htm","shtml"]},"text/jade":{"extensions":["jade"]},"text/javascript":{"source":"iana","compressible":true},"text/jcr-cnd":{"source":"iana"},"text/jsx":{"compressible":true,"extensions":["jsx"]},"text/less":{"compressible":true,"extensions":["less"]},"text/markdown":{"source":"iana","compressible":true,"extensions":["markdown","md"]},"text/mathml":{"source":"nginx","extensions":["mml"]},"text/mdx":{"compressible":true,"extensions":["mdx"]},"text/mizar":{"source":"iana"},"text/n3":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["n3"]},"text/parameters":{"source":"iana","charset":"UTF-8"},"text/parityfec":{"source":"iana"},"text/plain":{"source":"iana","compressible":true,"extensions":["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{"source":"iana","charset":"UTF-8"},"text/prs.fallenstein.rst":{"source":"iana"},"text/prs.lines.tag":{"source":"iana","extensions":["dsc"]},"text/prs.prop.logic":{"source":"iana"},"text/raptorfec":{"source":"iana"},"text/red":{"source":"iana"},"text/rfc822-headers":{"source":"iana"},"text/richtext":{"source":"iana","compressible":true,"extensions":["rtx"]},"text/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"text/rtp-enc-aescm128":{"source":"iana"},"text/rtploopback":{"source":"iana"},"text/rtx":{"source":"iana"},"text/sgml":{"source":"iana","extensions":["sgml","sgm"]},"text/shaclc":{"source":"iana"},"text/shex":{"source":"iana","extensions":["shex"]},"text/slim":{"extensions":["slim","slm"]},"text/spdx":{"source":"iana","extensions":["spdx"]},"text/strings":{"source":"iana"},"text/stylus":{"extensions":["stylus","styl"]},"text/t140":{"source":"iana"},"text/tab-separated-values":{"source":"iana","compressible":true,"extensions":["tsv"]},"text/troff":{"source":"iana","extensions":["t","tr","roff","man","me","ms"]},"text/turtle":{"source":"iana","charset":"UTF-8","extensions":["ttl"]},"text/ulpfec":{"source":"iana"},"text/uri-list":{"source":"iana","compressible":true,"extensions":["uri","uris","urls"]},"text/vcard":{"source":"iana","compressible":true,"extensions":["vcard"]},"text/vnd.a":{"source":"iana"},"text/vnd.abc":{"source":"iana"},"text/vnd.ascii-art":{"source":"iana"},"text/vnd.curl":{"source":"iana","extensions":["curl"]},"text/vnd.curl.dcurl":{"source":"apache","extensions":["dcurl"]},"text/vnd.curl.mcurl":{"source":"apache","extensions":["mcurl"]},"text/vnd.curl.scurl":{"source":"apache","extensions":["scurl"]},"text/vnd.debian.copyright":{"source":"iana","charset":"UTF-8"},"text/vnd.dmclientscript":{"source":"iana"},"text/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"text/vnd.esmertec.theme-descriptor":{"source":"iana","charset":"UTF-8"},"text/vnd.familysearch.gedcom":{"source":"iana","extensions":["ged"]},"text/vnd.ficlab.flt":{"source":"iana"},"text/vnd.fly":{"source":"iana","extensions":["fly"]},"text/vnd.fmi.flexstor":{"source":"iana","extensions":["flx"]},"text/vnd.gml":{"source":"iana"},"text/vnd.graphviz":{"source":"iana","extensions":["gv"]},"text/vnd.hans":{"source":"iana"},"text/vnd.hgl":{"source":"iana"},"text/vnd.in3d.3dml":{"source":"iana","extensions":["3dml"]},"text/vnd.in3d.spot":{"source":"iana","extensions":["spot"]},"text/vnd.iptc.newsml":{"source":"iana"},"text/vnd.iptc.nitf":{"source":"iana"},"text/vnd.latex-z":{"source":"iana"},"text/vnd.motorola.reflex":{"source":"iana"},"text/vnd.ms-mediapackage":{"source":"iana"},"text/vnd.net2phone.commcenter.command":{"source":"iana"},"text/vnd.radisys.msml-basic-layout":{"source":"iana"},"text/vnd.senx.warpscript":{"source":"iana"},"text/vnd.si.uricatalogue":{"source":"iana"},"text/vnd.sosi":{"source":"iana"},"text/vnd.sun.j2me.app-descriptor":{"source":"iana","charset":"UTF-8","extensions":["jad"]},"text/vnd.trolltech.linguist":{"source":"iana","charset":"UTF-8"},"text/vnd.wap.si":{"source":"iana"},"text/vnd.wap.sl":{"source":"iana"},"text/vnd.wap.wml":{"source":"iana","extensions":["wml"]},"text/vnd.wap.wmlscript":{"source":"iana","extensions":["wmls"]},"text/vtt":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["vtt"]},"text/x-asm":{"source":"apache","extensions":["s","asm"]},"text/x-c":{"source":"apache","extensions":["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{"source":"nginx","extensions":["htc"]},"text/x-fortran":{"source":"apache","extensions":["f","for","f77","f90"]},"text/x-gwt-rpc":{"compressible":true},"text/x-handlebars-template":{"extensions":["hbs"]},"text/x-java-source":{"source":"apache","extensions":["java"]},"text/x-jquery-tmpl":{"compressible":true},"text/x-lua":{"extensions":["lua"]},"text/x-markdown":{"compressible":true,"extensions":["mkd"]},"text/x-nfo":{"source":"apache","extensions":["nfo"]},"text/x-opml":{"source":"apache","extensions":["opml"]},"text/x-org":{"compressible":true,"extensions":["org"]},"text/x-pascal":{"source":"apache","extensions":["p","pas"]},"text/x-processing":{"compressible":true,"extensions":["pde"]},"text/x-sass":{"extensions":["sass"]},"text/x-scss":{"extensions":["scss"]},"text/x-setext":{"source":"apache","extensions":["etx"]},"text/x-sfv":{"source":"apache","extensions":["sfv"]},"text/x-suse-ymp":{"compressible":true,"extensions":["ymp"]},"text/x-uuencode":{"source":"apache","extensions":["uu"]},"text/x-vcalendar":{"source":"apache","extensions":["vcs"]},"text/x-vcard":{"source":"apache","extensions":["vcf"]},"text/xml":{"source":"iana","compressible":true,"extensions":["xml"]},"text/xml-external-parsed-entity":{"source":"iana"},"text/yaml":{"compressible":true,"extensions":["yaml","yml"]},"video/1d-interleaved-parityfec":{"source":"iana"},"video/3gpp":{"source":"iana","extensions":["3gp","3gpp"]},"video/3gpp-tt":{"source":"iana"},"video/3gpp2":{"source":"iana","extensions":["3g2"]},"video/av1":{"source":"iana"},"video/bmpeg":{"source":"iana"},"video/bt656":{"source":"iana"},"video/celb":{"source":"iana"},"video/dv":{"source":"iana"},"video/encaprtp":{"source":"iana"},"video/ffv1":{"source":"iana"},"video/flexfec":{"source":"iana"},"video/h261":{"source":"iana","extensions":["h261"]},"video/h263":{"source":"iana","extensions":["h263"]},"video/h263-1998":{"source":"iana"},"video/h263-2000":{"source":"iana"},"video/h264":{"source":"iana","extensions":["h264"]},"video/h264-rcdo":{"source":"iana"},"video/h264-svc":{"source":"iana"},"video/h265":{"source":"iana"},"video/iso.segment":{"source":"iana","extensions":["m4s"]},"video/jpeg":{"source":"iana","extensions":["jpgv"]},"video/jpeg2000":{"source":"iana"},"video/jpm":{"source":"apache","extensions":["jpm","jpgm"]},"video/jxsv":{"source":"iana"},"video/mj2":{"source":"iana","extensions":["mj2","mjp2"]},"video/mp1s":{"source":"iana"},"video/mp2p":{"source":"iana"},"video/mp2t":{"source":"iana","extensions":["ts"]},"video/mp4":{"source":"iana","compressible":false,"extensions":["mp4","mp4v","mpg4"]},"video/mp4v-es":{"source":"iana"},"video/mpeg":{"source":"iana","compressible":false,"extensions":["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{"source":"iana"},"video/mpv":{"source":"iana"},"video/nv":{"source":"iana"},"video/ogg":{"source":"iana","compressible":false,"extensions":["ogv"]},"video/parityfec":{"source":"iana"},"video/pointer":{"source":"iana"},"video/quicktime":{"source":"iana","compressible":false,"extensions":["qt","mov"]},"video/raptorfec":{"source":"iana"},"video/raw":{"source":"iana"},"video/rtp-enc-aescm128":{"source":"iana"},"video/rtploopback":{"source":"iana"},"video/rtx":{"source":"iana"},"video/scip":{"source":"iana"},"video/smpte291":{"source":"iana"},"video/smpte292m":{"source":"iana"},"video/ulpfec":{"source":"iana"},"video/vc1":{"source":"iana"},"video/vc2":{"source":"iana"},"video/vnd.cctv":{"source":"iana"},"video/vnd.dece.hd":{"source":"iana","extensions":["uvh","uvvh"]},"video/vnd.dece.mobile":{"source":"iana","extensions":["uvm","uvvm"]},"video/vnd.dece.mp4":{"source":"iana"},"video/vnd.dece.pd":{"source":"iana","extensions":["uvp","uvvp"]},"video/vnd.dece.sd":{"source":"iana","extensions":["uvs","uvvs"]},"video/vnd.dece.video":{"source":"iana","extensions":["uvv","uvvv"]},"video/vnd.directv.mpeg":{"source":"iana"},"video/vnd.directv.mpeg-tts":{"source":"iana"},"video/vnd.dlna.mpeg-tts":{"source":"iana"},"video/vnd.dvb.file":{"source":"iana","extensions":["dvb"]},"video/vnd.fvt":{"source":"iana","extensions":["fvt"]},"video/vnd.hns.video":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.ttsavc":{"source":"iana"},"video/vnd.iptvforum.ttsmpeg2":{"source":"iana"},"video/vnd.motorola.video":{"source":"iana"},"video/vnd.motorola.videop":{"source":"iana"},"video/vnd.mpegurl":{"source":"iana","extensions":["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{"source":"iana","extensions":["pyv"]},"video/vnd.nokia.interleaved-multimedia":{"source":"iana"},"video/vnd.nokia.mp4vr":{"source":"iana"},"video/vnd.nokia.videovoip":{"source":"iana"},"video/vnd.objectvideo":{"source":"iana"},"video/vnd.radgamettools.bink":{"source":"iana"},"video/vnd.radgamettools.smacker":{"source":"iana"},"video/vnd.sealed.mpeg1":{"source":"iana"},"video/vnd.sealed.mpeg4":{"source":"iana"},"video/vnd.sealed.swf":{"source":"iana"},"video/vnd.sealedmedia.softseal.mov":{"source":"iana"},"video/vnd.uvvu.mp4":{"source":"iana","extensions":["uvu","uvvu"]},"video/vnd.vivo":{"source":"iana","extensions":["viv"]},"video/vnd.youtube.yt":{"source":"iana"},"video/vp8":{"source":"iana"},"video/vp9":{"source":"iana"},"video/webm":{"source":"apache","compressible":false,"extensions":["webm"]},"video/x-f4v":{"source":"apache","extensions":["f4v"]},"video/x-fli":{"source":"apache","extensions":["fli"]},"video/x-flv":{"source":"apache","compressible":false,"extensions":["flv"]},"video/x-m4v":{"source":"apache","extensions":["m4v"]},"video/x-matroska":{"source":"apache","compressible":false,"extensions":["mkv","mk3d","mks"]},"video/x-mng":{"source":"apache","extensions":["mng"]},"video/x-ms-asf":{"source":"apache","extensions":["asf","asx"]},"video/x-ms-vob":{"source":"apache","extensions":["vob"]},"video/x-ms-wm":{"source":"apache","extensions":["wm"]},"video/x-ms-wmv":{"source":"apache","compressible":false,"extensions":["wmv"]},"video/x-ms-wmx":{"source":"apache","extensions":["wmx"]},"video/x-ms-wvx":{"source":"apache","extensions":["wvx"]},"video/x-msvideo":{"source":"apache","extensions":["avi"]},"video/x-sgi-movie":{"source":"apache","extensions":["movie"]},"video/x-smv":{"source":"apache","extensions":["smv"]},"x-conference/x-cooltalk":{"source":"apache","extensions":["ice"]},"x-shader/x-fragment":{"compressible":true},"x-shader/x-vertex":{"compressible":true}}')}};var t=require("../../../webpack-runtime.js");t.C(e);var i=e=>t(t.s=e),r=t.X(0,[638,356,215,435],()=>i(42414));module.exports=r})();